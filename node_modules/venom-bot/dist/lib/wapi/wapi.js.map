{"version":3,"file":"wapi.js","mappings":";;;;;;;;;;;;;;;AAAsE;;AAE/D;AACP,SAAS,yDAAoB;AAC7B,KAAK,0DAAqB;AAC1B,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA,8BAA8B,qDAAY,CAAC,kDAAa;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC5BO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;AClBO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;AChBO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACRO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACXO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACVO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACTO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,WAAW;AAC9D;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACvBO;AACP;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACzEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;AC5NO;AACP;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACPO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACZO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACZO;AACP;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;;;;;;;;;;;;;;;AC1BO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;;AAEhB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC7EO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;AC7BO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;;;;ACvBO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;;;;;ACpD0D;;AAEnD;AACP;AACA,2BAA2B,oDAAW;AACtC,qBAAqB,yDAAgB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACzBO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;AC9BO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA,YAAY;;AAEZ;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT,MAAM;AACN;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;;;;ACxEO;AACP;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;ACPO;AACP;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACZO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACbO;AACP;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;;;;ACRO;AACP;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;ACPO;AACP;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;ACLO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;;ACjC2E;;AAE3E;AACA;AACA;AACA;AACA;AACO;AACP;AACA,IAAI,wFAA0B;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;ACjBO;AACP;AACA;;;;;;;;;;;;;;;;ACFO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACZO;AACP;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACJO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACtB2D;;AAEpD;AACP,yCAAyC,oEAAkB;AAC3D;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;ACTO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACvBO;AACP;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;ACLA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,aAAa;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,iBAAiB;AACrE;AACA;AACA;AACA;AACA,+EAA+E,MAAM,WAAW,MAAM;AACtG;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,iBAAiB;AACvE;AACA;AACA;AACA;AACA,kEAAkE,MAAM,WAAW,KAAK;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mDAAmD,gBAAgB;AACnE,qDAAqD,kBAAkB;AACvE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,iBAAiB;AAC5D;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACnMO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC7DO;AACP;AACA;AACA;;;;;;;;;;;;;;;;ACHO;AACP;AACA;AACA;AACA,sCAAsC,KAAK;AAC3C;;;;;;;;;;;;;;;;;ACLkC;;AAE3B;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA,UAAU,8CAAK;AACf;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACjEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACfO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,aAAa,sBAAsB;AACnC;AACA;AACA,aAAa,sBAAsB;AACnC;AACA;AACA;AACA;AACO;AACP,QAAQ,gEAAgE;AACxE,WAAW;AACX;;;;;;;;;;;;;;;;AClCO;AACP;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;ACLO;AACP;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAM;AACN,IAAI;AACJ;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACjDO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACNO;AACP;AACA;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;;;;;;;;;;;;;;;;ACPO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B,gBAAgB,GAAG,gBAAgB,GAAG,YAAY;AAChF;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACfO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACbO;AACP;AACA;AACA;;;;;;;;;;;;;;;;ACHO;AACP;AACA;AACA,UAAU,kDAAkD;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACO;AACP;AACA;;;;;;;;;;;;;;;;ACNO;AACP;AACA;;;;;;;;;;;;;;;;ACFO;AACP;AACA;;AAEA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;AC7BO;AACP;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFiE;AAChB;AACJ;AACc;AACR;AACa;AACC;AACnB;AACM;AACoB;AACpB;AACW;AACf;AACkB;AACD;AACX;AACjB;AACU;AACI;AACwB;AACrB;AACX;AACS;AACS;AACkB;AACjB;AACzB;AACJ;AACiB;AACV;AACgB;AACgB;AAC/B;AACiB;AACC;AACd;AACD;AACD;AAID;AACwC;AACX;AACQ;AAChC;AACc;AACA;AACX;AACX;AACE;AACJ;AACyB;AACG;AAClB;AACF;AACa;AACK;AACE;AAClB;AACF;AACQ;AACX;AACI;AACO;AACG;AACD;AACvB;AAQA;AACqB;AACN;AACI;AACM;AACN;AACQ;AACF;AACN;AACV;AACiB;AACI;AAClB;AACC;AACM;AACO;AACJ;AAO1B;AACqC;AACf;AACb;AACwB;AACtB;AACsB;AACZ;AACI;AACR;AACX;AACwB;AACE;AACf;AACO;AACU;AACjB;AACK;AACM;AACC;AACC;AACV;AACY;AACtB;AACW;AACH;AACQ;AACJ;AACG;;;;;;;;;;;;;;;;AC9H9C;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACTO;AACP;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;ACPO;AACP;AACA;AACA;;;;;;;;;;;;;;;;ACHO;AACP;AACA;AACA;;;;;;;;;;;;;;;;ACHO;AACP;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACJO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACO;AACP;AACA;AACA;;;;;;;;;;;;;;;;ACnBO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;;;;ACzBO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACRO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACbO;AACP;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACPA;AACA;AACA,WAAW,GAAG;AACd;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACdA;AACA;AACA,WAAW,GAAG;AACd;AACA;AACO;AACP;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACbO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA,WAAW,QAAQ;AACnB;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,cAAc,sCAAsC,GAAG;AACvD;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC5CO;AACP;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACpBO;AACP;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACXO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;AC7BO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;AC7BO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;AC/FO;AACP;AACA;AACA;;;;;;;;;;;;;;;;ACHO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACnBO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACLO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,MAAM;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;AChFO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACfO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,6DAA6D;;AAE7D;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,cAAc;;AAEd;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;AC3FO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,cAAc;AACd;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;;;AC/E+C;AACN;;AAElC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,qDAAY;AACtC,qBAAqB,4DAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,WAAW;AACX;AACA;AACA,WAAW;AACX,OAAO;AACP;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC/NwD;AACX;;AAE7C;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,GAAG;AACd;AACO;AACP,oBAAoB,oEAAY;AAChC,qBAAqB;AACrB;AACA;AACA;;AAEA,eAAe,0DAAW;AAC1B;;;;;;;;;;;;;;;;;;ACjB+C;AACN;;AAEzC;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;;AAEA;AACA,wBAAwB,qDAAY;AACpC;AACA;AACA,QAAQ,4DAAY;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,GAAG;AACH;;;;;;;;;;;;;;;;;ACzDuC;;AAEvC;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS,oDAAQ;AACjB;;;;;;;;;;;;;;;;ACpBO;AACP;AACA;AACA;AACA,yDAAyD,GAAG;AAC5D,eAAe,IAAI,KAAK,EAAE,IAAI,IAAI;AAClC;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;AC3EA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,OAAO;AAClB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,EAAE;AAC7D;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,+DAA+D;;AAE/D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACnJO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACjEO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACjCO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;;;;;;;;;;;;;;;AC5BO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACrJO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACnBO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;;;;;AC/E+C;AACN;AAChB;AACzB;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;;AAEhB;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B,qDAAY;AACtC,qBAAqB,4DAAY;AACjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA,YAAY;AACZ;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,OAAO;;AAEP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC7KO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACdO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACpDO;AACP;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,MAAM;AAC7D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,8BAA8B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;;;ACvL+C;AACN;;AAEzC;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB;AACO;AACP;AACA;AACA;AACA,oBAAoB,qDAAY;AAChC,IAAI,4DAAY;AAChB;AACA;AACA;AACA,yCAAyC,kBAAkB;AAC3D;AACA,KAAK;AACL,GAAG;AACH;;;;;;;;;;;;;;;;ACxBA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACO,+DAA+D;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;;;;;;;;;;;;AC9HA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;AChCA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,eAAe;AAC1B,WAAW,SAAS;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACtCA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;AChCO;AACP;AACA;;;;;;;;;;;;;;;;ACFO;AACP;AACA;;;;;;;;;;;;;;;;ACFO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,gBAAgB,GAAG,gBAAgB,GAAG,YAAY;AAClF;AACA;AACA,MAAM;AACN;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;AC5BO;AACP;AACA;AACA;;;;;;;;;;;;;;;;ACHO;AACP;AACA;AACA;;;;;;;;;;;;;;;;ACHO;AACP;AACA;AACA,IAAI;AACJ;AACA;AACA,gCAAgC;AAChC;AACA;;;;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;;ACpFO;AACP;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;ACXO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACXO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAkB,gBAAgB;AAClC;AACA;;AAEA;AACA,kCAAkC;AAClC,gCAAgC;AAChC,6BAA6B;AAC7B,oBAAoB;;AAEpB;AACA;AACA;;AAEA;AACA;AACA;;AAEA,4BAA4B;;AAE5B;AACA,0BAA0B;;AAE1B;AACA,IAAI;AACJ;;AAEA,+BAA+B;AAC/B,6BAA6B;;AAE7B;AACA,2BAA2B;;AAE3B;AACA;AACA;AACA;;;;;;;;;;;;;;;;AClDO;AACP;AACA;AACA,gDAAgD;AAChD,2BAA2B,cAAc,IAAI,gCAAgC;;AAE7E;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;;;;;;;;;;;;;;;;ACpBO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACnBO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC3BO;AACP;AACA;AACA;AACA,kBAAkB,YAAY;AAC9B;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACRkC;AAC3B;AACP;AACA,gBAAgB,mCAAK;AACrB;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNgD;AACF;AACU;AACO;AAC/B;;AAEe;AACC;AACD;;;;;;;;;;;;;;;;ACRxC;AACP;AACA;AACA;;;;;;;;;;;;;;;;ACHO;AACP;AACA;AACA,IAAI;AACJ;;;;;;;;;;;;ACJA,kCAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA,qBAAqB,cAAc;AACnC;AACA;AACA;AACA,0BAA0B,mBAAmB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,eAAe;AACrD;AACA,QAAQ;AACR,eAAe,eAAe;AAC9B;AACA;AACA,kBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,OAAO;AAC7B;AACA;AACA;AACA;AACA,8BAA8B,eAAe;AAC7C;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,eAAe;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,eAAe;AAC/C;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc;AACpC;AACA,4BAA4B,cAAc;AAC1C;AACA;AACA;AACA;AACA;AACA,wBAAwB,kBAAkB;AAC1C;AACA,gCAAgC,eAAe;AAC/C;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,cAAc;AACpC;AACA;AACA;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,eAAe;AAC1D;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA,gBAAgB,QAAQ;AACxB;AACA,kBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE,KAA0C;AAC5C,MAAM,mCAAO;AACb;AACA,OAAO;AAAA,kGAAC;AACR,MAAM,CAGc;AACpB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;AEpnCM;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;;;;;;;;;;;;;;;;AClBO;AACP;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;;;;;;;;;;;;;;;AChBO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;;;;;;;;;;;;;;;AChBO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,sDAAsD;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;;;AC7BO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;;;;;;;;;;;;;;;;ACTA;;AAEA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,kBAAkB,0BAA0B;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;;;AClFO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;;;;;;;;;;;;;;;;ACvBO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;;;;;;;;AClCO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;;;;;;;;ACtBO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjB2D;AACC;AACI;AACY;AAC5B;AACW;AACY;AACX;AACA;AACD;AACD;AACZ;;;;;;;;;;;;;;;;ACXvC;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;;AAEf;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvEqD;AACF;AACQ;AACA;AACe;AACzB;AACO;;;;;;;;;;;;;;;;;ACNL;AACnD;AACA;AACA;AACA,aAAa;AACb;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;;;;AC7BO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;;;;AC9BO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;ACfO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;;;;ACtEO;AACP;AACA;AACA;;AAEA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AChBO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACNO;AACP;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;;;;;;;;;;;;;;;AC1BA;AACA,QAAQ,eAAe,EAAE,mBAAO,CAAC,iDAAiB;AAC3C;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC,WAAW;AAC7C;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAS;AACT;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,kBAAkB,IAAI,qBAAqB;AAChE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA,8CAA8C;AAC9C;AACA;;AAEA;;AAEA;AACA;AACA,MAAM;AACN;AACA;;;AAGA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;;;;;;;;;;;;;;;;AC1RO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,IAAI,2EAA2E;AAC/E;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH;;;;;;;UCjcA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;;;;ACuHqB;AAQH;AAeG;AASE;AACsB;;AAE7C;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAqB,0DAAqB;AAC1C,WAAW,yDAAoB;AAC/B;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ,0DAAQ;AAChB;AACA;AACA;AACA;;AAEA;AACA,SAAS,yDAAoB,WAAW,yDAAoB;AAC5D;AACA,wBAAwB,yDAAoB;AAC5C;AACA,cAAc,yDAAoB,oBAAoB,0DAAqB;AAC3E;AACA;AACA;AACA;AACA;AACA,UAAU,8CAAK;AACf;AACA,CAAC;;AAED;AACA;;AAEA;AACA,gCAAgC,uDAAe;;AAE/C;AACA,8BAA8B,qDAAa;AAC3C,+BAA+B,sDAAc;AAC7C,4BAA4B,mDAAW;AACvC,yBAAyB,sDAAQ;AACjC,gCAAgC,uDAAe;AAC/C,4BAA4B,mDAAW;AACvC,kCAAkC,yDAAiB;AACnD,8BAA8B,qDAAa;AAC3C,6BAA6B,oDAAY;AACzC,mCAAmC,0DAAkB;AACrD,sBAAsB,0CAAK;AAC3B,uBAAuB,8CAAM;;AAE7B;AACA,8BAA8B,qDAAa;AAC3C,uCAAuC,8DAAsB;;AAE7D;AACA,sBAAsB,6CAAK;AAC3B,0BAA0B,iDAAS;AACnC,0BAA0B,iDAAS;AACnC,2BAA2B,kDAAU;AACrC,wBAAwB,+CAAO;AAC/B,4BAA4B,mDAAW;;AAEvC;AACA,yBAAyB,gDAAQ;AACjC,yBAAyB,gDAAQ;;AAEjC;AACA,iCAAiC,0DAAgB;AACjD,kCAAkC,2DAAiB;AACnD,qCAAqC,8DAAoB;AACzD,qCAAqC,8DAAoB;AACzD,0CAA0C,mEAAyB;AACnE,gCAAgC,yDAAe;AAC/C,kCAAkC,2DAAiB;;AAEnD,8BAA8B,qDAAa;;AAE3C;AACA,4BAA4B,mDAAW;AACvC,2BAA2B,kDAAU;AACrC,sCAAsC,6DAAqB;AAC3D,mCAAmC,0DAAkB;AACrD,2CAA2C,kEAA0B;AACrE,+BAA+B,sDAAc;AAC7C,kCAAkC,yDAAiB;AACnD,+BAA+B,sDAAc;AAC7C,mCAAmC,0DAAkB;AACrD,kCAAkC,yDAAiB;AACnD,0BAA0B,iDAAS;AACnC,oCAAoC,2DAAmB;AACvD,kCAAkC,yDAAiB;AACnD,mCAAmC,0DAAkB;AACrD,8BAA8B,qDAAa;AAC3C,iCAAiC,wDAAgB;;AAEjD;AACA,8BAA8B,qDAAa;AAC3C,qCAAqC,4DAAoB;AACzD,kCAAkC,yDAAiB;AACnD,oCAAoC,2DAAmB;AACvD,4BAA4B,mDAAW;AACvC,6BAA6B,oDAAY;AACzC,mCAAmC,0DAAkB;AACrD,+BAA+B,sDAAc;AAC7C,kCAAkC,yDAAiB;AACnD,0BAA0B,iDAAS;AACnC,wBAAwB,+CAAO;AAC/B,yBAAyB,gDAAQ;AACjC,0BAA0B,iDAAS;AACnC,4BAA4B,mDAAW;AACvC,+BAA+B,sDAAc;AAC7C,6BAA6B,oDAAY;AACzC,qCAAqC,4DAAoB;AACzD,iCAAiC,wDAAgB;AACjD,qCAAqC,4DAAoB;AACzD,gCAAgC,uDAAe;AAC/C,sBAAsB,6CAAK;AAC3B,6BAA6B,mDAAW;AACxC,qCAAqC,4DAAoB;AACzD,mCAAmC,0DAAkB;AACrD,sCAAsC,0DAAkB;AACxD,4BAA4B,mDAAW;AACvC,+BAA+B,sDAAc;AAC7C,2BAA2B,kDAAU;AACrC,8BAA8B,qDAAa;AAC3C,kCAAkC,yDAAiB;AACnD,oCAAoC,2DAAmB;AACvD,6BAA6B,oDAAY;AACzC,yBAAyB,gDAAQ;AACjC,2BAA2B,kDAAU;AACrC,kCAAkC,yDAAiB;AACnD,oCAAoC,2DAAmB;AACvD,gCAAgC,uDAAe;AAC/C,mCAAmC,0DAAkB;AACrD,mCAAmC,0DAAkB;AACrD,8BAA8B,qDAAa;AAC3C,4BAA4B,mDAAW;AACvC,gCAAgC,uDAAe;;AAE/C;AACA,6BAA6B,oDAAY;AACzC,+BAA+B,sDAAc;AAC7C,6BAA6B,oDAAY;;AAEzC;AACA,+BAA+B,sDAAc;AAC7C,8BAA8B,qDAAa;AAC3C,2BAA2B,kDAAU;AACrC,4BAA4B,mDAAW;AACvC,2BAA2B,0DAAkB;AAC7C,sCAAsC,kEAA0B;AAChE,8BAA8B,qDAAa;AAC3C,qCAAqC,4DAAoB;AACzD,wCAAwC,+DAAuB;AAC/D,6BAA6B,oDAAY;AACzC,wBAAwB,+CAAO;AAC/B,0BAA0B,iDAAS;AACnC,8BAA8B,qDAAa;AAC3C,yBAAyB,gDAAQ;AACjC,4BAA4B,mDAAW;AACvC,oCAAoC,+DAAuB;AAC3D,uCAAuC,8DAAsB;AAC7D,4CAA4C,mEAA2B;AACvE,qCAAqC,4DAAoB;AACzD,4CAA4C,mEAA2B;AACvE,oCAAoC,2DAAmB;AACvD,oCAAoC,2DAAmB;AACvD,qCAAqC,4DAAoB;AACzD,4CAA4C,mEAA2B;AACvE,kCAAkC,yDAAiB;AACnD,gCAAgC,uDAAe;AAC/C,wCAAwC,+DAAuB;AAC/D,6BAA6B,oDAAY;AACzC,8BAA8B,qDAAa;AAC3C,iCAAiC,wDAAgB;AACjD,+BAA+B,sDAAc;AAC7C,gCAAgC,uDAAe;AAC/C,4BAA4B,gDAAW;AACvC,iCAAiC,qDAAgB;AACjD,oCAAoC,wDAAmB;AACvD,4BAA4B,mDAAW;;AAEvC;AACA,wBAAwB,+CAAO;AAC/B,sBAAsB,6CAAK;AAC3B,4BAA4B,mDAAW;AACvC,2BAA2B,kDAAU;AACrC,gCAAgC,uDAAe;AAC/C,kCAAkC,iDAAY;AAC9C,6BAA6B,iDAAY;AACzC,+BAA+B,sDAAc;AAC7C,kCAAkC,yDAAiB;AACnD,yBAAyB,gDAAQ;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA,uBAAuB,8CAAM;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,EAAE,kEAAsB;AACxB;;AAEA,EAAE,8DAAkB;AACpB,EAAE,6DAAiB;AACnB,EAAE,0DAAc;;AAEhB,EAAE,6DAAiB;AACnB,EAAE,4DAAgB;AAClB,EAAE,uDAAW;;AAEb,EAAE,mEAAuB;;AAEzB,EAAE,wDAAY;AACd,EAAE,6DAAiB;AACnB,EAAE,6DAAiB;AACnB,EAAE,mEAAuB;AACzB","sources":["webpack:///./functions/add-chat-wapi.js","webpack:///./functions/add-participant.js","webpack:///./functions/archive-chat.js","webpack:///./functions/are-all-messages-loaded.js","webpack:///./functions/block-contact.js","webpack:///./functions/block-list.js","webpack:///./functions/check-beta.js","webpack:///./functions/check-id-messagem.js","webpack:///./functions/check-number-status.js","webpack:///./functions/check-send-exist.js","webpack:///./functions/clear-chat.js","webpack:///./functions/create-community.js","webpack:///./functions/create-group.js","webpack:///./functions/delete-conversation.js","webpack:///./functions/delete-messages.js","webpack:///./functions/demote-participant.js","webpack:///./functions/download-file-with-credentials.js","webpack:///./functions/download-media.js","webpack:///./functions/encrypt-and-upload-file.js","webpack:///./functions/fix-chat.js","webpack:///./functions/forward-messages.js","webpack:///./functions/get-all-chats-ids.js","webpack:///./functions/get-all-chats-with-messages.js","webpack:///./functions/get-all-chats.js","webpack:///./functions/get-all-contacts.js","webpack:///./functions/get-all-group-metadata.js","webpack:///./functions/get-all-groups.js","webpack:///./functions/get-all-messages-in-chat.js","webpack:///./functions/get-all-unread-messages.js","webpack:///./functions/get-battery-level.js","webpack:///./functions/get-chat-by-id.js","webpack:///./functions/get-chat-by-name.js","webpack:///./functions/get-chat.js","webpack:///./functions/get-chats-with-new-messages.js","webpack:///./functions/get-common-groups.js","webpack:///./functions/get-contact.js","webpack:///./functions/get-data-messages.js","webpack:///./functions/get-group-admins.js","webpack:///./functions/get-group-info-from-invite-link.js","webpack:///./functions/get-group-invite-link.js","webpack:///./functions/get-group-participant.js","webpack:///./functions/get-host.js","webpack:///./functions/get-list-mute.js","webpack:///./functions/get-me.js","webpack:///./functions/get-message-by-id.js","webpack:///./functions/get-my-contacts.js","webpack:///./functions/get-new-id.js","webpack:///./functions/get-new-message-id.js","webpack:///./functions/get-number-profile.js","webpack:///./functions/get-profile-pic-from-server.js","webpack:///./functions/get-session-token.js","webpack:///./functions/get-state-connection.js","webpack:///./functions/get-status.js","webpack:///./functions/get-unread-messages.js","webpack:///./functions/has-unread-messages.js","webpack:///./functions/index.js","webpack:///./functions/is-connected.js","webpack:///./functions/is-logged-in.js","webpack:///./functions/join-group.js","webpack:///./functions/kill-service-worker.js","webpack:///./functions/leave-group.js","webpack:///./functions/load-all-earlier-chat-messages.js","webpack:///./functions/load-and-get-all-messages-in-chat.js","webpack:///./functions/load-earlier-chat-messages.js","webpack:///./functions/load-earlier-messages-til-date.js","webpack:///./functions/logout.js","webpack:///./functions/mark-markSeen-message.js","webpack:///./functions/mark-unseen-message.js","webpack:///./functions/only-send-admin.js","webpack:///./functions/open-chat.js","webpack:///./functions/process-files.js","webpack:///./functions/process-message-object.js","webpack:///./functions/promote-participant.js","webpack:///./functions/remove-participant.js","webpack:///./functions/reply.js","webpack:///./functions/restart-service.js","webpack:///./functions/return-reply.js","webpack:///./functions/revoke-invite-link.js","webpack:///./functions/send-buttons.js","webpack:///./functions/send-chat-state.js","webpack:///./functions/send-contact-vcard-list.js","webpack:///./functions/send-contact-vcard.js","webpack:///./functions/send-file.js","webpack:///./functions/send-image-as-stricker.js","webpack:///./functions/send-image-with-product.js","webpack:///./functions/send-image.js","webpack:///./functions/send-link-preview.js","webpack:///./functions/send-list-menu.js","webpack:///./functions/send-location.js","webpack:///./functions/send-message-with-tags.js","webpack:///./functions/send-message-with-thumb.js","webpack:///./functions/send-message.js","webpack:///./functions/send-message2.js","webpack:///./functions/send-mute.js","webpack:///./functions/send-ptt.js","webpack:///./functions/send-reactions.js","webpack:///./functions/send-sticker.js","webpack:///./functions/send-type-buttons.js","webpack:///./functions/send-video-as-gif.js","webpack:///./functions/sendMessageOptions.js","webpack:///./functions/set-group-description.js","webpack:///./functions/set-group-settings.js","webpack:///./functions/set-group-title.js","webpack:///./functions/set-my-name.js","webpack:///./functions/set-my-status.js","webpack:///./functions/set-new-message.js","webpack:///./functions/set-presence-offline.js","webpack:///./functions/set-presence-online.js","webpack:///./functions/set-profile-pic.js","webpack:///./functions/simulate-status-chat.js","webpack:///./functions/theme.js","webpack:///./functions/unblock-contact.js","webpack:///./helper/array-buffer-to-base64.js","webpack:///./helper/base64-to-file.js","webpack:///./helper/filter-module.js","webpack:///./helper/filter-object.js","webpack:///./helper/generate-media-key.js","webpack:///./helper/get-file-hash.js","webpack:///./helper/index.js","webpack:///./helper/inject-config.js","webpack:///./helper/sleep.js","webpack:///./jssha/index.js","webpack:///./listeners/add-all-new-messages.js","webpack:///./listeners/add-new-messages.js","webpack:///./listeners/add-on-added-to-group.js","webpack:///./listeners/add-on-chatstate-change.js","webpack:///./listeners/add-on-live-location.js","webpack:///./listeners/add-on-new-ack.js","webpack:///./listeners/add-on-participants-change.js","webpack:///./listeners/add-on-pictumb-change.js","webpack:///./listeners/add-on-state-change.js","webpack:///./listeners/add-on-stream.js","webpack:///./listeners/add-unread-message.js","webpack:///./listeners/index.js","webpack:///./listeners/init-listeners.js","webpack:///./serializers/index.js","webpack:///./serializers/serialize-chat.js","webpack:///./serializers/serialize-contact.js","webpack:///./serializers/serialize-forcing.js","webpack:///./serializers/serialize-message.js","webpack:///./serializers/serialize-profile-pic-thumb.js","webpack:///./serializers/serialize-raw.js","webpack:///./serializers/serielize-me.js","webpack:///./store/get-store.js","webpack:///./store/store-objects.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./wapi.js"],"sourcesContent":["import { injectConfig, filterModule, filterObjects } from '../helper';\n\nexport async function addChatWapi() {\n  window[injectConfig.webpack].push([\n    [injectConfig.parasite],\n    {},\n    async function (o) {\n      let modules = [];\n      for (let idx in o.m) {\n        modules.push(o(idx));\n      }\n\n      const filterMod = await filterModule(filterObjects, modules);\n\n      filterMod.forEach((needObj) => {\n        if (needObj.yesModule) {\n          if (!window.Store[needObj.type]) {\n            window.Store[needObj.type] = needObj.yesModule;\n          }\n        }\n      });\n\n      if (Store && Store.BusinessProfile) {\n        Store.Chat._findAndParse = Store.BusinessProfile._findAndParse;\n        Store.Chat._find = Store.BusinessProfile._find;\n      }\n    }\n  ]);\n}\n","export async function addParticipant(groupId, contactsId) {\n  const chat = Store.Chat.get(groupId);\n\n  if (!Array.isArray(contactsId)) {\n    contactsId = [contactsId];\n  }\n\n  contactsId = await Promise.all(contactsId.map((c) => WAPI.sendExist(c)));\n  if (!contactsId.length) {\n    return false;\n  }\n\n  try {\n    await window.Store.Participants.addParticipants(chat, contactsId);\n    return true;\n  } catch {\n    return false;\n  }\n}\n","export async function archiveChat(idUser, type) {\n  const chat = await WAPI.sendExist(idUser);\n  if (typeof type !== 'boolean') {\n    return WAPI.scope(\n      undefined,\n      true,\n      null,\n      'Use true to archive or false to unarchive'\n    );\n  }\n  if (chat && chat.status != 404) {\n    const archive = await window.chatOptions.archiveChat(chat, type);\n    return WAPI.scope(undefined, false, archive, undefined);\n  } else {\n    return chat;\n  }\n}\n","export function areAllMessagesLoaded(id, done) {\n  const found = WAPI.getChat(id);\n  if (!found.msgs.msgLoadState.noEarlierMsgs) {\n    if (done) done(false);\n    return false;\n  }\n  if (done) done(true);\n  return true;\n}\n","export async function blockContact(_id) {\n  if (!_id) {\n    return false;\n  }\n  const __contact = window.Store.Contact.get(_id);\n  if (__contact !== undefined) {\n    await Store.Block.blockContact(__contact);\n    return true;\n  } else {\n    return false;\n  }\n}\n","export async function getBlockList() {\n  let _l = await Store.Blocklist,\n    __numbers = [];\n  if (_l !== undefined && _l._index !== undefined) {\n    for (let _n in _l._index) {\n      __numbers.push(_n);\n    }\n    return __numbers;\n  }\n  return false;\n}\n","export async function isBeta() {\n  if (\n    !window.localStorage.getItem('WASecretBundle') &&\n    !window.localStorage.getItem('WAToken1') &&\n    !window.localStorage.getItem('WAToken2')\n  ) {\n    return true;\n  }\n  return false;\n}\n","export async function checkIdMessage(chatId, idMesagem) {\n  if (typeof chatId != 'string') {\n    return WAPI.scope(\n      null,\n      true,\n      404,\n      'enter the chatId variable as an string'\n    );\n  }\n  const chat = await WAPI.sendExist(chatId);\n  if (chat && chat.status != 404) {\n    const getIdMessage = await window.Store.Msg.get(idMesagem);\n    if (!getIdMessage) {\n      return WAPI.scope(chat, true, 404, `The id ${idMesagem} does not exist!`);\n    }\n    const To = chat.id;\n    const m = { type: 'checkIdMessage' };\n    let obj = WAPI.scope(To, false, 'OK', '');\n    Object.assign(obj, m);\n    return obj;\n  } else {\n    return chat;\n  }\n}\n","export async function checkNumberStatus(id, conn = false) {\n  try {\n    const err = { error: 404 };\n    const connection =\n      window.Store &&\n      window.Store.State &&\n      window.Store.State.Socket &&\n      window.Store.State.Socket.state\n        ? window.Store.State.Socket.state\n        : '';\n    const checkType = WAPI.sendCheckType(id);\n    if (!!checkType && checkType.status === 404) {\n      Object.assign(err, {\n        text: checkType.text,\n        numberExists: null\n      });\n      throw err;\n    }\n\n    if (conn === true) {\n      if (connection !== 'CONNECTED') {\n        Object.assign(err, {\n          text: 'No connection with WhatsApp',\n          connection: connection,\n          numberExists: null\n        });\n        throw err;\n      }\n    }\n\n    const lid = await WAPI.getChat(id);\n    if (lid) {\n      return await Store.checkNumber\n        .queryWidExists(lid.id)\n        .then((result) => {\n          if (!!result && typeof result === 'object') {\n            const data = {\n              status: 200,\n              numberExists: true,\n              id: result.wid\n            };\n            return data;\n          }\n          throw Object.assign(err, {\n            connection: connection,\n            numberExists: false,\n            text: `The number does not exist`\n          });\n        })\n        .catch((err) => {\n          if (err.text) {\n            throw err;\n          }\n          throw Object.assign(err, {\n            connection: connection,\n            numberExists: false,\n            text: err\n          });\n        });\n    } else {\n      throw Object.assign(err, {\n        connection: connection,\n        numberExists: false\n      });\n    }\n  } catch (e) {\n    return {\n      status: e.error,\n      text: e.text,\n      numberExists: e.numberExists,\n      connection: e.connection\n    };\n  }\n}\n","export async function scope(id, erro, status, text = null) {\n  const me = await WAPI.getHost();\n  let e = {\n    me: me,\n    to: id,\n    erro: erro,\n    text: text,\n    status: status\n  };\n  return e;\n}\n\nexport async function getchatId(chatId) {\n  if (chatId) {\n    let to = await WAPI.getChatById(chatId);\n    if (to && typeof to === 'object') {\n      let objTo = to.lastReceivedKey;\n      if (objTo && typeof objTo === 'object') {\n        let extend = {\n          formattedName: to.contact.formattedName,\n          isBusiness: to.contact.isBusiness,\n          isMyContact: to.contact.isMyContact,\n          verifiedName: to.contact.verifiedName,\n          pushname: to.contact.pushname,\n          isOnline: to.isOnline\n        };\n        Object.assign(objTo, extend);\n        return objTo;\n      }\n    }\n  }\n  return undefined;\n}\n\nexport function sendCheckType(chatId = undefined) {\n  if (!chatId) {\n    return WAPI.scope(chatId, true, 404, 'It is necessary to pass a number!');\n  }\n  if (typeof chatId === 'string') {\n    const contact = '@c.us';\n    const broadcast = '@broadcast';\n    const grup = '@g.us';\n    if (\n      contact !== chatId.substr(-contact.length, contact.length) &&\n      broadcast !== chatId.substr(-broadcast.length, broadcast.length) &&\n      grup !== chatId.substr(-grup.length, grup.length)\n    ) {\n      return WAPI.scope(\n        chatId,\n        true,\n        404,\n        'The chat number must contain the parameters @c.us, @broadcast or @g.us. At the end of the number!'\n      );\n    }\n    if (\n      contact === chatId.substr(-contact.length, contact.length) &&\n      ((chatId.match(/(@c.us)/g) && chatId.match(/(@c.us)/g).length > 1) ||\n        !chatId.match(/^(\\d+(\\d)*@c.us)$/g))\n    ) {\n      return WAPI.scope(\n        chatId,\n        true,\n        404,\n        'incorrect parameters! Use as an example: 000000000000@c.us'\n      );\n    }\n\n    if (\n      broadcast === chatId.substr(-broadcast.length, broadcast.length) &&\n      (chatId.match(/(@broadcast)/g).length > 1 ||\n        (!chatId.match(/^(\\d+(\\d)*@broadcast)$/g) &&\n          !chatId.match(/^(status@broadcast)$/g)))\n    ) {\n      return WAPI.scope(\n        chatId,\n        true,\n        404,\n        'incorrect parameters! Use as an example: 0000000000@broadcast'\n      );\n    }\n\n    if (\n      grup === chatId.substr(-grup.length, grup.length) &&\n      ((chatId.match(/(@g.us)/g) && chatId.match(/(@g.us)/g).length > 1) ||\n        !chatId.match(/^(\\d+(-)+(\\d)|\\d+(\\d))*@g.us$/g))\n    ) {\n      return WAPI.scope(\n        chatId,\n        true,\n        404,\n        'incorrect parameters! Use as an example: 00000000-000000@g.us or 00000000000000@g.us'\n      );\n    }\n  }\n}\n\nexport async function returnChat(chatId, returnChat = true, Send = true) {\n  const checkType = WAPI.sendCheckType(chatId);\n  if (!!checkType && checkType.status === 404) {\n    return checkType;\n  }\n\n  let chat = await window.WAPI.getChat(chatId);\n  if (!chat) {\n    var idUser = new window.Store.UserConstructor(chatId, {\n      intentionallyUsePrivateConstructor: true\n    });\n    chat = await Store.Chat.find(idUser);\n  }\n\n  if (chat === undefined) {\n    const storeChat = await window.Store.Chat.find(chatId);\n    if (storeChat) {\n      chat =\n        storeChat && storeChat.id && storeChat.id._serialized\n          ? await window.WAPI.getChat(storeChat.id._serialized)\n          : undefined;\n    }\n  }\n\n  if (!chat) {\n    return WAPI.scope(chatId, true, 404);\n  }\n\n  if (Send) {\n    await window.Store.ReadSeen.sendSeen(chat, false);\n  }\n\n  if (returnChat) {\n    return chat;\n  }\n\n  return WAPI.scope(chatId, false, 200);\n}\n\nexport async function sendExist(chatId, returnChat = true, Send = true) {\n  const checkType = await WAPI.sendCheckType(chatId);\n  if (!!checkType && checkType.status === 404) {\n    return checkType;\n  }\n\n  let ck = await window.WAPI.checkNumberStatus(chatId, false);\n\n  if (\n    (ck.status === 404 &&\n      !chatId.includes('@g.us') &&\n      !chatId.includes('@broadcast')) ||\n    (ck &&\n      ck.text &&\n      typeof ck.text.includes === 'function' &&\n      ck.text.includes('XmppParsingFailure'))\n  ) {\n    return WAPI.scope(chatId, true, ck.status, 'The number does not exist');\n  }\n\n  const chatWid = new Store.WidFactory.createWid(chatId);\n\n  let chat =\n    ck && ck.id && ck.id._serialized\n      ? await window.WAPI.getChat(ck.id._serialized)\n      : undefined;\n\n  if (ck.numberExists && chat === undefined) {\n    var idUser = new window.Store.UserConstructor(chatId, {\n      intentionallyUsePrivateConstructor: true\n    });\n    chat = await Store.Chat.find(idUser);\n  }\n\n  if (!chat) {\n    const storeChat = await window.Store.Chat.find(chatWid);\n    if (storeChat) {\n      chat =\n        storeChat && storeChat.id && storeChat.id._serialized\n          ? await window.WAPI.getChat(storeChat.id._serialized)\n          : undefined;\n    }\n  }\n\n  if (!ck.numberExists && !chat.t && chat.isUser) {\n    return WAPI.scope(chatId, true, ck.status, 'The number does not exist');\n  }\n\n  if (!ck.numberExists && !chat.t && chat.isGroup) {\n    return WAPI.scope(\n      chatId,\n      true,\n      ck.status,\n      'The group number does not exist on your chat list, or it does not exist at all!'\n    );\n  }\n\n  if (\n    !ck.numberExists &&\n    !chat.t &&\n    chat.id &&\n    chat.id.user != 'status' &&\n    chat.isBroadcast\n  ) {\n    return WAPI.scope(\n      chatId,\n      true,\n      ck.status,\n      'The transmission list number does not exist on your chat list, or it does not exist at all!'\n    );\n  }\n\n  if (!chat) {\n    return WAPI.scope(chatId, true, 404);\n  }\n\n  if (Send) {\n    await window.Store.ReadSeen.sendSeen(chat, false);\n  }\n\n  if (returnChat) {\n    return chat;\n  }\n\n  return WAPI.scope(chatId, false, 200);\n}\n","export async function clearChatMessages(chatId) {\n  const chat = await Store.Chat.get(chatId);\n  if (chat) {\n    return await Store.ChatUtil.sendClear(chat, chat.lastReceivedKey, true);\n  } else {\n    return false;\n  }\n}\n","export async function createCommunity(name, desc) {\n  try {\n    const options = {\n      name: name,\n      desc: desc,\n      closed: true\n    };\n    await window.Store.SendCommunity.sendCreateCommunity(options);\n    return true;\n  } catch {\n    return false;\n  }\n}\n","export async function createGroup(name, contactsId) {\n  if (!Array.isArray(contactsId)) {\n    contactsId = [contactsId];\n  }\n\n  contactsId = await Promise.all(contactsId.map((c) => WAPI.sendExist(c)));\n  contactsId = contactsId.filter((c) => !c.erro && c.isUser);\n\n  if (!contactsId.length) {\n    return false;\n  }\n  return await window.Store.createGroup(name, undefined, undefined, contactsId);\n}\n","export function deleteConversation(chatId, done) {\n  let userId = new window.Store.UserConstructor(chatId, {\n    intentionallyUsePrivateConstructor: true\n  });\n  let conversation = WAPI.getChat(userId);\n\n  if (!conversation) {\n    if (done !== undefined) {\n      done(false);\n    }\n    return false;\n  }\n\n  window.Store.sendDelete(conversation, false)\n    .then(() => {\n      if (done !== undefined) {\n        done(true);\n      }\n    })\n    .catch(() => {\n      if (done !== undefined) {\n        done(false);\n      }\n    });\n\n  return true;\n}\n","export async function deleteMessages(chatId, messageArray) {\n  if (typeof chatId != 'string') {\n    return WAPI.scope(\n      null,\n      true,\n      404,\n      'enter the chatid variable as an string'\n    );\n  }\n  const chat = await WAPI.sendExist(chatId);\n  if (chat && chat.status != 404) {\n    if (!Array.isArray(messageArray)) {\n      return WAPI.scope(\n        chat,\n        true,\n        404,\n        'enter the message identification variable as an array'\n      );\n    }\n\n    for (let i in messageArray) {\n      if (typeof messageArray[i] === 'string') {\n        let checkID = await WAPI.checkIdMessage(chatId, messageArray[i]);\n        if (checkID.erro == true) {\n          return checkID;\n        }\n      }\n    }\n\n    let messagesToDelete = (\n      await Promise.all(\n        messageArray.map(\n          async (msgId) => await WAPI.getMessageById(msgId, null, false)\n        )\n      )\n    ).filter((x) => x);\n\n    const To = chat.id;\n    const m = { type: 'deleteMessages' };\n\n    let jobs = [\n      chat.sendRevokeMsgs(\n        messagesToDelete.filter((msg) => !msg.isSentByMe),\n        chat\n      ),\n      chat.sendDeleteMsgs(\n        messagesToDelete.filter((msg) => msg.isSentByMe),\n        chat\n      )\n    ];\n    try {\n      var result = (await Promise.all(jobs))[1];\n\n      if (result >= 0) {\n        let obj = WAPI.scope(To, false, result, '');\n        Object.assign(obj, m);\n        return obj;\n      }\n    } catch (e) {\n      let obj = WAPI.scope(\n        null,\n        true,\n        result,\n        'The message has not been deleted'\n      );\n      Object.assign(obj, m);\n      return obj;\n    }\n    let obj = WAPI.scope(To, true, result, '');\n    Object.assign(obj, m);\n    return obj;\n  } else {\n    if (!chat.erro) {\n      chat.erro = true;\n    }\n    return chat;\n  }\n}\n","export async function demoteParticipant(groupId, contactsId, done) {\n  const chat = Store.Chat.get(groupId);\n\n  if (!Array.isArray(contactsId)) {\n    contactsId = [contactsId];\n  }\n\n  contactsId = await Promise.all(contactsId.map((c) => WAPI.sendExist(c)));\n  contactsId = contactsId\n    .filter((c) => !c.erro && c.isUser)\n    .map((c) => chat.groupMetadata.participants.get(c.id))\n    .filter((c) => typeof c !== 'undefined')\n    .map((c) => c.id);\n\n  if (!contactsId.length) {\n    typeof done === 'function' && done(false);\n    return false;\n  }\n\n  await window.Store.WapQuery.demoteParticipants(chat.id, contactsId);\n\n  const participants = contactsId.map((c) =>\n    chat.groupMetadata.participants.get(c)\n  );\n\n  await window.Store.Participants.demoteParticipants(chat, participants);\n\n  typeof done === 'function' && done(true);\n  return true;\n}\n","export async function downloadFile(url) {\n  return await new Promise((resolve, reject) => {\n    let xhr = new XMLHttpRequest();\n    xhr.onload = function () {\n      if (xhr.readyState == 4) {\n        if (xhr.status == 200) {\n          let reader = new FileReader();\n          reader.readAsDataURL(xhr.response);\n          reader.onload = function (e) {\n            resolve(reader.result.substr(reader.result.indexOf(',') + 1));\n          };\n        } else {\n          console.error(xhr.statusText);\n        }\n      } else {\n        // console.log(err);\n        resolve(false);\n      }\n    };\n    xhr.open('GET', url, true);\n    xhr.responseType = 'blob';\n    xhr.send(null);\n  });\n}\n","export async function downloadMedia(messageId) {\n  const msg = await WAPI.getMessageById(messageId, null, false);\n\n  if (!msg) {\n    throw {\n      error: true,\n      code: 'message_not_found',\n      message: 'Message not found'\n    };\n  }\n  if (!msg.mediaData) {\n    throw {\n      error: true,\n      code: 'message_not_contains_media',\n      message: 'Message not contains media'\n    };\n  }\n\n  await msg.downloadMedia(true, 1);\n\n  let blob = null;\n\n  if (msg.mediaData.mediaBlob) {\n    blob = msg.mediaData.mediaBlob.forceToBlob();\n  } else if (msg.mediaData.filehash) {\n    blob = Store.BlobCache.get(msg.mediaData.filehash);\n  }\n\n  // Transform a VIDEO message to a DOCUMENT message\n  if (!blob && msg.mediaObject.type && msg.mediaObject.type === 'VIDEO') {\n    delete msg.mediaObject.type;\n    msg.type = 'document';\n    return downloadMedia(messageId);\n  }\n\n  if (!blob) {\n    throw {\n      error: true,\n      code: 'media_not_found',\n      message: 'Media not found'\n    };\n  }\n\n  return await new Promise((resolve, reject) => {\n    let reader = new FileReader();\n    reader.onloadend = function (e) {\n      resolve(reader.result);\n    };\n    reader.onabort = reject;\n    reader.onerror = reject;\n    reader.readAsDataURL(blob);\n  });\n}\n","import { generateMediaKey, getFileHash } from '../helper';\n\nexport async function encryptAndUploadFile(type, blob) {\n  try {\n    const filehash = await getFileHash(blob);\n    const mediaKey = generateMediaKey(32);\n    const controller = new AbortController();\n    const signal = controller.signal;\n    const encrypted = await window.Store.UploadUtils.encryptAndUpload({\n      blob,\n      type,\n      signal,\n      mediaKey\n    });\n    return {\n      ...encrypted,\n      clientUrl: encrypted.url,\n      filehash,\n      id: filehash,\n      uploadhash: encrypted.encFilehash,\n      mediaBlob: blob\n    };\n  } catch {\n    return false;\n  }\n}\n","export async function pinChat(chatId, type = true, notExist = false) {\n  if (typeof type != 'boolean' || typeof notExist != 'boolean') {\n    var text = 'incorrect parameter, insert a boolean true or false';\n    return WAPI.scope(chatId, true, null, text);\n  }\n  let typeFix = type ? 'pin' : 'unpin',\n    retult = void 0;\n  var chat = await WAPI.sendExist(chatId, true, notExist);\n  if (!chat.erro) {\n    var m = {\n        type: 'pinChat',\n        typefix: typeFix\n      },\n      To = await WAPI.getchatId(chat.id);\n    await Store.pinChat\n      .setPin(chat, type)\n      .then((_) => {\n        var obj = WAPI.scope(To, false, 'OK', null);\n        Object.assign(obj, m);\n        retult = obj;\n      })\n      .catch((error) => {\n        var obj = WAPI.scope(To, true, error, 'Pin Chat first');\n        Object.assign(obj, m);\n        retult = obj;\n      });\n    return retult;\n  } else {\n    return chat;\n  }\n}\n","export async function forwardMessages(chatId, messages, skipMyMessages) {\n  var chat = await WAPI.sendExist(chatId);\n\n  if (!Array.isArray(messages)) {\n    messages = [messages];\n  }\n\n  var toForward = (\n    await Promise.all(\n      messages.map(async (msg) => {\n        return await WAPI.getMessageById(msg, null, false);\n      })\n    )\n  ).filter((msg) => (skipMyMessages ? !msg.__x_isSentByMe : true));\n\n  var m = { type: 'forwardMessages' };\n\n  return new Promise(async (resolve, reject) => {\n    let newMsgId = await window.WAPI.getNewMessageId(chat.id._serialized);\n    let inChat = await WAPI.getchatId(chat.id).catch(() => {});\n    if (inChat) {\n      chat.lastReceivedKey._serialized = inChat._serialized;\n      chat.lastReceivedKey.id = inChat.id;\n    }\n    if (chat.id) {\n      await Promise.each(toForward, async (e) => {\n        if (typeof e.erro !== 'undefined' && e.erro === true) {\n          var obj = WAPI.scope(chatId, true, null, 'message not found');\n          Object.assign(obj, m);\n          reject(obj);\n          return;\n        }\n\n        let tempMsg = await Object.create(\n          chat.msgs.filter((msg) => msg.__x_isSentByMe)\n        )[0];\n        const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n        let toFor = await Object.assign(e);\n        let extend = {\n          id: newMsgId,\n          ack: 0,\n          from: fromwWid,\n          to: chat.id,\n          local: !0,\n          self: 'out',\n          t: parseInt(new Date().getTime() / 1000),\n          isNewMsg: !0,\n          isForwarded: true,\n          forwardingScore: 1,\n          multicast: true,\n          __x_isSentByMe: true\n        };\n\n        Object.assign(tempMsg, toFor);\n        Object.assign(tempMsg, extend);\n\n        return await Store.addAndSendMsgToChat(chat, tempMsg);\n      })\n        .then(async () => {\n          var obj = WAPI.scope(newMsgId, false, 200, null);\n          Object.assign(obj, m);\n          resolve(obj);\n        })\n        .catch(() => {\n          var obj = WAPI.scope(newMsgId, true, 404, null);\n          Object.assign(obj, m);\n          reject(obj);\n        });\n    } else {\n      reject(chat);\n    }\n  });\n}\n","export const getAllChatIds = function (done) {\n  const chatIds = window.Store.Chat.map(\n    (chat) => chat.id._serialized || chat.id\n  );\n\n  if (done !== undefined) done(chatIds);\n  return chatIds;\n};\n","export async function getAllChatsWithMessages(newOnly) {\n  const x = [];\n  if (newOnly) {\n    x.push(\n      WAPI.getAllChatsWithNewMsg().map((c) => WAPI.getChat(c.id._serialized))\n    );\n  } else {\n    x.push(WAPI.getAllChatIds().map((c) => WAPI.getChat(c)));\n  }\n  const _result = (await Promise.all(x)).flatMap((x) => x);\n  const result = JSON.stringify(_result);\n  return JSON.parse(result);\n}\n","export const getAllChats = async function (done) {\n  const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n  if (fromwWid) {\n    const idUser = await WAPI.sendExist(fromwWid._serialized);\n    if (idUser && idUser.status !== 404) {\n      const chats = window.Store.Chat.map((chat) =>\n        WAPI._serializeChatObj(chat)\n      );\n\n      if (done !== undefined) done(chats);\n      return chats;\n    }\n  }\n};\n","export const getAllContacts = function () {\n  const allContacts = window.Store.Contact.map((contact) =>\n    WAPI._serializeContactObj(contact)\n  );\n\n  return allContacts.filter((result) => {\n    return result.isUser === true;\n  });\n};\n","export function getAllGroupMetadata(done) {\n  const groupData = window.Store.GroupMetadata.map(\n    (groupData) => groupData.attributes\n  );\n\n  if (done !== undefined) done(groupData);\n  return groupData;\n}\n","export function getAllGroups(done) {\n  const groups = window.Store.Chat.filter((chat) => chat.isGroup);\n\n  if (done !== undefined) done(groups);\n  return groups;\n}\n","export async function getAllMessagesInChat(\n  id,\n  includeMe = true,\n  includeNotifications = true,\n  done\n) {\n  const chat = typeof id === 'string' ? await WAPI.getChat(id) : false;\n  if (\n    chat &&\n    typeof includeMe === 'boolean' &&\n    typeof includeNotifications === 'boolean'\n  ) {\n    let output = [];\n    const messages = chat.msgs._models;\n\n    for (const i in messages) {\n      if (i === 'remove') {\n        continue;\n      }\n      const messageObj = messages[i];\n\n      let message = WAPI.processMessageObj(\n        messageObj,\n        includeMe,\n        includeNotifications\n      );\n      if (message) output.push(message);\n    }\n    if (done !== undefined) done(output);\n    return output;\n  } else {\n    return await WAPI.sendExist(id);\n  }\n}\n","import { getAllChatsWithNewMessages } from './get-chats-with-new-messages';\n\n/**\n * Retrieves undread messages\n * x.ack === -1\n * TODO: Test this fn, seems incorrect, should not be async\n */\nexport const getAllUnreadMessages = async function () {\n  const _partials = JSON.stringify(\n    getAllChatsWithNewMessages()\n      .map((c) => WAPI.getChat(c.id._serialized))\n      .map((c) => c.msgs._models.filter((x) => x.ack === -1))\n      .flatMap((x) => x) || []\n  );\n\n  const partials = JSON.parse(_partials);\n  return partials;\n};\n","export function getBatteryLevel() {\n  return Store.Me && Store.Me.battery ? Store.Me.battery : undefined;\n}\n","export function getChatById(id) {\n  try {\n    if (id) {\n      let found = WAPI.getChat(id);\n      if (found) {\n        return WAPI._serializeChatObj(found);\n      }\n    }\n    throw false;\n  } catch {\n    return false;\n  }\n}\n","export function getChatByName(name, done) {\n  const found = window.Store.Chat.find((chat) => chat.name === name);\n  if (done !== undefined) done(found);\n  return found;\n}\n","export function getChat(id) {\n  if (!id) {\n    return false;\n  }\n  id = typeof id == 'string' ? id : id._serialized;\n  let found = Store.Chat.get(id);\n  if (!found) {\n    if (Store.CheckWid.validateWid(id)) {\n      const ConstructChat = new window.Store.UserConstructor(id, {\n        intentionallyUsePrivateConstructor: !0\n      });\n      found = Store.Chat.find(ConstructChat) || false;\n    }\n  }\n  if (found) {\n    found.sendMessage = found.sendMessage\n      ? found.sendMessage\n      : function () {\n          return window.Store.sendMessage.apply(this, arguments);\n        };\n  }\n  return found;\n}\n","import { hasUndreadMessages } from './has-unread-messages';\n\nexport const getAllChatsWithNewMessages = function (done) {\n  const chats = window.Store.Chat.filter(hasUndreadMessages).map((chat) =>\n    WAPI._serializeChatObj(chat)\n  );\n\n  if (done !== undefined) done(chats);\n  return chats;\n};\n","export async function getCommonGroups(participantId, done) {\n  let output = [];\n  let groups = window.WAPI.getAllGroups();\n  for (let idx in groups) {\n    try {\n      let participants = await window.WAPI.getGroupParticipant(groups[idx].id);\n      if (\n        participants.filter((participant) => participant == participantId)\n          .length\n      ) {\n        output.push(groups[idx]);\n      }\n    } catch (err) {\n      console.log('Error in group:');\n      console.log(groups[idx]);\n      console.log(err);\n    }\n  }\n\n  if (done !== undefined) {\n    done(output);\n  }\n  return output;\n}\n","export const getContact = function (id, done) {\n  const found = window.Store.Contact.get(id);\n\n  if (done !== undefined) done(window.WAPI._serializeContactObj(found));\n  return window.WAPI._serializeContactObj(found);\n};\n","/**\n * Return messages by dates!\n * @param {string} id contact number id\n * @param {string} type \n  types:\n  lowerThan: Return all messages before the date informed; \n  higherThan: Return all messages after the date informed;\n  equal: Return all messages from the informed date;\n  full: Return all messages, with two new stringdate parameters, dateNumeric;\n * @param {string} dateStart Pass the example date 00/00/0000 or 00-00-0000\n * @param {string} time Pass the example time 00:00 24 hours\n */\nexport async function getAllMessagesDate(\n  id,\n  type = 'full',\n  dateStart = undefined,\n  time = undefined,\n  limit = 10,\n  output = [],\n  idCheck = [],\n  stop = true\n) {\n  const types = ['higherThan', 'equal', 'lowerThan', 'full'];\n  if (!types.includes(type)) {\n    return WAPI.scope(\n      undefined,\n      true,\n      null,\n      `wrong type! use the types: ${types.join()}`\n    );\n  }\n\n  if (!!time && dateStart === undefined) {\n    return WAPI.scope(\n      undefined,\n      true,\n      null,\n      `it is necessary to inform the date field`\n    );\n  }\n\n  const chat = await WAPI.sendExist(id);\n  if (chat && chat.status != 404) {\n    const statusMsg = chat.msgs.msgLoadState.noEarlierMsgs;\n    if (statusMsg === false) {\n      await chat.loadEarlierMsgs();\n    }\n\n    let messages = chat.msgs._models;\n    let dateStartTimeStamp, msg;\n\n    if (time !== undefined && dateStart !== undefined) {\n      const splitTimeStart =\n        typeof time === 'string' ? time.split(/[:]/) : undefined;\n      const splitDateStart =\n        typeof dateStart === 'string' ? dateStart.split(/[-,/]/) : undefined;\n      dateStartTimeStamp = timeStampConvert(splitDateStart, splitTimeStart)\n        ? timeStampConvert(splitDateStart, splitTimeStart)\n        : false;\n      if (dateStartTimeStamp === false || isNaN(dateStartTimeStamp)) {\n        const date = new Date();\n        const year = date.toLocaleString('en-US', { year: 'numeric' });\n        return WAPI.scope(\n          undefined,\n          true,\n          null,\n          `Date and time with invalid format! use as an example: data: 01/01/${year} or 01-01-${year} Tima 01:01`\n        );\n      }\n    } else {\n      if (dateStart !== undefined) {\n        const splitDateStart =\n          typeof dateStart === 'string' ? dateStart.split(/[-,/]/) : undefined;\n        dateStartTimeStamp = timeStampConvert(splitDateStart)\n          ? timeStampConvert(splitDateStart)\n          : false;\n        if (dateStartTimeStamp === false || isNaN(dateStartTimeStamp)) {\n          const date = new Date();\n          const year = date.toLocaleString('en-US', { year: 'numeric' });\n          return WAPI.scope(\n            undefined,\n            true,\n            null,\n            `Date with invalid format! use as an example: 01/01/${year} or 01-01-${year}`\n          );\n        }\n      }\n    }\n    messages = messages.reverse();\n    for (const i in messages) {\n      if (i === 'remove') {\n        continue;\n      }\n      if (output.length < limit || limit === 0) {\n        const messageObj = messages[i];\n        const message = WAPI._serializeMessageObj(messageObj);\n        if (message.id && idCheck.includes(message.id) === true) {\n          continue;\n        }\n\n        if (type === 'higherThan') {\n          if (\n            parseInt(dateStartTimeStamp.getTime() / 1000) <= message.timestamp\n          ) {\n            msg = getMenssage(message);\n          }\n        }\n\n        if (type === 'equal') {\n          if (\n            parseInt(dateStartTimeStamp.getTime() / 1000) === message.timestamp\n          ) {\n            msg = getMenssage(message);\n          }\n        }\n\n        if (type === 'lowerThan') {\n          if (\n            parseInt(dateStartTimeStamp.getTime() / 1000) >= message.timestamp\n          ) {\n            msg = getMenssage(message);\n          }\n        }\n\n        if (type === 'full') {\n          msg = getMenssage(message);\n        }\n\n        if (msg && idCheck.includes(msg.id) === false) {\n          stop = false;\n          idCheck.push(msg.id);\n          output.push(msg);\n        }\n      }\n    }\n\n    if (statusMsg === false && stop === false && output.length < limit) {\n      return await getAllMessagesDate(\n        id,\n        type,\n        dateStart,\n        time,\n        limit,\n        output,\n        idCheck,\n        true\n      );\n    } else {\n      return output;\n    }\n  } else {\n    return chat;\n  }\n}\n\nfunction timeStampConvert(date, time) {\n  var newdate = undefined;\n  if (date !== undefined) {\n    if (time !== undefined) {\n      newdate = new Date(date[2], date[1] - 1, date[0], time[0], time[1]);\n    } else {\n      newdate = new Date(date[2], date[1] - 1, date[0]);\n    }\n    return newdate;\n  } else {\n    return false;\n  }\n}\n\nfunction getMenssage(message) {\n  const date = new Date(message.timestamp * 1000);\n  const stringdate = date.toLocaleString();\n\n  const day = '0' + date.toLocaleString('en-US', { day: 'numeric' });\n  const month = '0' + date.toLocaleString('en-US', { month: 'numeric' });\n  const minutes = '0' + date.getUTCMinutes();\n  const seconds = '0' + date.getSeconds();\n  const hours = '0' + date.getHours();\n\n  const _d = {\n    id: message.id,\n    timestamp: date.getTime(),\n    stringdate,\n    dateNumeric: {\n      day: day.substr(-2),\n      month: month.substr(-2),\n      year: date.toLocaleString('en-US', { year: 'numeric' }),\n      hours: hours.substr(-2),\n      minutes: minutes.substr(-2),\n      seconds: seconds.substr(-2)\n    },\n    type: message.type,\n    fromMe: message.fromMe\n  };\n  return Object.assign(message, _d);\n}\n","export async function getGroupAdmins(groupId) {\n  if (typeof groupId !== 'string') {\n    return WAPI.scope(undefined, true, null, 'Use to groupId string');\n  }\n  const chat = await WAPI.sendExist(groupId);\n\n  if (chat && chat.status != 404 && chat.id) {\n    const moduleGroup = await window.Store.GroupMetadata.default.models.filter(\n      (e) => e.id._serialized === groupId\n    );\n\n    const participants =\n      moduleGroup.length && moduleGroup[0].participants\n        ? moduleGroup[0].participants\n        : undefined;\n\n    if (participants) {\n      const output = participants\n        .filter((participant) => participant.isAdmin)\n        .map((participant) => {\n          return {\n            id: participant.id ? participant.id : null,\n            displayName:\n              participant.contact && participant.contact.displayName\n                ? participant.contact.displayName\n                : null,\n            mentionName:\n              participant.contact && participant.contact.mentionName\n                ? participant.contact.mentionName\n                : null,\n            notifyName:\n              participant.contact && participant.contact.notifyName\n                ? participant.contact.notifyName\n                : null,\n            isBusiness:\n              participant.contact && participant.contact.isBusiness\n                ? participant.contact.isBusiness\n                : null,\n            pushname:\n              participant.contact && participant.contact.pushname\n                ? participant.contact.pushname\n                : null,\n            isUser:\n              participant.contact && participant.contact.isUser\n                ? participant.contact.isUser\n                : null,\n            isMyContact:\n              participant.contact && participant.contact.isMyContact\n                ? participant.contact.isMyContact\n                : null,\n            isMe:\n              participant.contact && participant.contact.isMe\n                ? participant.contact.isMe\n                : null\n          };\n        });\n      return output;\n    }\n    return WAPI.scope(undefined, true, null, 'Error find Group');\n  }\n  return WAPI.scope(undefined, true, null, 'Group not found');\n}\n","export async function getGroupInfoFromInviteLink(inviteCode) {\n  var groupInfo = await Store.infoGroup.queryGroupInviteInfo(inviteCode);\n  return groupInfo;\n}\n","export async function getGroupInviteLink(chatId) {\n  var chat = Store.Chat.get(chatId);\n  if (!chat.isGroup) return '';\n  const code = await Store.GroupInvite.sendQueryGroupInviteCode(chat.id);\n  return `https://chat.whatsapp.com/${code}`;\n}\n","import { sleep } from '../helper';\n\nexport async function getGroupParticipant(groupId, time = 1000) {\n  if (typeof groupId !== 'string') {\n    return WAPI.scope(undefined, true, null, 'Use to groupId string');\n  }\n\n  const chat = await WAPI.sendExist(groupId);\n\n  if (chat && chat.status != 404 && chat.id) {\n    await window.Store.Cmd.openChatBottom(chat);\n    await sleep(time);\n    const moduleGroup = await window.Store.GroupMetadata._models.filter(\n      (e) => e.id._serialized === groupId\n    );\n\n    const participants =\n      moduleGroup.length && moduleGroup[0].participants\n        ? moduleGroup[0].participants\n        : undefined;\n\n    if (participants) {\n      const output = participants.map((participant) => {\n        return {\n          id: participant.id,\n          displayName:\n            participant.contact && participant.contact.displayName\n              ? participant.contact.displayName\n              : null,\n          mentionName:\n            participant.contact && participant.contact.mentionName\n              ? participant.contact.mentionName\n              : null,\n          notifyName:\n            participant.contact && participant.contact.notifyName\n              ? participant.contact.notifyName\n              : null,\n          isBusiness:\n            participant.contact && participant.contact.isBusiness\n              ? participant.contact.isBusiness\n              : null,\n          pushname:\n            participant.contact && participant.contact.pushname\n              ? participant.contact.pushname\n              : null,\n          isUser:\n            participant.contact && participant.contact.isUser\n              ? participant.contact.isUser\n              : null,\n          isMyContact:\n            participant.contact && participant.contact.isMyContact\n              ? participant.contact.isMyContact\n              : null,\n          isMe:\n            participant.contact && participant.contact.isMe\n              ? participant.contact.isMe\n              : null\n        };\n      });\n\n      return output;\n    }\n    return WAPI.scope(undefined, true, null, 'Error find Group');\n  }\n  return WAPI.scope(undefined, true, null, 'Group not found');\n}\n","export async function getHost() {\n  const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n  if (fromwWid) {\n    const idUser = await WAPI.sendExist(fromwWid._serialized);\n    if (idUser && idUser.status !== 404) {\n      //const infoUser = new Store.ProfileBusiness.BusinessProfile(idUser);\n      const infoUser = await Store.Contacts.ContactCollection.get(\n        fromwWid._serialized\n      );\n      //  const infoUser = await Store.MyStatus.getStatus(idUser.id);\n      if (infoUser) {\n        return await WAPI._serializeMeObj(infoUser);\n      }\n    }\n  }\n}\n","export async function getListMute(type = 'all') {\n  var muteList = (await window.Store.Mute)._models,\n    noMute = new Array(),\n    toMute = new Array();\n  for (var i in muteList)\n    muteList[i].__x_isMuted\n      ? toMute.push(WAPI.interfaceMute(muteList[i]))\n      : noMute.push(WAPI.interfaceMute(muteList[i]));\n  var r = null;\n  console.log(0, type);\n  switch (type) {\n    case 'all':\n      r = [\n        {\n          total: toMute.length + noMute.length,\n          amountToMute: toMute.length,\n          amountnoMute: noMute.length\n        },\n        toMute,\n        noMute\n      ];\n      break;\n    case 'toMute':\n      r = [{ total: toMute.length }, toMute];\n      break;\n    case 'noMute':\n      r = [{ total: noMute.length }, noMute];\n      break;\n  }\n  return r;\n}\nexport function interfaceMute(arr) {\n  let { attributes, expiration, id, isMuted, isState, promises, stale } = arr;\n  return { attributes, expiration, id, isMuted, isState, promises, stale };\n}\n","export function getMe(done) {\n  const rawMe = window.Store.Contact.get(window.Store.Conn.me);\n\n  if (done !== undefined) done(rawMe.all);\n  return rawMe.all;\n}\n","export async function getMessageById(key, done, serialize = true) {\n  // Check message is loaded in store\n  let msg = window.Store.Msg.get(key);\n  let erro = { erro: true };\n\n  if (!msg) {\n    // Get chat of message\n    const chat = window.Store.Chat.get(key.remote);\n    if (!chat) {\n      return erro;\n    }\n\n    //If not message not found, load latest messages of chat\n    await chat.loadEarlierMsgs();\n    msg = window.Store.Msg.get(key);\n\n    if (!msg) {\n      // If not found, load messages around the message ID\n      const context = chat.getSearchContext(key);\n      if (\n        context &&\n        context.collection &&\n        context.collection.loadAroundPromise\n      ) {\n        await context.collection.loadAroundPromise;\n      }\n      msg = window.Store.Msg.get(key);\n    }\n  }\n\n  if (!msg) {\n    return erro;\n  }\n\n  let result = erro;\n\n  if (serialize) {\n    try {\n      result = WAPI.processMessageObj(msg, true, true);\n    } catch (err) {}\n  } else {\n    result = msg;\n  }\n\n  if (typeof done === 'function') {\n    done(result);\n  } else {\n    return result;\n  }\n}\n","export const getMyContacts = function (done) {\n  const contacts = window.Store.Contact.filter(\n    (contact) => contact.isMyContact === true\n  ).map((contact) => WAPI._serializeContactObj(contact));\n  if (done !== undefined) done(contacts);\n  return contacts;\n};\n","export function getNewId() {\n  var text = '';\n  var possible =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  for (var i = 0; i < 16; i++)\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  return text;\n}\n","export async function getNewMessageId(chatId, checkNumber = true) {\n  const chat = checkNumber\n    ? await WAPI.sendExist(chatId)\n    : await WAPI.returnChat(chatId);\n  if (chat.id) {\n    const newMsgId = new Object();\n    newMsgId.fromMe = true;\n    newMsgId.id = await WAPI.getNewId().toUpperCase();\n    newMsgId.remote = new Store.WidFactory.createWid(chat.id._serialized);\n    newMsgId._serialized = `${newMsgId.fromMe}_${newMsgId.remote}_${newMsgId.id}`;\n    const Msgkey = new Store.MsgKey(newMsgId);\n    return Msgkey;\n  } else {\n    return false;\n  }\n}\n","export async function getNumberProfile(id) {\n  if (typeof id != 'string' || id.length === 0) {\n    return WAPI.scope(id, true, 404, 'It is necessary to number');\n  }\n  const chat = await WAPI.sendExist(id);\n  if (chat && chat.status != 404 && chat.id) {\n    const infoUser = await Store.MyStatus.getStatus(chat);\n    return await WAPI._serializeMeObj(infoUser);\n  }\n  if (!chat.erro) {\n    chat.erro = true;\n  }\n  return chat;\n}\n","export async function getProfilePicFromServer(id) {\n  const pinc = await Store.WapQuery.profilePicFind(id).then((x) => x.eurl);\n  return pinc;\n}\n","export async function getSessionTokenBrowser() {\n  if (window.localStorage) {\n    var localStorages = await JSON.parse(JSON.stringify(window.localStorage));\n    let { WABrowserId, WASecretBundle, WAToken1, WAToken2 } = localStorages;\n    return {\n      WABrowserId,\n      WASecretBundle,\n      WAToken1,\n      WAToken2\n    };\n  }\n}\n","/**\n * Returns state connection\n * @returns obj\n */\nexport function getStateConnection() {\n  return window.Store.State.Socket.state;\n}\n","export async function getStatus(id) {\n  return await Store.MyStatus.getStatus(id);\n}\n","export async function getUnreadMessages(undread = true) {\n  let arr = [];\n  let chats;\n\n  // console.log('.....................', typeof undread);\n\n  if (undread === true) {\n    chats = await Store.Chat.filter((e) => e.unreadCount > 0);\n  } else {\n    chats = await Store.Chat.filter((e) => e.unreadCount <= 0);\n  }\n\n  for (let i in chats) {\n    let f = Number(i);\n    if (!isNaN(f)) {\n      let t = chats[i].msgs._models.slice(-chats[i].unreadCount);\n      for (let r in t) {\n        let h = Number(r);\n        if (!isNaN(h)) {\n          let message = WAPI.processMessageObj(t[r], true, true);\n          if (message) {\n            arr.push(message);\n          }\n        }\n      }\n    }\n  }\n\n  return arr;\n}\n","export const hasUndreadMessages = function (chat) {\n  return chat.unreadCount > 0;\n};\n","export { areAllMessagesLoaded } from './are-all-messages-loaded';\nexport { clearChatMessages } from './clear-chat';\nexport { createGroup } from './create-group';\nexport { deleteConversation } from './delete-conversation';\nexport { deleteMessages } from './delete-messages';\nexport { downloadFile } from './download-file-with-credentials';\nexport { encryptAndUploadFile } from './encrypt-and-upload-file';\nexport { getAllChats } from './get-all-chats';\nexport { getAllChatIds } from './get-all-chats-ids';\nexport { getAllChatsWithMessages } from './get-all-chats-with-messages';\nexport { getAllContacts } from './get-all-contacts';\nexport { getAllGroupMetadata } from './get-all-group-metadata';\nexport { getAllGroups } from './get-all-groups';\nexport { getAllMessagesInChat } from './get-all-messages-in-chat';\nexport { getAllUnreadMessages } from './get-all-unread-messages';\nexport { getBatteryLevel } from './get-battery-level';\nexport { getChat } from './get-chat';\nexport { getChatById } from './get-chat-by-id';\nexport { getChatByName } from './get-chat-by-name';\nexport { getAllChatsWithNewMessages } from './get-chats-with-new-messages';\nexport { getCommonGroups } from './get-common-groups';\nexport { getContact } from './get-contact';\nexport { getGroupAdmins } from './get-group-admins';\nexport { getGroupInviteLink } from './get-group-invite-link';\nexport { getGroupInfoFromInviteLink } from './get-group-info-from-invite-link';\nexport { getGroupParticipant } from './get-group-participant';\nexport { getHost } from './get-host';\nexport { getMe } from './get-me';\nexport { getMyContacts } from './get-my-contacts';\nexport { getNewId } from './get-new-id';\nexport { getNumberProfile } from './get-number-profile';\nexport { getProfilePicFromServer } from './get-profile-pic-from-server';\nexport { getStatus } from './get-status';\nexport { getUnreadMessages } from './get-unread-messages';\nexport { hasUndreadMessages } from './has-unread-messages';\nexport { isConnected } from './is-connected';\nexport { isLoggedIn } from './is-logged-in';\nexport { leaveGroup } from './leave-group';\nexport {\n  asyncLoadAllEarlierMessages,\n  loadAllEarlierMessages\n} from './load-all-earlier-chat-messages';\nexport { loadAndGetAllMessagesInChat } from './load-and-get-all-messages-in-chat';\nexport { loadChatEarlierMessages } from './load-earlier-chat-messages';\nexport { loadEarlierMessagesTillDate } from './load-earlier-messages-til-date';\nexport { processFiles } from './process-files';\nexport { processMessageObj } from './process-message-object';\nexport { revokeGroupInviteLink } from './revoke-invite-link';\nexport { sendChatstate } from './send-chat-state';\nexport { sendFile } from './send-file';\nexport { sendImage } from './send-image';\nexport { sendPtt } from './send-ptt';\nexport { sendImageAsSticker } from './send-image-as-stricker';\nexport { sendImageWithProduct } from './send-image-with-product';\nexport { sendLocation } from './send-location';\nexport { sendMessage } from './send-message';\nexport { sendMessageOptions } from './sendMessageOptions';\nexport { sendMessageWithTags } from './send-message-with-tags';\nexport { sendMessageWithThumb } from './send-message-with-thumb';\nexport { sendMessage2 } from './send-message2';\nexport { sendSticker } from './send-sticker';\nexport { sendVideoAsGif } from './send-video-as-gif';\nexport { setMyName } from './set-my-name';\nexport { setMyStatus } from './set-my-status';\nexport { forwardMessages } from './forward-messages';\nexport { sendContactVcard } from './send-contact-vcard';\nexport { getNewMessageId } from './get-new-message-id';\nexport { reply } from './reply';\nexport {\n  startTyping,\n  startRecording,\n  markPaused,\n  clearPresence,\n  presenceAvailable,\n  presenceUnavailable\n} from './simulate-status-chat';\nexport { getMessageById } from './get-message-by-id';\nexport { blockContact } from './block-contact';\nexport { unblockContact } from './unblock-contact';\nexport { removeParticipant } from './remove-participant';\nexport { addParticipant } from './add-participant';\nexport { promoteParticipant } from './promote-participant';\nexport { demoteParticipant } from './demote-participant';\nexport { openChat, openChatAt } from './open-chat';\nexport { joinGroup } from './join-group';\nexport { markUnseenMessage } from './mark-unseen-message';\nexport { markMarkSeenMessage } from './mark-markSeen-message';\nexport { getBlockList } from './block-list';\nexport { setTheme, getTheme } from './theme';\nexport { restartService } from './restart-service';\nexport { killServiceWorker } from './kill-service-worker';\nexport { sendLinkPreview } from './send-link-preview';\nexport {\n  sendExist,\n  scope,\n  getchatId,\n  sendCheckType,\n  returnChat\n} from './check-send-exist';\nexport { sendContactVcardList } from './send-contact-vcard-list';\nexport { setProfilePic } from './set-profile-pic';\nexport { pinChat } from './fix-chat';\nexport { getSessionTokenBrowser } from './get-session-token';\nexport { sendMute } from './send-mute';\nexport { getListMute, interfaceMute } from './get-list-mute';\nexport { downloadMedia } from './download-media';\nexport { checkIdMessage } from './check-id-messagem';\nexport { returnReply } from './return-reply';\nexport { logout } from './logout';\nexport { setPresenceOnline } from './set-presence-online';\nexport { setPresenceOffline } from './set-presence-offline';\nexport { archiveChat } from './archive-chat';\nexport { setNewMessageId } from './set-new-message';\nexport { setGroupDescription } from './set-group-description';\nexport { sendButtons } from './send-buttons';\nexport { setGroupTitle } from './set-group-title';\nexport { setGroupSettings } from './set-group-settings';\nexport { getAllMessagesDate } from './get-data-messages';\nexport { checkNumberStatus } from './check-number-status';\nexport { sendListMenu } from './send-list-menu';\nexport { getStateConnection } from './get-state-connection';\nexport { isBeta } from './check-beta';\nexport { sendReactions } from './send-reactions';\nexport { addChatWapi } from './add-chat-wapi';\nexport { sendTypeButtons } from './send-type-buttons';\nexport { onlySendAdmin } from './only-send-admin';\nexport { createCommunity } from './create-community';\n","export function isConnected(done) {\n  // Phone Disconnected icon appears when phone\n  const isConnected =\n    document.querySelector('[data-testid=\"alert-phone\"]') == null &&\n    document.querySelector('[data-testid=\"alert-computer\"]') == null\n      ? true\n      : false;\n  if (done !== undefined) done(isConnected);\n  return isConnected;\n}\n","export function isLoggedIn(done) {\n  // Contact always exists when logged in\n  const isLogged =\n    window.Store.Contact && window.Store.Contact.checksum !== undefined;\n\n  if (done !== undefined) done(isLogged);\n  return isLogged;\n}\n","export async function joinGroup(inviteCode) {\n  var result = await Store.WapQuery.acceptGroupInvite(inviteCode);\n  return result;\n}\n","export async function killServiceWorker() {\n  await Store.ServiceWorker.default.killServiceWorker();\n  return true;\n}\n","export async function leaveGroup(groupId) {\n  groupId = typeof groupId == 'string' ? groupId : groupId._serialized;\n  var group = WAPI.getChat(groupId);\n  return Store.GroupActions.sendExitGroup(group);\n}\n","export async function loadAllEarlierMessages(id, done) {\n  const found = WAPI.getChat(id);\n  while (!found.msgs.msgLoadState.noEarlierMsgs) {\n    console.log('Loading...');\n    await found.loadEarlierMsgs();\n  }\n  console.log('done');\n  return true;\n}\n\n/**\n * SYNC version\n * Loads all earlier messages of given chat id\n * @param {string} id Chat id\n * @param {Funciton} done Optional callback\n */\nexport function asyncLoadAllEarlierMessages(id, done) {\n  loadAllEarlierMessages(id);\n  done();\n}\n","export async function loadAndGetAllMessagesInChat(\n  id,\n  includeMe,\n  includeNotifications\n) {\n  return WAPI.loadAllEarlierMessages(id).then(() => {\n    const chat = WAPI.getChat(id);\n    let output = [];\n    const messages = chat.msgs._models;\n\n    for (const i in messages) {\n      if (i === 'remove') {\n        continue;\n      }\n      const messageObj = messages[i];\n\n      let message = WAPI.processMessageObj(\n        messageObj,\n        includeMe,\n        includeNotifications\n      );\n      if (message) output.push(message);\n    }\n    return output;\n  });\n}\n","export async function loadChatEarlierMessages(id) {\n  const chat = WAPI.getChat(id);\n  if (chat) {\n    const someEarlierMessages = await chat.loadEarlierMsgs();\n    if (someEarlierMessages)\n      return someEarlierMessages.map(WAPI._serializeMessageObj);\n  }\n  return false;\n}\n","export function loadEarlierMessagesTillDate(id, lastMessage, done) {\n  const found = WAPI.getChat(id);\n  const x = function () {\n    if (\n      found.msgs.models[0].t > lastMessage &&\n      !found.msgs.msgLoadState.noEarlierMsgs\n    ) {\n      found.loadEarlierMsgs().then(x);\n    } else {\n      done();\n    }\n  };\n  x();\n}\n","export async function logout() {\n  if (window.Store.Login) {\n    await window.Store.Login.triggerCriticalSyncLogout();\n    return true;\n  } else {\n    return false;\n  }\n}\n","/**\n * Mark chat as read \n * @param {*} id idchat\n * @returns bollean\n */\nexport async function markMarkSeenMessage(id) {\n  const chat = await WAPI.sendExist(id);\n  if (!chat.erro) {\n    //await Store.ReadSeen.markUnread(chat);\n    await Store.ReadSeen.sendSeen(chat, false);\n    return WAPI.scope(undefined, false, 'OK', null);\n  } else {\n    return WAPI.scope(undefined, true, 'Error', null);\n  }\n}\n","/**\n * Mark unread chat\n * @param {*} id idchat\n * @returns bollean\n */\nexport async function markUnseenMessage(id) {\n  const chat = await WAPI.sendExist(id);\n  if (!chat.erro) {\n    await Store.ReadSeen.markUnread(chat, true);\n    return WAPI.scope(undefined, false, 'OK', null);\n  } else {\n    return WAPI.scope(undefined, true, 'Error', null);\n  }\n}\n","export async function onlySendAdmin(chatId, type) {\n  if (!chatId.includes('@g.us')) {\n    return window.WAPI.scope(chatId, true, 404, 'The number is not a group');\n  }\n\n  if (typeof type !== 'boolean') {\n    return window.WAPI.scope(chatId, true, 404, 'the type must be boolean');\n  }\n  const chat = await WAPI.sendExist(chatId);\n  if (chat && chat.status != 404 && chat.id) {\n    try {\n      const onlyAdmin = await Store.onlySendAdmin.setGroupProperty(\n        chat.id,\n        `announcement`,\n        type\n      );\n      return WAPI.scope(chatId, false, 200, 'successfully changed');\n    } catch (e) {\n      return WAPI.scope(chatId, true, 404, 'not changed');\n    }\n  } else {\n    if (!chat.erro) {\n      chat.erro = true;\n    }\n    return chat;\n  }\n}\n","/**\n * open chat!\n * @param {string} chatId Chat id\n */\nexport async function openChat(chatId, force = false) {\n  if (force) {\n    const chat = await WAPI.getChat(chatId);\n    const result = await Store.Cmd.openChatBottom(chat);\n    return WAPI.scope(undefined, false, result);\n  }\n\n  if (typeof chatId != 'string' || chatId.length === 0) {\n    return WAPI.scope(chatId, true, 404, 'It is necessary to number');\n  }\n\n  const chat = await WAPI.sendExist(chatId);\n  if (chat && chat.status != 404 && chat.id) {\n    const chat = Store.Chat.get(chatId);\n    const result = Store.Cmd.default.openChatBottom(chat);\n    return WAPI.scope(undefined, false, result);\n  }\n  if (!chat.erro) {\n    chat.erro = true;\n  }\n  return chat;\n}\n\n/**\n * Opens chat at given message position\n * This is a UI proccess, use this in a queue\n * @param {string} chatId Chat id\n * @param {string} messageId Message id: (For example: '06D3AB3D0EEB9D077A3F9A3EFF4DD030')\n * @returns {{wasVisible: boolean, alignAt: string}}: {wasVisible: false, alignAt: \"center\"}\n */\nexport async function openChatAt(chatId, messageId) {\n  const chat = Store.Chat.get(chatId);\n  const atMessage = chat.msgs.models.find((model) => model.id.id === messageId);\n  const args = {\n    collection: chat.msgs,\n    msg: atMessage,\n    isUnreadDivider: false\n  };\n  const result = await Store.Cmd.default._openChat(chat, args);\n  return result;\n}\n","export async function processFiles(chat, blobs) {\n  if (!Array.isArray(blobs)) {\n    blobs = [blobs];\n  }\n  const mediaCollection = new Store.MediaCollection({\n    chatParticipantCount: chat.getParticipantCount()\n  });\n\n  await mediaCollection.processAttachments(\n    Debug.VERSION === '0.4.613'\n      ? blobs\n      : blobs.map((blob) => {\n          return {\n            file: blob\n          };\n        }),\n    chat,\n    1\n  );\n  return mediaCollection;\n}\n","export function processMessageObj(messageObj, includeMe, includeNotifications) {\n  if (messageObj.isNotification) {\n    if (includeNotifications) {\n      return WAPI._serializeMessageObj(messageObj);\n    } else {\n      return;\n    }\n  } else if (messageObj.id.fromMe === false || includeMe) {\n    return WAPI._serializeMessageObj(messageObj);\n  }\n  return;\n}\n","export async function promoteParticipant(groupId, contactsId, done) {\n  const chat = Store.Chat.get(groupId);\n\n  if (!Array.isArray(contactsId)) {\n    contactsId = [contactsId];\n  }\n\n  contactsId = await Promise.all(contactsId.map((c) => WAPI.sendExist(c)));\n  contactsId = contactsId\n    .filter((c) => !c.erro && c.isUser)\n    .map((c) => chat.groupMetadata.participants.get(c.id))\n    .filter((c) => typeof c !== 'undefined')\n    .map((c) => c.id);\n\n  if (!contactsId.length) {\n    typeof done === 'function' && done(false);\n    return false;\n  }\n\n  await window.Store.WapQuery.promoteParticipants(chat.id, contactsId);\n\n  const participants = contactsId.map((c) =>\n    chat.groupMetadata.participants.get(c)\n  );\n\n  await window.Store.Participants.promoteParticipants(chat, participants);\n\n  typeof done === 'function' && done(true);\n  return true;\n}\n","export async function removeParticipant(groupId, contactsId, done) {\n  const chat = Store.Chat.get(groupId);\n\n  if (!Array.isArray(contactsId)) {\n    contactsId = [contactsId];\n  }\n\n  contactsId = await Promise.all(contactsId.map((c) => WAPI.sendExist(c)));\n  contactsId = contactsId\n    .filter((c) => !c.erro && c.isUser)\n    .map((c) => chat.groupMetadata.participants.get(c.id))\n    .filter((c) => typeof c !== 'undefined')\n    .map((c) => c.id);\n\n  if (!contactsId.length) {\n    typeof done === 'function' && done(false);\n    return false;\n  }\n\n  await window.Store.WapQuery.removeParticipants(chat.id, contactsId);\n\n  const participants = contactsId.map((c) =>\n    chat.groupMetadata.participants.get(c)\n  );\n\n  await window.Store.Participants.removeParticipants(chat, participants);\n\n  typeof done === 'function' && done(true);\n  return true;\n}\n","export async function reply(chatId, content, quotedMessageId) {\n  if (typeof chatId != 'string') {\n    return WAPI.scope(\n      null,\n      true,\n      404,\n      'enter the chatid variable as an string'\n    );\n  }\n  if (typeof content != 'string') {\n    return WAPI.scope(\n      null,\n      true,\n      404,\n      'enter the content variable as an string'\n    );\n  }\n  if (typeof quotedMessageId != 'string') {\n    return WAPI.scope(\n      null,\n      true,\n      404,\n      'enter the content variable as an string'\n    );\n  }\n  const chat = await WAPI.sendExist(chatId);\n  if (chat && chat.status != 404) {\n    let To = chat.id;\n    const m = { type: 'deleteMessages' };\n    let quotedMsgOptions = {};\n\n    let quotedMessage = await WAPI.getMessageById(quotedMessageId, null, false);\n    if (quotedMessage.erro == undefined) {\n      let checkID = await WAPI.checkIdMessage(\n        quotedMessage.to._serialized,\n        quotedMessageId\n      );\n      if (checkID.erro == true) {\n        return checkID;\n      }\n    } else {\n      let obj = WAPI.scope(\n        To,\n        true,\n        404,\n        `The id ${quotedMessageId} does not exist!`\n      );\n      Object.assign(obj, m);\n      return obj;\n    }\n\n    quotedMsgOptions = quotedMessage.msgContextInfo(chat);\n\n    let checkID = await WAPI.checkIdMessage(chatId, quotedMessageId);\n    if (checkID.erro == true) {\n      return checkID;\n    }\n\n    const newMsgId = await window.WAPI.getNewMessageId(chat.id._serialized);\n    const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n    let inChat = await WAPI.getchatId(chat.id).catch(() => {});\n    if (inChat) {\n      chat.lastReceivedKey._serialized = inChat._serialized;\n      chat.lastReceivedKey.id = inChat.id;\n    }\n    const message = {\n      id: newMsgId,\n      ack: 0,\n      body: content,\n      from: fromwWid,\n      to: chat.id,\n      local: !0,\n      self: 'out',\n      t: parseInt(new Date().getTime() / 1000),\n      isNewMsg: !0,\n      type: 'chat',\n      ...quotedMsgOptions\n    };\n\n    const result = (\n      await Promise.all(window.Store.addAndSendMsgToChat(chat, message))\n    )[1];\n\n    if (result === 'success' || result === 'OK') {\n      let obj = WAPI.scope(newMsgId, false, result, '');\n      Object.assign(obj, m);\n      return obj;\n    } else {\n      let obj = WAPI.scope(newMsgId, true, result, '');\n      Object.assign(obj, m);\n      return obj;\n    }\n  } else {\n    return chat;\n  }\n}\n","export async function restartService() {\n  await Store.ServiceWorker.default.restart();\n  return true;\n}\n","export async function returnReply(message) {\n  if (typeof message != 'object') {\n    return WAPI.scope(\n      null,\n      true,\n      404,\n      'enter the message variable as an object'\n    );\n  }\n  if (\n    message &&\n    message.quotedMsg &&\n    message.quotedMsg.type &&\n    message.quotedMsgObj\n  ) {\n    return message.quotedMsgObj;\n  } else {\n    return false;\n  }\n}\n","export async function revokeGroupInviteLink(chatId) {\n  var chat = Store.Chat.get(chatId);\n  if (!chat.isGroup) return false;\n  await Store.GroupInvite.sendRevokeGroupInviteCode(chat.id);\n  return true;\n}\n","export async function sendButtons(to, title, buttons, subtitle) {\n  if (typeof title != 'string' || title.length === 0) {\n    return WAPI.scope(to, true, 404, 'It is necessary to write a title!');\n  }\n\n  if (typeof subtitle != 'string' || subtitle.length === 0) {\n    return WAPI.scope(to, true, 404, 'It is necessary to write a subtitle!');\n  }\n\n  if (Array.isArray(buttons) && buttons.length > 0) {\n    for (let index in buttons) {\n      if (typeof buttons[index] !== 'function') {\n        if (!buttons[index].buttonText) {\n          return WAPI.scope(to, true, 404, 'passed object buttonText');\n        }\n        if (typeof buttons[index].buttonText !== 'object') {\n          return WAPI.scope(to, true, 404, 'passed object value in buttonText');\n        }\n        if (!buttons[index].buttonText.displayText) {\n          return WAPI.scope(to, true, 404, 'passed object displayText');\n        }\n        if (typeof buttons[index].buttonText.displayText !== 'string') {\n          return WAPI.scope(\n            to,\n            true,\n            404,\n            'passed string value in displayText'\n          );\n        }\n        if (!buttons[index].buttonId) {\n          buttons[index].buttonId = `id${index}`;\n        }\n        if (!buttons[index].type) {\n          buttons[index].type = 1;\n        }\n      }\n    }\n  }\n\n  const chat = await WAPI.sendExist(to);\n\n  if (chat && chat.status != 404 && chat.id) {\n    const newMsgId = await window.WAPI.getNewMessageId(chat.id._serialized);\n    const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n\n    const message = {\n      id: newMsgId,\n      ack: 0,\n      from: fromwWid,\n      to: chat.id,\n      local: !0,\n      self: 'out',\n      t: parseInt(new Date().getTime() / 1000),\n      isNewMsg: !0,\n      type: 'ciphertext',\n      body: title,\n      caption: title,\n      content: title,\n      footer: subtitle,\n      isDynamicReplyButtonsMsg: true,\n      isForwarded: false,\n      isFromTemplate: true,\n      invis: true,\n      fromMe: false\n    };\n    var obj = {\n      dynamicReplyButtons: buttons\n    };\n    Object.assign(message, obj);\n    var result = (\n      await Promise.all(window.Store.addAndSendMsgToChat(chat, message))\n    )[1];\n    if (result === 'success' || result === 'OK') {\n      return WAPI.scope(newMsgId, false, result, null);\n    } else {\n      return WAPI.scope(newMsgId, true, result, null);\n    }\n  } else {\n    return chat;\n  }\n}\n","export async function sendChatstate(state, chatId) {\n  switch (state) {\n    case '0':\n      await window.Store.ChatStates.sendChatStateComposing(chatId);\n      break;\n    case '1':\n      await window.Store.ChatStates.sendChatStateRecording(chatId);\n      break;\n    case '2':\n      await window.Store.ChatStates.sendChatStatePaused(chatId);\n      break;\n    default:\n      return false;\n  }\n  return true;\n}\n","export async function sendContactVcardList(chatId, contacts) {\n  if (typeof chatId != 'string') {\n    return WAPI.scope(\n      chatId,\n      true,\n      null,\n      \"incorrect parameter, insert an string. Example: '222222222222@c.us'\"\n    );\n  }\n\n  if (!Array.isArray(contacts)) {\n    return WAPI.scope(\n      chatId,\n      true,\n      null,\n      \"incorrect parameter, insert an array. Example: ['222222222222@c.us', '333333333333@c.us, ... ]\"\n    );\n  }\n\n  if (contacts.length === 1) {\n    return WAPI.scope(\n      chatId,\n      true,\n      null,\n      \"Enter more than one number to send. Example: ['222222222222@c.us', '333333333333@c.us, ... ]\"\n    );\n  }\n\n  const chat = await WAPI.sendExist(chatId);\n\n  if (!chat.erro) {\n    var conta = contacts.map(async (e) => {\n      return await WAPI.sendExist(e);\n    });\n\n    var ar = await Promise.all(conta);\n    var cont = new Array();\n\n    for (var key in ar) {\n      if (typeof ar[key] === 'object') {\n        cont.push(ar[key].__x_contact);\n      }\n    }\n\n    var vcard = cont.map(async (e) => {\n      if (typeof e === 'object') {\n        return await window.Store.Vcard.vcardFromContactModel(e);\n      }\n    });\n\n    var newMsgId = await window.WAPI.getNewMessageId(chat.id._serialized);\n    const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n    let inChat = await WAPI.getchatId(chat.id).catch(() => {});\n\n    if (inChat) {\n      chat.lastReceivedKey._serialized = inChat._serialized;\n      chat.lastReceivedKey.id = inChat.id;\n    }\n\n    var Vcards = await Promise.all(vcard);\n\n    const message = {\n      id: newMsgId,\n      ack: 0,\n      from: fromwWid,\n      local: !0,\n      self: 'in',\n      t: parseInt(new Date().getTime() / 1000),\n      to: chat.id,\n      type: 'multi_vcard',\n      vcardList: Vcards,\n      isNewMsg: !0\n    };\n\n    var result =\n      (await Promise.all(Store.addAndSendMsgToChat(chat, message)))[1] || '';\n\n    var m = { from: contacts, type: 'multi_vcard' };\n\n    if (result === 'success' || result === 'OK') {\n      var obj = WAPI.scope(newMsgId, false, result, null);\n      Object.assign(obj, m);\n      return obj;\n    } else {\n      var obj = WAPI.scope(newMsgId, true, result, null);\n      Object.assign(obj, m);\n      return obj;\n    }\n  } else {\n    return chat;\n  }\n}\n","export async function sendContactVcard(chatId, contact, name) {\n  if (typeof chatId != 'string' || chatId.length === 0) {\n    return WAPI.scope(chatId, true, 404, 'It is necessary to pass the number!');\n  }\n\n  if (typeof contact != 'string' || contact.length === 0) {\n    return WAPI.scope(\n      contact,\n      true,\n      404,\n      'It is necessary to pass the number!'\n    );\n  }\n\n  const chat = await WAPI.sendExist(chatId);\n  const cont = await WAPI.sendExist(contact);\n  if (\n    chat &&\n    chat.status != 404 &&\n    chat.id &&\n    cont &&\n    cont.status != 404 &&\n    cont.id\n  ) {\n    const newMsgId = await window.WAPI.getNewMessageId(chat.id._serialized);\n    let inChat = await WAPI.getchatId(chat.id).catch(() => {\n      return WAPI.scope(chat.id, true, 404, 'Error to number ' + chatId);\n    });\n\n    if (inChat) {\n      chat.lastReceivedKey && chat.lastReceivedKey._serialized\n        ? (chat.lastReceivedKey._serialized = inChat._serialized)\n        : '';\n      chat.lastReceivedKey && chat.lastReceivedKey.id\n        ? (chat.lastReceivedKey.id = inChat.id)\n        : '';\n    }\n\n    if (!newMsgId) {\n      return WAPI.scope(chatId, true, 404, 'Error to newId');\n    }\n\n    const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n    const body = await window.Store.Vcard.vcardFromContactModel(\n      cont.__x_contact\n    );\n\n    name = !name ? cont.__x_formattedTitle : name;\n\n    const message = {\n      id: newMsgId,\n      ack: 0,\n      body: body.vcard,\n      from: fromwWid,\n      to: chat.id,\n      local: !0,\n      self: 'out',\n      t: parseInt(new Date().getTime() / 1000),\n      isNewMsg: !0,\n      type: 'vcard'\n    };\n\n    const result = (\n      await Promise.all(window.Store.addAndSendMsgToChat(chat, message))\n    )[1];\n\n    var m = { from: contact, type: 'vcard' };\n    if (result === 'success' || result === 'OK') {\n      var obj = WAPI.scope(newMsgId, false, result, null);\n      Object.assign(obj, m);\n      return obj;\n    } else {\n      var obj = WAPI.scope(newMsgId, true, result, null);\n      Object.assign(obj, m);\n      return obj;\n    }\n  } else {\n    return chat;\n  }\n}\n","import { processFiles } from './process-files';\nimport { base64ToFile } from '../helper';\n\nexport async function sendFile(\n  file,\n  chatid,\n  filename,\n  caption,\n  type,\n  status,\n  passId,\n  checkNumber = true,\n  forcingReturn = false,\n  delSend = true\n) {\n  type = type ? type : 'sendFile';\n\n  if (typeof chatid != 'string' || chatid.length === 0) {\n    return WAPI.scope(\n      chatid,\n      true,\n      null,\n      'incorrect parameter chatid, insert an string.'\n    );\n  }\n\n  if (typeof filename !== 'string' || chatid.length === 0) {\n    return WAPI.scope(\n      chatid,\n      true,\n      null,\n      'incorrect parameter filename, insert an string'\n    );\n  }\n\n  if (typeof caption !== 'string' || chatid.length === 0) {\n    return WAPI.scope(\n      chatid,\n      true,\n      null,\n      'incorrect parameter caption, insert an string'\n    );\n  }\n\n  if (typeof file !== 'string' || chatid.length === 0) {\n    return WAPI.scope(\n      chatid,\n      true,\n      null,\n      'incorrect parameter file, insert an string'\n    );\n  }\n\n  var mime = file.match(/data:([a-zA-Z0-9]+\\/[a-zA-Z0-9-.+]+).*,.*/);\n  if (mime && mime.length) {\n    mime = mime[1];\n  }\n\n  const chat = checkNumber\n    ? await WAPI.sendExist(chatid)\n    : await WAPI.returnChat(chatid);\n\n  if (chat && chat.status != 404 && chat.id) {\n    let inChat = await WAPI.getchatId(chat.id).catch(() => {\n      return WAPI.scope(chat.id, true, 404, 'Error to number ' + chatid);\n    });\n\n    if (inChat) {\n      chat.lastReceivedKey && chat.lastReceivedKey._serialized\n        ? (chat.lastReceivedKey._serialized = inChat._serialized)\n        : '';\n      chat.lastReceivedKey && chat.lastReceivedKey.id\n        ? (chat.lastReceivedKey.id = inChat.id)\n        : '';\n    }\n\n    const m = { type: type, filename: filename, text: caption, mimeType: mime };\n    const newMsgId = !passId\n      ? await window.WAPI.getNewMessageId(chat.id._serialized, checkNumber)\n      : await window.WAPI.setNewMessageId(passId, checkNumber);\n\n    if (!newMsgId) {\n      return WAPI.scope(chat.id, true, 404, 'Error to newId');\n    }\n\n    const result = await Store.Chat.find(chat.id)\n      .then(async (_chat) => {\n        const mediaBlob = base64ToFile(file);\n        return await processFiles(_chat, mediaBlob)\n          .then(async (mc) => {\n            if (typeof mc === 'object' && mc._models && mc._models[0]) {\n              const media = mc._models[0];\n              const enc = await WAPI.encryptAndUploadFile(\n                media.type,\n                mediaBlob\n              );\n\n              if (enc === false) {\n                return WAPI.scope(\n                  chat.id,\n                  true,\n                  404,\n                  'Error to encryptAndUploadFile'\n                );\n              }\n\n              const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n              const message = {\n                id: newMsgId,\n                ack: 0,\n                from: fromwWid,\n                to: chat.id,\n                local: !0,\n                self: 'out',\n                t: parseInt(new Date().getTime() / 1000),\n                isNewMsg: !0,\n                invis: true,\n                type: media.type,\n                deprecatedMms3Url: enc.url,\n                directPath: enc.directPath,\n                encFilehash: enc.encFilehash,\n                filehash: enc.filehash,\n                mediaKeyTimestamp: enc.mediaKeyTimestamp,\n                mimetype: media.mimetype,\n                ephemeralStartTimestamp: enc.mediaKeyTimestamp,\n                mediaKey: enc.mediaKey,\n                size: media.filesize,\n                caption: caption,\n                filename: filename\n              };\n              if (forcingReturn) {\n                if (delSend) {\n                  while (true) {\n                    const connection = window.Store.State.Socket.state;\n                    if (connection === 'CONNECTED') {\n                      const result = await window.Store.addAndSendMsgToChat(\n                        chat,\n                        message\n                      );\n                      await WAPI.sleep(5000);\n                      const statusMsg = chat.msgs._models.filter(\n                        (e) => e.id === newMsgId._serialized && e.ack > 0\n                      );\n                      if (statusMsg.length === 0) {\n                        await WAPI.deleteMessages(chatid, [\n                          newMsgId._serialized\n                        ]);\n                      } else {\n                        let obj = WAPI.scope(\n                          newMsgId,\n                          false,\n                          WAPI._serializeForcing(result),\n                          null\n                        );\n                        Object.assign(obj, m);\n                        return obj;\n                      }\n                    }\n                  }\n                } else {\n                  const result = await window.Store.addAndSendMsgToChat(\n                    chat,\n                    message\n                  );\n                  let obj = WAPI.scope(\n                    newMsgId,\n                    false,\n                    WAPI._serializeForcing(result),\n                    null\n                  );\n                  Object.assign(obj, m);\n                  return obj;\n                }\n              }\n              try {\n                return (\n                  await Promise.all(\n                    window.Store.addAndSendMsgToChat(chat, message)\n                  )\n                )[1];\n              } catch (e) {\n                return WAPI.scope(\n                  chat.id,\n                  true,\n                  404,\n                  'The message was not sent'\n                );\n              }\n            } else {\n              return WAPI.scope(chat.id, true, 404, 'Error to models');\n            }\n          })\n          .catch(() => {\n            return WAPI.scope(chat.id, true, 404, 'Error to processFiles');\n          });\n      })\n      .catch(() => {\n        return WAPI.scope(chat.id, true, 404, 'Error to chat not find');\n      });\n\n    if (result.erro === false) {\n      return result;\n    }\n\n    if (result === 'success' || result === 'OK') {\n      var obj = WAPI.scope(newMsgId, false, result, null);\n      Object.assign(obj, m);\n      return obj;\n    }\n\n    if (result.erro === true) {\n      return result;\n    }\n\n    var obj = WAPI.scope(newMsgId, true, result, null);\n    Object.assign(obj, m);\n    return obj;\n  } else {\n    if (!chat.erro) {\n      chat.erro = true;\n    }\n    return chat;\n  }\n}\n","import { base64ToFile } from '../helper/base64-to-file';\nimport { sendSticker } from './send-sticker';\n\n/**\n * Sends image as sticker to given chat id\n * @param {string} imageBase64 Image as base64 A valid webp image is required.\n * @param {string} chatId chat id '000000000000@c.us'\n * @param {*} metadata about the image. Based on [sharp metadata](https://sharp.pixelplumbing.com/api-input#metadata)\n */\nexport async function sendImageAsSticker(imageBase64, chatId, metadata, type) {\n  const mediaBlob = base64ToFile(\n    'data:image/webp;base64,' + imageBase64,\n    'file.webp'\n  );\n  let encrypted = await window.WAPI.encryptAndUploadFile('sticker', mediaBlob);\n\n  return await sendSticker(encrypted, chatId, metadata, type);\n}\n","import { processFiles } from './process-files';\nimport { base64ToFile } from '../helper';\n\n/**\n * Sends product with product image to given chat id\n * @param {string} imgBase64 Base64 image data\n * @param {string} chatid Chat id\n * @param {string} caption Caption\n * @param {string} bizNumber string the @c.us number of the business account from which you want to grab the product\n * @param {string} productId string the id of the product within the main catalog of the aforementioned business\n * @param {Function} done Optional callback\n */\nexport function sendImageWithProduct(\n  imgBase64,\n  chatid,\n  caption,\n  bizNumber,\n  productId,\n  done\n) {\n  Store.Catalog.findCarouselCatalog(bizNumber).then((cat) => {\n    if (cat && cat[0]) {\n      const product = cat[0].productCollection.get(productId);\n      const temp = {\n        productMsgOptions: {\n          businessOwnerJid: product.catalogWid.toString({\n            legacy: !0\n          }),\n          productId: product.id.toString(),\n          url: product.url,\n          productImageCount: product.productImageCollection.length,\n          title: product.name,\n          description: product.description,\n          currencyCode: product.currency,\n          priceAmount1000: product.priceAmount1000,\n          type: 'product'\n        },\n        caption\n      };\n\n      var idUser = new Store.WidFactory.createWid(chatid);\n\n      return Store.Chat.find(idUser).then((chat) => {\n        var mediaBlob = base64ToFile(imgBase64, product.name);\n        // var mc = new Store.MediaCollection(chat);\n        // mc.processFiles([mediaBlob], chat, 1)\n        processFiles(chat, mediaBlob).then((mc) => {\n          var media = mc.models[0];\n          Object.entries(temp.productMsgOptions).map(\n            ([k, v]) => (media.mediaPrep._mediaData[k] = v)\n          );\n          media.mediaPrep.sendToChat(chat, temp);\n          if (done !== undefined) done(true);\n        });\n      });\n    }\n  });\n}\n","import { sendFile } from './send-file';\n\n/**\n * Sends image to given chat if\n * @param {string} imgBase64 base64 encoded file\n * @param {string} chatid Chat id\n * @param {string} filename\n * @param {string} caption\n * @param {Function} done Optional callback\n */\nexport function sendImage(\n  imgBase64,\n  chatid,\n  filename,\n  caption,\n  type,\n  status = false,\n  passId\n) {\n  return sendFile(imgBase64, chatid, filename, caption, type, status, passId);\n}\n","export async function sendLinkPreview(chatId, url, text) {\n  text = text || '';\n  const _Path = {\n    Protocol: '^(https?:\\\\/\\\\/)?',\n    Domain: '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|',\n    IP: '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))',\n    Port: '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*',\n    Query: '(\\\\?[;&a-z\\\\d%_.~+=-]*)?',\n    End: '(\\\\#[-a-z\\\\d_]*)?$',\n    Reg: () => {\n      return new RegExp(\n        _Path.Protocol +\n          _Path.Domain +\n          _Path.IP +\n          _Path.Port +\n          _Path.Query +\n          _Path.End,\n        'i'\n      );\n    }\n  };\n  if (!_Path.Reg().test(url)) {\n    var text =\n      'Use a valid HTTP protocol. Example: https://www.youtube.com/watch?v=V1bFr2SWP1';\n    return WAPI.scope(chatId, true, null, text);\n  }\n  var chat = await WAPI.sendExist(chatId);\n  if (!chat.erro) {\n    const newMsgId = await window.WAPI.getNewMessageId(chat.id._serialized);\n    const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n    let inChat = await WAPI.getchatId(chat.id).catch(() => {});\n    if (inChat) {\n      chat.lastReceivedKey._serialized = inChat._serialized;\n      chat.lastReceivedKey.id = inChat.id;\n    }\n    const link = await window.Store.Validators.findLink(url);\n    const message = {\n      id: newMsgId,\n      links: link,\n      ack: 0,\n      body: url,\n      from: fromwWid,\n      to: chat.id,\n      local: !0,\n      self: 'out',\n      t: parseInt(new Date().getTime() / 1000),\n      isNewMsg: !0,\n      type: 'chat',\n      subtype: 'url',\n      preview: true,\n      disappearingModeInitiator: 'chat',\n      thumbnail:\n        'iVBORw0KGgoAAAANSUhEUgAAAGMAAABjCAIAAAAAWSnCAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA0SURBVHhe7cExAQAAAMKg9U9tCj8gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADipAXM+AAFcstx4AAAAAElFTkSuQmCC',\n      content: url,\n      canonicalUrl: url,\n      description: url,\n      matchedText: url,\n      title: text\n    };\n    const result = (\n      await Promise.all(window.Store.addAndSendMsgToChat(chat, message))\n    )[1];\n    let m = { type: 'LinkPreview', url: url, text: text };\n    if (result === 'success' || result === 'OK') {\n      let obj = WAPI.scope(newMsgId, false, result, null);\n      Object.assign(obj, m);\n      return obj;\n    } else {\n      let obj = WAPI.scope(newMsgId, true, result, null);\n      Object.assign(obj, m);\n      return obj;\n    }\n  } else {\n    return chat;\n  }\n}\n","/**\n * Send List menu\n * @param {string} to the numberid xxx@c.us\n * @param {string} title the titulo\n * @param {string} subtitle the subtitle\n * @param {string} description the description\n * @param {string} buttonText the name button\n * @param {array} menu List menu\n */\nexport async function sendListMenu(\n  to,\n  title,\n  subTitle,\n  description,\n  buttonText,\n  menu\n) {\n  if (!title && typeof title != 'string') {\n    return WAPI.scope(null, true, 404, 'Enter the title variable as an string');\n  }\n\n  if (!subTitle && typeof subTitle != 'string') {\n    return WAPI.scope(\n      null,\n      true,\n      404,\n      'Enter the SubTitle variable as an string'\n    );\n  }\n\n  if (!description && typeof description != 'string') {\n    return WAPI.scope(\n      null,\n      true,\n      404,\n      'Enter the description variable as an string'\n    );\n  }\n\n  if (!buttonText && typeof buttonText != 'string') {\n    return WAPI.scope(\n      null,\n      true,\n      404,\n      'Enter the buttonText variable as an string'\n    );\n  }\n\n  if (!menu && Array.isArray(menu) === false) {\n    return WAPI.scope(null, true, 404, 'Enter the menu variable as an array');\n  }\n\n  for (let index in menu) {\n    if (index !== 'remove') {\n      if (\n        !!menu[index].title &&\n        typeof menu[index].title === 'string' &&\n        menu[index].title.length\n      ) {\n        if (\n          !!menu[index].rows &&\n          Array.isArray(menu[index].rows) &&\n          menu[index].rows.length\n        ) {\n          for (let i in menu[index].rows) {\n            if (i !== 'remove') {\n              if (\n                !!menu[index].rows[i].title &&\n                menu[index].rows[i].title.length\n              ) {\n                if (\n                  !!menu[index].rows[i].description &&\n                  menu[index].rows[i].description.length\n                ) {\n                  if (!menu[index].rows[i].rowId) {\n                    menu[index].rows[i].rowId = `dessert_${i}`;\n                  }\n                }\n              } else {\n                return WAPI.scope(\n                  null,\n                  true,\n                  404,\n                  'Enter the Title variable as an string'\n                );\n              }\n            }\n          }\n        } else {\n          return WAPI.scope(null, true, 404, 'Rows must be an object array');\n        }\n      } else {\n        return WAPI.scope(null, true, 404, 'Incorrect Title passed in menu');\n      }\n    }\n  }\n\n  const chat = await WAPI.sendExist(to);\n\n  if (chat && chat.status != 404 && chat.id) {\n    const newMsgId = await window.WAPI.getNewMessageId(chat.id._serialized);\n    const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n    const inChat = await WAPI.getchatId(chat.id).catch(() => {});\n\n    if (inChat) {\n      chat.lastReceivedKey._serialized = inChat._serialized;\n      chat.lastReceivedKey.id = inChat.id;\n    }\n\n    const message = {\n      id: newMsgId,\n      ack: 0,\n      from: fromwWid,\n      to: chat.id,\n      local: !0,\n      self: 'out',\n      t: parseInt(new Date().getTime() / 1000),\n      isNewMsg: !0,\n      invis: true,\n      footer: subTitle,\n      notifyName: '',\n      type: 'list',\n      interactiveAnnotations: true,\n      interactiveMessage: true,\n      star: false,\n      broadcast: false,\n      fromMe: false,\n      list: {\n        title: title,\n        description: description,\n        buttonText: buttonText,\n        listType: 1,\n        sections: menu\n      }\n    };\n\n    var result = (\n      await Promise.all(window.Store.addAndSendMsgToChat(chat, message))\n    )[1];\n    if (result === 'success' || result === 'OK') {\n      return WAPI.scope(newMsgId, false, result, null);\n    } else {\n      return WAPI.scope(newMsgId, true, result, null);\n    }\n  } else {\n    return chat;\n  }\n}\n","export async function sendLocation(\n  chatId,\n  latitude,\n  longitude,\n  location = null\n) {\n  const chat = await WAPI.sendExist(chatId);\n  if (isNaN(Number(latitude)) || isNaN(Number(longitude))) {\n    return WAPI.scope(\n      chatId,\n      true,\n      null,\n      'latitude and longitude must be numbers'\n    );\n  }\n  if (!chat.erro) {\n    const newMsgId = await window.WAPI.getNewMessageId(chat.id._serialized);\n    const inChat = await WAPI.getchatId(chat.id).catch(() => {});\n    const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n\n    if (inChat) {\n      chat.lastReceivedKey._serialized = inChat._serialized;\n      chat.lastReceivedKey.id = inChat.id;\n    }\n    const newid = await window.WAPI.getNewMessageId(\n      chat.id._serialized,\n      chatId\n    );\n    const message = {\n      type: 'location',\n      ack: 0,\n      from: fromwWid,\n      id: newid,\n      local: !0,\n      isNewMsg: !0,\n      self: 'out',\n      t: parseInt(new Date().getTime() / 1000),\n      to: chat.id,\n      lat: Number(latitude),\n      lng: Number(longitude),\n      loc: location\n    };\n\n    const result =\n      (await Promise.all(Store.addAndSendMsgToChat(chat, message)))[1] || '';\n\n    let m = {\n        latitude: latitude,\n        longitude: longitude,\n        title: location,\n        type: 'location'\n      },\n      obj;\n    if (result == 'success' || result == 'OK') {\n      obj = WAPI.scope(newMsgId, false, result, null);\n      Object.assign(obj, m);\n      return obj;\n    } else {\n      obj = WAPI.scope(newMsgId, true, result, null);\n      Object.assign(obj, m);\n      return obj;\n    }\n  } else {\n    return chat;\n  }\n}\n","export async function sendMessageWithTags(to, body) {\n  var chat = to.id ? to : Store.Chat.get(to);\n  var chatId = chat.id._serialized;\n  var msgIveSent = chat.msgs.filter((msg) => msg.__x_isSentByMe)[0];\n  if (!msgIveSent) {\n    return chat.sendMessage(body);\n  }\n\n  var tempMsg = Object.create(msgIveSent);\n  var newId = await window.WAPI.getNewMessageId(chat.id._serialized);\n  var mentionedJidList =\n    body\n      .match(/@(\\d*)/g)\n      .map((x) => new Store.WidFactory.createUserWid(x.replace('@', ''))) ||\n    undefined;\n\n  var extend = {\n    ack: 0,\n    id: newId,\n    local: !0,\n    self: 'out',\n    t: parseInt(new Date().getTime() / 1000),\n    to: new Store.WidFactory.createWid(chatId),\n    isNewMsg: !0,\n    type: 'chat',\n    body,\n    quotedMsg: null,\n    mentionedJidList\n  };\n\n  Object.assign(tempMsg, extend);\n  await Store.addAndSendMsgToChat(chat, tempMsg);\n  return newId._serialized;\n}\n","export function sendMessageWithThumb(\n  thumb,\n  url,\n  title,\n  description,\n  chatId,\n  done\n) {\n  var chatSend = WAPI.getChat(chatId);\n  if (chatSend === undefined) {\n    if (done !== undefined) done(false);\n    return false;\n  }\n  var linkPreview = {\n    canonicalUrl: url,\n    description: description,\n    matchedText: url,\n    title: title,\n    thumbnail: thumb\n  };\n  chatSend.sendMessage(url, {\n    linkPreview: linkPreview,\n    mentionedJidList: [],\n    quotedMsg: null,\n    quotedMsgAdminGroupJid: null\n  });\n  if (done !== undefined) done(true);\n  return true;\n}\n","export async function sendMessage(\n  to,\n  content,\n  status = false,\n  passId,\n  checkNumber = true,\n  forcingReturn = false,\n  delSend = true\n) {\n  if (status && content.length > 700) {\n    return WAPI.scope(undefined, true, null, 'Use a maximum of 700 characters');\n  }\n\n  if (\n    status === false &&\n    (typeof content != 'string' || content.length === 0)\n  ) {\n    return WAPI.scope(\n      undefined,\n      true,\n      null,\n      'It is necessary to write a text!'\n    );\n  }\n\n  if (status == false && (typeof to != 'string' || to.length === 0)) {\n    return WAPI.scope(to, true, 404, 'It is necessary to number');\n  }\n\n  const chat = checkNumber\n    ? await WAPI.sendExist(to)\n    : await WAPI.returnChat(to);\n\n  if (chat && chat.status != 404 && chat.id) {\n    const t = status != false ? 'sendStatusText' : 'sendText';\n    const m = { type: t, text: content };\n    const newMsgId = !passId\n      ? await window.WAPI.getNewMessageId(chat.id._serialized, checkNumber)\n      : await window.WAPI.setNewMessageId(passId, checkNumber);\n    const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n\n    let inChat = await WAPI.getchatId(chat.id).catch(() => {\n      return WAPI.scope(chat.id, true, 404, 'Error to number ' + to);\n    });\n\n    if (inChat) {\n      chat.lastReceivedKey && chat.lastReceivedKey._serialized\n        ? (chat.lastReceivedKey._serialized = inChat._serialized)\n        : '';\n      chat.lastReceivedKey && chat.lastReceivedKey.id\n        ? (chat.lastReceivedKey.id = inChat.id)\n        : '';\n    }\n\n    if (!newMsgId) {\n      return WAPI.scope(to, true, 404, 'Error to gerate newId');\n    }\n\n    const message = {\n      id: newMsgId,\n      ack: 0,\n      body: content,\n      from: fromwWid,\n      to: chat.id,\n      local: !0,\n      self: 'out',\n      t: parseInt(new Date().getTime() / 1000),\n      isNewMsg: !0,\n      type: 'chat'\n    };\n\n    if (forcingReturn) {\n      if (delSend) {\n        while (true) {\n          const connection = window.Store.State.Socket.state;\n          if (connection === 'CONNECTED') {\n            const result = await window.Store.addAndSendMsgToChat(\n              chat,\n              message\n            );\n            await WAPI.sleep(5000);\n            const statusMsg = chat.msgs._models.filter(\n              (e) => e.id === newMsgId._serialized && e.ack > 0\n            );\n            if (statusMsg.length === 0) {\n              await WAPI.deleteMessages(to, [newMsgId._serialized]);\n            } else {\n              let obj = WAPI.scope(\n                newMsgId,\n                false,\n                WAPI._serializeForcing(result),\n                content\n              );\n              Object.assign(obj, m);\n              return obj;\n            }\n          }\n        }\n      } else {\n        const result = await window.Store.addAndSendMsgToChat(chat, message);\n        let obj = WAPI.scope(\n          newMsgId,\n          false,\n          WAPI._serializeForcing(result),\n          content\n        );\n        Object.assign(obj, m);\n        return obj;\n      }\n    }\n\n    try {\n      const result = (\n        await Promise.all(window.Store.addAndSendMsgToChat(chat, message))\n      )[1];\n\n      if (result === 'success' || result === 'OK') {\n        const obj = WAPI.scope(newMsgId, false, result, content);\n        Object.assign(obj, m);\n        return obj;\n      }\n      if (result === 'ERROR_UNKNOWN' && to.includes('@g.us')) {\n        const obj = WAPI.scope(\n          newMsgId,\n          true,\n          result,\n          'Could not send message to this group, possibly you have been removed'\n        );\n        Object.assign(obj, m);\n        return obj;\n      }\n    } catch (result) {\n      let res = result;\n      if (result?.contact?.id) {\n        res = result.contact.id;\n      }\n      if (result?.message) {\n        res.message = result.message;\n      }\n      const obj = WAPI.scope(newMsgId, true, res, 'The message was not sent');\n      Object.assign(obj, m);\n      return obj;\n    }\n  } else {\n    if (!chat.erro) {\n      chat.erro = true;\n    }\n    return chat;\n  }\n}\n","export function sendMessage2(id, message, done) {\n  var chat = WAPI.getChat(id);\n  if (chat !== undefined) {\n    try {\n      if (done !== undefined) {\n        chat.sendMessage(message).then(function () {\n          done(true);\n        });\n      } else {\n        chat.sendMessage(message);\n      }\n      return true;\n    } catch (error) {\n      if (done !== undefined) done(false);\n      return false;\n    }\n  }\n  if (done !== undefined) done(false);\n  return false;\n}\n","export async function sendMute(chatId, time, type) {\n  var chat = await WAPI.sendExist(chatId);\n  if (!chat.erro) {\n    let TimeInt = null;\n    var result = null,\n      remove = null,\n      texto = null;\n    var To = await WAPI.getchatId(chat.id),\n      isMute = await window.Store.Mute.get(chat.id),\n      m = { type: 'sendMute', time: time, timeType: type };\n    if (typeof time === 'number' && typeof type === 'string') {\n      switch (type) {\n        case 'hours':\n          TimeInt = parseInt(\n            new Date(\n              new Date().setHours(new Date().getHours() + time)\n            ).getTime() / 1000\n          );\n          break;\n        case 'minutes':\n          TimeInt = parseInt(\n            new Date(\n              new Date().setMinutes(new Date().getMinutes() + time)\n            ).getTime() / 1000\n          );\n          break;\n        case 'year':\n          TimeInt = parseInt(\n            new Date(\n              new Date().setDate(new Date().getDate() + time)\n            ).getTime() / 1000\n          );\n          break;\n      }\n      await window.Store.SendMute.sendConversationMute(chat.id, TimeInt, 0)\n        .then((e) => {\n          result = e;\n        })\n        .catch((e) => {\n          result = e;\n        });\n    } else {\n      remove = true;\n      await window.Store.SendMute.sendConversationMute(\n        chat.id,\n        0,\n        isMute.__x_expiration\n      )\n        .then((e) => {\n          result = e;\n        })\n        .catch((e) => {\n          result = e;\n        });\n    }\n    if (result.status === 200) {\n      if (remove) {\n        isMute.__x_expiration = 0;\n        isMute.__x_isMuted = false;\n      } else {\n        isMute.__x_expiration = TimeInt;\n        isMute.__x_isMuted = true;\n      }\n      var obj = WAPI.scope(To, false, result.status, null);\n      Object.assign(obj, m);\n      return obj;\n    } else {\n      if (remove) {\n        texto = 'is not mute to remove';\n      } else {\n        texto = 'This chat is already mute';\n      }\n      var obj = WAPI.scope(To, true, result['status'], texto);\n      Object.assign(obj, m);\n      return obj;\n    }\n  } else {\n    return chat;\n  }\n}\n","import { processFiles } from './process-files';\nimport { base64ToFile } from '../helper';\nimport C from '../jssha';\n/**\n * Sends files\n * @param {string} Base64 base64 encoded file\n * @param {string} chatid Chat id\n */\nexport async function sendPtt(\n  Base64,\n  chatid,\n  passId,\n  checkNumber = true,\n  forcingReturn = false,\n  delSend = true\n) {\n  if (typeof Base64 === 'string' && !Base64.length) {\n    return WAPI.scope(chatid, true, 404, 'Audio not foud');\n  }\n  const chat = checkNumber\n    ? await WAPI.sendExist(chatid)\n    : await WAPI.returnChat(chatid);\n\n  if (chat && chat.status != 404 && chat.id) {\n    const m = { type: 'sendPtt' };\n\n    let inChat = await WAPI.getchatId(chat.id).catch(() => {\n      return WAPI.scope(chat.id, true, 404, 'Error to number ' + chatid);\n    });\n\n    if (inChat) {\n      chat.lastReceivedKey && chat.lastReceivedKey._serialized\n        ? (chat.lastReceivedKey._serialized = inChat._serialized)\n        : '';\n      chat.lastReceivedKey && chat.lastReceivedKey.id\n        ? (chat.lastReceivedKey.id = inChat.id)\n        : '';\n    }\n\n    const newMsgId = !passId\n      ? await window.WAPI.getNewMessageId(chat.id._serialized, checkNumber)\n      : await window.WAPI.setNewMessageId(passId, checkNumber);\n\n    if (!newMsgId) {\n      return WAPI.scope(chat.id, true, 404, 'Error to newId');\n    }\n\n    let result = await Store.Chat.find(chat.id)\n      .then(async (chat) => {\n        const mediaBlob = base64ToFile(Base64);\n        return await processFiles(chat, mediaBlob).then(async (mc) => {\n          if (typeof mc === 'object' && mc._models && mc._models[0]) {\n            const media = mc._models[0];\n            const enc = await WAPI.encryptAndUploadFile('ptt', mediaBlob);\n\n            if (enc === false) {\n              return WAPI.scope(\n                chat.id,\n                true,\n                404,\n                'Error to encryptAndUploadFile'\n              );\n            }\n\n            const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n\n            const message = {\n              id: newMsgId,\n              ack: 0,\n              from: fromwWid,\n              to: chat.id,\n              local: !0,\n              self: 'out',\n              t: parseInt(new Date().getTime() / 1000),\n              isNewMsg: !0,\n              invis: true,\n              type: 'ptt', //media.type,\n              duration: media?.__x_mediaPrep?._mediaData?.duration,\n              deprecatedMms3Url: enc.url,\n              directPath: enc.directPath,\n              encFilehash: enc.encFilehash,\n              filehash: enc.filehash,\n              mediaKeyTimestamp: enc.mediaKeyTimestamp,\n              mimetype: media.mimetype,\n              ephemeralStartTimestamp: enc.mediaKeyTimestamp,\n              mediaKey: enc.mediaKey,\n              size: media.filesize\n            };\n\n            if (forcingReturn) {\n              if (delSend) {\n                while (true) {\n                  const connection = window.Store.State.Socket.state;\n                  if (connection === 'CONNECTED') {\n                    const result = await window.Store.addAndSendMsgToChat(\n                      chat,\n                      message\n                    );\n                    await WAPI.sleep(5000);\n                    const statusMsg = chat.msgs._models.filter(\n                      (e) => e.id === newMsgId._serialized && e.ack > 0\n                    );\n                    if (statusMsg.length === 0) {\n                      await WAPI.deleteMessages(chatid, [newMsgId._serialized]);\n                    } else {\n                      let obj = WAPI.scope(\n                        newMsgId,\n                        false,\n                        WAPI._serializeForcing(result),\n                        null\n                      );\n                      Object.assign(obj, m);\n                      return obj;\n                    }\n                  }\n                }\n              } else {\n                const result = await window.Store.addAndSendMsgToChat(\n                  chat,\n                  message\n                );\n                let obj = WAPI.scope(\n                  newMsgId,\n                  false,\n                  WAPI._serializeForcing(result),\n                  null\n                );\n                Object.assign(obj, m);\n                return obj;\n              }\n            }\n\n            try {\n              return (\n                await Promise.all(\n                  window.Store.addAndSendMsgToChat(chat, message)\n                )\n              )[1];\n            } catch (e) {\n              return WAPI.scope(chat.id, true, 404, 'The message was not sent');\n            }\n          } else {\n            return WAPI.scope(chat.id, true, 404, 'Error to models');\n          }\n        });\n      })\n      .catch((e) => {\n        return WAPI.scope(chat.id, true, 404, 'Error to chat not find');\n      });\n\n    if (result.erro === false) {\n      return result;\n    }\n\n    if (result === 'success' || result === 'OK') {\n      let obj = WAPI.scope(newMsgId, false, result, null);\n      Object.assign(obj, m);\n      return obj;\n    }\n\n    if (result.erro === true) {\n      return result;\n    }\n\n    let obj = WAPI.scope(newMsgId, true, result, null);\n    Object.assign(obj, m);\n    return obj;\n  } else {\n    if (!chat.erro) {\n      chat.erro = true;\n    }\n    return chat;\n  }\n}\n","export async function sendReactions(IdMessage, emoji = '') {\n  if (!IdMessage && IdMessage.length && typeof IdMessage === 'string') {\n    return WAPI.scope(\n      undefined,\n      true,\n      null,\n      'necessary to pass the id of the message!'\n    );\n  }\n  const checkMsg = await Store.Msg.find(IdMessage);\n  if (typeof checkMsg === 'object') {\n    return Store.Reactions.sendReactionToMsg(checkMsg, emoji);\n  }\n  return WAPI.scope(undefined, true, null, 'Message id not found!');\n}\n","export async function sendSticker(sticker, chatId, metadata, type) {\n  const chat = await WAPI.sendExist(chatId);\n\n  if (!chat.erro) {\n    const newMsgId = await window.WAPI.getNewMessageId(chat.id._serialized);\n    const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n    const inChat = await WAPI.getchatId(chat.id).catch(() => {\n      return WAPI.scope(chat.id, true, 404, 'Error to number ' + chatId);\n    });\n    if (inChat) {\n      chat.lastReceivedKey && chat.lastReceivedKey._serialized\n        ? (chat.lastReceivedKey._serialized = inChat._serialized)\n        : '';\n      chat.lastReceivedKey && chat.lastReceivedKey.id\n        ? (chat.lastReceivedKey.id = inChat.id)\n        : '';\n    }\n    const message = {\n      id: newMsgId,\n      ack: 0,\n      encFilehash: sticker.uploadhash,\n      from: fromwWid,\n      to: chat.id,\n      local: !0,\n      self: 'out',\n      t: parseInt(new Date().getTime() / 1000),\n      isNewMsg: !0,\n      type: 'sticker',\n      deprecatedMms3Url: sticker.clientUrl,\n      filehash: sticker.filehash,\n      mediaKey: sticker.mediaKey,\n      mimetype: 'image/webp',\n      height: metadata && metadata.height ? metadata.height : 512,\n      width: metadata && metadata.width ? metadata.width : 512\n    };\n\n    const result = (\n      await Promise.all(window.Store.addAndSendMsgToChat(chat, message))\n    )[1];\n\n    const m = { type: type };\n    if (result === 'success' || result === 'OK') {\n      const obj = WAPI.scope(newMsgId, false, result, null);\n      Object.assign(obj, m);\n      return obj;\n    }\n    const obj = WAPI.scope(newMsgId, true, result, null);\n    Object.assign(obj, m);\n    return obj;\n  } else {\n    return chat;\n  }\n}\n","export async function sendTypeButtons(to, text, title, footer, hButtons) {\n  const chat = await WAPI.sendExist(to);\n\n  if (typeof text != 'string' || text.length === 0) {\n    return WAPI.scope(to, true, 404, 'It is necessary to write a text!');\n  }\n\n  let b = 0;\n\n  if (Array.isArray(hButtons) && hButtons.length > 0) {\n    for (let index in hButtons) {\n      if (typeof hButtons[index] !== 'function') {\n        if (hButtons[index].urlButton) {\n          b++;\n          if (!hButtons[index].urlButton) {\n            return WAPI.scope(to, true, 404, 'passed object urlButton');\n          }\n          if (typeof hButtons[index].urlButton !== 'object') {\n            return WAPI.scope(\n              to,\n              true,\n              404,\n              'passed object value in urlButton'\n            );\n          }\n          if (!hButtons[index].urlButton.displayText) {\n            return WAPI.scope(to, true, 404, 'passed object displayText');\n          }\n\n          if (typeof hButtons[index].urlButton.displayText !== 'string') {\n            return WAPI.scope(\n              to,\n              true,\n              404,\n              'passed string value in displayText'\n            );\n          }\n          if (!hButtons[index].urlButton.url) {\n            return WAPI.scope(to, true, 404, 'passed object url');\n          }\n          if (typeof hButtons[index].urlButton.url !== 'string') {\n            return WAPI.scope(to, true, 404, 'passed string value in url');\n          }\n        }\n\n        if (hButtons[index].callButton) {\n          b++;\n          if (!hButtons[index].callButton) {\n            return WAPI.scope(to, true, 404, 'passed object callButton');\n          }\n          if (typeof hButtons[index].callButton !== 'object') {\n            return WAPI.scope(\n              to,\n              true,\n              404,\n              'passed object value in callButton'\n            );\n          }\n          if (!hButtons[index].callButton.displayText) {\n            return WAPI.scope(to, true, 404, 'passed object displayText');\n          }\n          if (typeof hButtons[index].callButton.displayText !== 'string') {\n            return WAPI.scope(\n              to,\n              true,\n              404,\n              'passed string value in displayText'\n            );\n          }\n          if (!hButtons[index].callButton.phoneNumber) {\n            return WAPI.scope(to, true, 404, 'passed object phoneNumber');\n          }\n          if (typeof hButtons[index].callButton.phoneNumber !== 'string') {\n            return WAPI.scope(\n              to,\n              true,\n              404,\n              'passed string value in phoneNumber'\n            );\n          }\n        }\n\n        if (hButtons[index].quickReplyButton) {\n          b++;\n          if (!hButtons[index].quickReplyButton) {\n            return WAPI.scope(to, true, 404, 'passed object quickReplyButton');\n          }\n          if (typeof hButtons[index].quickReplyButton !== 'object') {\n            return WAPI.scope(\n              to,\n              true,\n              404,\n              'passed object value in quickReplyButton'\n            );\n          }\n          if (!hButtons[index].quickReplyButton.displayText) {\n            return WAPI.scope(to, true, 404, 'passed object displayText');\n          }\n          if (\n            typeof hButtons[index].quickReplyButton.displayText !== 'string'\n          ) {\n            return WAPI.scope(\n              to,\n              true,\n              404,\n              'passed string value in displayText'\n            );\n          }\n          if (!hButtons[index].quickReplyButton.id) {\n            hButtons[index].quickReplyButton.id = `id${index}`;\n          }\n        }\n      }\n    }\n  }\n\n  if (b === 0) {\n    return WAPI.scope(to, true, 404, 'button type not specified!');\n  }\n  if (chat && chat.status != 404 && chat.id) {\n    const newMsgId = await window.WAPI.getNewMessageId(chat.id._serialized);\n    const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n    const buttons = new Store.TemplateButtonCollection();\n    const message = {\n      from: fromwWid,\n      id: newMsgId,\n      ack: 0,\n      to: chat.id,\n      local: !0,\n      self: 'out',\n      isNewMsg: !0,\n      t: parseInt(new Date().getTime() / 1000),\n      type: 'chat',\n      isQuotedMsgAvailable: true,\n      isFromTemplate: true,\n      footer: footer,\n      body: text,\n      buttons,\n      __x_title: title,\n      hydratedButtons: hButtons\n    };\n\n    message.buttons.add(\n      message.hydratedButtons.map((e, t) => {\n        const r = `${null != e.index ? e.index : t}`;\n        if (e.quickReplyButton) {\n          return new Store.templateButton({\n            id: r,\n            displayText: e.quickReplyButton.displayText,\n            selectionId: e.quickReplyButton.id,\n            subtype: 'quick_reply'\n          });\n        }\n        if (e.urlButton) {\n          return new Store.templateButton({\n            id: r,\n            displayText: e.urlButton.displayText,\n            url: e.urlButton?.url,\n            subtype: 'url'\n          });\n        }\n        if (e.callButton) {\n          return new Store.templateButton({\n            id: r,\n            displayText: e.callButton.displayText,\n            phoneNumber: e.callButton.phoneNumber,\n            subtype: 'call'\n          });\n        }\n      })\n    );\n\n    var result = (\n      await Promise.all(window.Store.addAndSendMsgToChat(chat, message))\n    )[1];\n    if (result === 'success' || result === 'OK') {\n      return WAPI.scope(newMsgId, false, result, null);\n    } else {\n      return WAPI.scope(newMsgId, true, result, null);\n    }\n  } else {\n    return chat;\n  }\n}\n","import { processFiles } from './process-files';\nimport { base64ToFile } from '../helper';\n\n/**\n * Sends video as a gif to given chat id\n * @param {string} dataBase64\n * @param {string} chatid\n * @param {string} filename\n * @param {string} caption\n * @param {Function} done Optional callback\n */\nexport function sendVideoAsGif(dataBase64, chatid, filename, caption, done) {\n  // const idUser = new window.Store.UserConstructor(chatid);\n  const idUser = new Store.WidFactory.createWid(chatid);\n  return Store.Chat.find(idUser).then((chat) => {\n    var mediaBlob = base64ToFile(dataBase64, filename);\n    processFiles(chat, mediaBlob).then((mc) => {\n      var media = mc.models[0];\n      media.mediaPrep._mediaData.isGif = true;\n      media.mediaPrep._mediaData.gifAttribution = 1;\n      media.mediaPrep.sendToChat(chat, { caption: caption });\n      if (done !== undefined) done(true);\n    });\n  });\n}\n","/**\n * Send message with options\n * @param {string} chatid the numberid xxx@c.us\n * @param {string} content the message\n * @param {string} options object aditionais\n */\nexport async function sendMessageOptions(chatId, content, options = {}) {\n  const chat = Store.Chat.get(chatId);\n  let attOptions = {};\n  if (options.attachment) {\n    attOptions = await WWebJS.processMediaData(\n      options.attachment,\n      options.sendAudioAsVoice\n    );\n    content = attOptions.preview;\n    delete options.attachment;\n  }\n\n  let quotedMsgOptions = {};\n  if (options.quotedMessageId) {\n    let quotedMessage = await WAPI.getMessageById(\n      options.quotedMessageId,\n      null,\n      false\n    );\n    if (quotedMessage && quotedMessage.canReply()) {\n      quotedMsgOptions = quotedMessage.msgContextInfo(chat);\n    }\n    delete options.quotedMessageId;\n  }\n\n  if (options.mentionedJidList) {\n    options.mentionedJidList = options.mentionedJidList.map(\n      (cId) => window.Store.Contact.get(cId).id\n    );\n  }\n\n  let locationOptions = {};\n  if (options.location) {\n    locationOptions = {\n      type: 'location',\n      loc: options.location.description,\n      lat: options.location.latitude,\n      lng: options.location.longitude\n    };\n    delete options.location;\n  }\n\n  let vcardOptions = {};\n  if (options.contactCard) {\n    let contact = window.Store.Contact.get(options.contactCard);\n    vcardOptions = {\n      body: window.Store.VCard.vcardFromContactModel(contact).vcard,\n      type: 'vcard',\n      vcardFormattedName: contact.formattedName\n    };\n    delete options.contactCard;\n  } else if (options.contactCardList) {\n    let contacts = options.contactCardList.map((c) =>\n      window.Store.Contact.get(c)\n    );\n    let vcards = contacts.map((c) =>\n      window.Store.VCard.vcardFromContactModel(c)\n    );\n    vcardOptions = {\n      type: 'multi_vcard',\n      vcardList: vcards,\n      body: undefined\n    };\n    delete options.contactCardList;\n  } else if (\n    options.parseVCards &&\n    typeof content === 'string' &&\n    content.startsWith('BEGIN:VCARD')\n  ) {\n    delete options.parseVCards;\n    try {\n      const parsed = await window.Store.VCard.parseVcard(content);\n      if (parsed) {\n        vcardOptions = {\n          type: 'vcard',\n          vcardFormattedName: await window.Store.VCard.vcardGetNameFromParsed(\n            parsed\n          )\n        };\n      }\n    } catch (_) {\n      // not a vcard\n    }\n  }\n\n  if (options.linkPreview) {\n    delete options.linkPreview;\n    const link = await window.Store.Validators.findLink(content);\n    if (link) {\n      const preview = await window.Store.Wap2.default.queryLinkPreview(\n        link.url\n      );\n      preview.preview = true;\n      preview.subtype = 'url';\n      options = { ...options, ...preview };\n    }\n  }\n  const newMsgId = await window.WAPI.getNewMessageId(chat.id);\n  const fromwWid = await Store.MaybeMeUser.getMaybeMeUser();\n  const message = {\n    ...options,\n    id: newMsgId,\n    ack: 0,\n    body: content,\n    from: fromwWid,\n    to: chat.id,\n    local: !0,\n    self: 'out',\n    t: parseInt(new Date().getTime() / 1000),\n    isNewMsg: !0,\n    type: 'chat',\n    ...locationOptions,\n    ...attOptions,\n    ...quotedMsgOptions,\n    ...vcardOptions\n  };\n\n  await window.Store.addAndSendMsgToChat(chat, message);\n\n  return newMsgId._serialized;\n}\n","/**\n * Parameters to change group description\n * @param {string} groupId group number\n * @param {string} description group description\n */\nexport async function setGroupDescription(groupId, description) {\n  if (typeof description != 'string' || description.length === 0) {\n    return WAPI.scope(\n      undefined,\n      true,\n      null,\n      'It is necessary to write a text!'\n    );\n  }\n  const chat = await WAPI.sendExist(groupId);\n  if (chat && chat.status != 404) {\n    const m = { type: 'setGroupDescription', description };\n    const To = await WAPI.getchatId(chat.id);\n    return window.Store.GroupDesc.setGroupDesc(chat, description)\n      .then(() => {\n        const obj = WAPI.scope(To, false, 'OK', description);\n        Object.assign(obj, m);\n        return obj;\n      })\n      .catch(() => {\n        const obj = WAPI.scope(To, true, 'error', description);\n        Object.assign(obj, m);\n        return obj;\n      });\n  } else {\n    return chat;\n  }\n}\n","/**\n * Parameters to change group title\n * @param {string} groupId group number\n * @param {GroupSettings} settings\n * @param {boolean} value\n */\nexport async function setGroupSettings(groupId, settings, value) {\n  if (typeof settings != 'string' || settings.length === 0) {\n    return WAPI.scope(\n      undefined,\n      true,\n      null,\n      'It is necessary to write a settings!'\n    );\n  }\n  const chat = await WAPI.sendExist(groupId);\n  if (chat && chat.status != 404) {\n    const m = { type: 'setGroupSettings', settings };\n    const To = await WAPI.getchatId(chat.id);\n    const Value = { type: 'setGroupSettings', value };\n    return window.Store.GroupSettings.sendSetGroupProperty(\n      chat.id,\n      settings,\n      value\n    )\n      .then(() => {\n        const obj = WAPI.scope(To, false, 'OK', m, Value);\n        Object.assign(obj, m);\n        return obj;\n      })\n      .catch(() => {\n        const obj = WAPI.scope(To, true, 'error', m, Value);\n        Object.assign(obj, m);\n        return obj;\n      });\n  } else {\n    return chat;\n  }\n}\n","/**\n * Parameters to change group title\n * @param {string} groupId group number\n * @param {string} title group name\n */\nexport async function setGroupTitle(groupId, title) {\n  if (typeof title != 'string' || title.length === 0) {\n    return WAPI.scope(\n      undefined,\n      true,\n      null,\n      'It is necessary to write a text!'\n    );\n  }\n  const chat = await WAPI.sendExist(groupId);\n  if (chat && chat.status != 404) {\n    const m = { type: 'setGroupTitle', title };\n    const To = await WAPI.getchatId(chat.id);\n    return window.Store.GroupTitle.sendSetGroupSubject(chat.id, title)\n      .then(() => {\n        const obj = WAPI.scope(To, false, 'OK', title);\n        Object.assign(obj, m);\n        return obj;\n      })\n      .catch(() => {\n        const obj = WAPI.scope(To, true, 'error', title);\n        Object.assign(obj, m);\n        return obj;\n      });\n  } else {\n    return chat;\n  }\n}\n","export async function setMyName(name) {\n  await window.Store.Perfil.setPushname(name);\n}\n","export function setMyStatus(status) {\n  return Store.MyStatus.setMyStatus(status);\n}\n","export async function setNewMessageId(info, checkNumber = true) {\n  if (\n    info &&\n    typeof info === 'object' &&\n    info.number &&\n    info._serialized &&\n    info.id\n  ) {\n    const chat = checkNumber\n      ? await WAPI.sendExist(info.number)\n      : await WAPI.returnChat(info.number);\n    delete info.number;\n    if (chat.id) {\n      const newMsgId = new Object();\n      newMsgId.fromMe = true;\n      newMsgId.id = info.id;\n      newMsgId.remote = await new Store.WidFactory.createWid(\n        chat.id._serialized\n      );\n      newMsgId._serialized = `${newMsgId.fromMe}_${newMsgId.remote}_${newMsgId.id}`;\n      const Msgkey = await new Store.MsgKey(newMsgId);\n      return Msgkey;\n    } else {\n      return false;\n    }\n  } else {\n    return false;\n  }\n}\n","export async function setPresenceOffline() {\n  await Store.Presence.setPresenceUnavailable();\n  return true;\n}\n","export async function setPresenceOnline() {\n  await Store.Presence.setPresenceAvailable();\n  return true;\n}\n","export async function setProfilePic(obj, id) {\n  if (!id) {\n    id = await Store.MaybeMeUser.getMaybeMeUser();\n  } else {\n    id = new Store.WidFactory.createWid(id);\n  }\n  let base64 = 'data:image/jpeg;base64,';\n  return await Store.Profile.sendSetPicture(id, base64 + obj.b, base64 + obj.a);\n}\n","/**\n * Start Typing\n * @param chatId\n * @param checkNumber the number when submitting!\n */\nexport async function startTyping(chatId, checkNumber = true) {\n  const chat = checkNumber\n    ? await WAPI.sendExist(chatId)\n    : await WAPI.returnChat(chatId);\n  if (chat && chat.status != 404 && chat.id) {\n    await WAPI.presenceAvailable();\n    const result = await Store.SetStatusChat.markComposing(chat);\n    return WAPI.scope(undefined, false, result);\n  }\n  if (!chat.erro) {\n    chat.erro = true;\n  }\n  return chat;\n}\n\n/**\n * Start Recording audio\n * @param chatId\n * @param checkNumber the number when submitting!\n */\nexport async function startRecording(chatId, checkNumber = true) {\n  const chat = checkNumber\n    ? await WAPI.sendExist(chatId)\n    : await WAPI.returnChat(chatId);\n  if (chat && chat.status != 404 && chat.id) {\n    await WAPI.presenceAvailable();\n    const result = await Store.SetStatusChat.markRecording(chat);\n    return WAPI.scope(undefined, false, result);\n  }\n  if (!chat.erro) {\n    chat.erro = true;\n  }\n  return chat;\n}\n\n/**\n * Stop Recording audio\n * @param chatId\n * @param checkNumber the number when submitting!\n */\nexport async function markPaused(chatId, checkNumber = true) {\n  const chat = checkNumber\n    ? await WAPI.sendExist(chatId)\n    : await WAPI.returnChat(chatId);\n  if (chat && chat.status != 404 && chat.id) {\n    await WAPI.presenceAvailable();\n    const result = await Store.SetStatusChat.markPaused(chat);\n    return WAPI.scope(undefined, false, result);\n  }\n  if (!chat.erro) {\n    chat.erro = true;\n  }\n  return chat;\n}\n\n/**\n * @param chatId\n * @param checkNumber the number when submitting!\n */\nexport async function clearPresence(chatId, checkNumber = true) {\n  const chat = checkNumber\n    ? await WAPI.sendExist(chatId)\n    : await WAPI.returnChat(chatId);\n  if (chat && chat.status != 404 && chat.id) {\n    const result = await Store.SetStatusChat.clearPresence(chat);\n    return WAPI.scope(undefined, false, result);\n  }\n  if (!chat.erro) {\n    chat.erro = true;\n  }\n  return chat;\n}\n\nexport async function presenceAvailable() {\n  return await Store.SetStatusChat.sendPresenceAvailable();\n}\n\nexport async function presenceUnavailable() {\n  return await Store.SetStatusChat.sendPresenceUnavailable();\n}\n","export async function setTheme(type) {\n  if (type == 'dark' || type == 'light') {\n    await Store.Theme.setTheme(type);\n    return true;\n  } else {\n    return console.error('Use type dark or light');\n  }\n}\n\nexport async function getTheme() {\n  return await Store.Theme.getTheme();\n}\n","export async function unblockContact(_id) {\n  if (!_id) {\n    return false;\n  }\n  const __contact = window.Store.Contact.get(_id);\n  if (__contact !== undefined) {\n    await Store.Block.unblockContact(__contact);\n    return true;\n  } else {\n    return false;\n  }\n}\n","export function arrayBufferToBase64(arrayBuffer) {\n  var base64 = '';\n  var encodings =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n  var bytes = new Uint8Array(arrayBuffer);\n  var byteLength = bytes.byteLength;\n  var byteRemainder = byteLength % 3;\n  var mainLength = byteLength - byteRemainder;\n\n  var a, b, c, d;\n  var chunk;\n\n  // Main loop deals with bytes in chunks of 3\n  for (var i = 0; i < mainLength; i = i + 3) {\n    // Combine the three bytes into a single integer\n    chunk = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n\n    // Use bitmasks to extract 6-bit segments from the triplet\n    a = (chunk & 16515072) >> 18; // 16515072 = (2^6 - 1) << 18\n    b = (chunk & 258048) >> 12; // 258048   = (2^6 - 1) << 12\n    c = (chunk & 4032) >> 6; // 4032     = (2^6 - 1) << 6\n    d = chunk & 63; // 63       = 2^6 - 1\n\n    // Convert the raw binary segments to the appropriate ASCII encoding\n    base64 += encodings[a] + encodings[b] + encodings[c] + encodings[d];\n  }\n\n  // Deal with the remaining bytes and padding\n  if (byteRemainder == 1) {\n    chunk = bytes[mainLength];\n\n    a = (chunk & 252) >> 2; // 252 = (2^6 - 1) << 2\n\n    // Set the 4 least significant bits to zero\n    b = (chunk & 3) << 4; // 3   = 2^2 - 1\n\n    base64 += encodings[a] + encodings[b] + '==';\n  } else if (byteRemainder == 2) {\n    chunk = (bytes[mainLength] << 8) | bytes[mainLength + 1];\n\n    a = (chunk & 64512) >> 10; // 64512 = (2^6 - 1) << 10\n    b = (chunk & 1008) >> 4; // 1008  = (2^6 - 1) << 4\n\n    // Set the 2 least significant bits to zero\n    c = (chunk & 15) << 2; // 15    = 2^4 - 1\n\n    base64 += encodings[a] + encodings[b] + encodings[c] + '=';\n  }\n  return base64;\n}\n","export function base64ToFile(base64, filename) {\n  try {\n    const arr = base64.split(',');\n    let mime = arr[0].match(/(?:data:)?(.*?)(?:;base64)?$/i)[1];\n    mime = mime.split(/\\s+;\\s+/).join('; '); // Fix spaces, like \"audio/ogg; codecs=opus\"\n\n    const bstr = window.Base64 ? window.Base64.atob(arr[1]) : atob(arr[1]);\n    let n = bstr.length;\n    const u8arr = new Uint8Array(n);\n\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n);\n    }\n\n    return new File([u8arr], filename, {\n      type: mime\n    });\n  } catch {\n    return false;\n  }\n}\n","export async function filterModule(filterObjects, modules) {\n  let found = 0;\n  for (let i in modules) {\n    if (typeof modules[i] === 'object' && modules[i] !== null) {\n      filterObjects.forEach((needObj) => {\n        if (!needObj.when | needObj.yesModule) return;\n\n        const checkObj = needObj.when(modules[i]);\n        if (checkObj !== null) {\n          found++;\n          needObj.yesModule = checkObj;\n        }\n      });\n      if (found == filterObjects.length) {\n        break;\n      }\n    }\n  }\n  return filterObjects;\n}\n","export const filterObjects = [\n  {\n    type: 'Chat',\n    when: (module) =>\n      module.default && module.default.Chat && module.default.Msg\n        ? module.default.Chat\n        : null\n  },\n  {\n    type: 'MaybeMeUser',\n    when: (module) => (module.getMaybeMeUser ? module : null)\n  },\n  {\n    type: 'Participants',\n    when: (module) =>\n      module.addParticipants && module.promoteCommunityParticipants\n        ? module\n        : null\n  },\n  {\n    type: 'checkNumber',\n    when: (module) => (module.queryExist ? module : null)\n  },\n  {\n    type: 'checkNumberBeta',\n    when: (module) => (module.queryPhoneExists ? module : null)\n  }\n];\n","export function generateMediaKey(length) {\n  let result = '';\n  let characters =\n    'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * characters.length));\n  }\n  return result;\n}\n","import * as jsSHA from '../jssha';\nexport async function getFileHash(data) {\n  let buffer = await data.arrayBuffer();\n  var sha = new jsSHA('SHA-256', 'ARRAYBUFFER');\n  sha.update(buffer);\n  return sha.getHash('B64');\n}\n","export { base64ToFile } from './base64-to-file';\nexport { getFileHash } from './get-file-hash';\nexport { generateMediaKey } from './generate-media-key';\nexport { arrayBufferToBase64 } from './array-buffer-to-base64';\nexport { sleep } from './sleep';\n\nexport { injectConfig } from './inject-config';\nexport { filterObjects } from './filter-object';\nexport { filterModule } from './filter-module';\n","export const injectConfig = {\n  webpack: 'webpackChunkwhatsapp_web_client',\n  parasite: Math.random().toString(36).substring(7)\n};\n","export function sleep(time) {\n  try {\n    return new Promise((resolve) => setTimeout(resolve, time));\n  } catch (e) {}\n}\n","'use strict';\n(function (aa) {\n  function C(e, b, a) {\n    var k = 0,\n      h = [],\n      l = 0,\n      g,\n      m,\n      c,\n      f,\n      n,\n      q,\n      u,\n      r,\n      I = !1,\n      v = [],\n      x = [],\n      t,\n      y = !1,\n      z = !1,\n      w = -1;\n    a = a || {};\n    g = a.encoding || 'UTF8';\n    t = a.numRounds || 1;\n    if (t !== parseInt(t, 10) || 1 > t)\n      throw Error('numRounds must a integer >= 1');\n    if ('SHA-1' === e)\n      (n = 512),\n        (q = K),\n        (u = ba),\n        (f = 160),\n        (r = function (b) {\n          return b.slice();\n        });\n    else if (0 === e.lastIndexOf('SHA-', 0))\n      if (\n        ((q = function (b, k) {\n          return L(b, k, e);\n        }),\n        (u = function (b, k, h, a) {\n          var d, f;\n          if ('SHA-224' === e || 'SHA-256' === e)\n            (d = (((k + 65) >>> 9) << 4) + 15), (f = 16);\n          else if ('SHA-384' === e || 'SHA-512' === e)\n            (d = (((k + 129) >>> 10) << 5) + 31), (f = 32);\n          else throw Error('Unexpected error in SHA-2 implementation');\n          for (; b.length <= d; ) b.push(0);\n          b[k >>> 5] |= 128 << (24 - (k % 32));\n          k = k + h;\n          b[d] = k & 4294967295;\n          b[d - 1] = (k / 4294967296) | 0;\n          h = b.length;\n          for (k = 0; k < h; k += f) a = L(b.slice(k, k + f), a, e);\n          if ('SHA-224' === e) b = [a[0], a[1], a[2], a[3], a[4], a[5], a[6]];\n          else if ('SHA-256' === e) b = a;\n          else if ('SHA-384' === e)\n            b = [\n              a[0].a,\n              a[0].b,\n              a[1].a,\n              a[1].b,\n              a[2].a,\n              a[2].b,\n              a[3].a,\n              a[3].b,\n              a[4].a,\n              a[4].b,\n              a[5].a,\n              a[5].b\n            ];\n          else if ('SHA-512' === e)\n            b = [\n              a[0].a,\n              a[0].b,\n              a[1].a,\n              a[1].b,\n              a[2].a,\n              a[2].b,\n              a[3].a,\n              a[3].b,\n              a[4].a,\n              a[4].b,\n              a[5].a,\n              a[5].b,\n              a[6].a,\n              a[6].b,\n              a[7].a,\n              a[7].b\n            ];\n          else throw Error('Unexpected error in SHA-2 implementation');\n          return b;\n        }),\n        (r = function (b) {\n          return b.slice();\n        }),\n        'SHA-224' === e)\n      )\n        (n = 512), (f = 224);\n      else if ('SHA-256' === e) (n = 512), (f = 256);\n      else if ('SHA-384' === e) (n = 1024), (f = 384);\n      else if ('SHA-512' === e) (n = 1024), (f = 512);\n      else throw Error('Chosen SHA variant is not supported');\n    else if (\n      0 === e.lastIndexOf('SHA3-', 0) ||\n      0 === e.lastIndexOf('SHAKE', 0)\n    ) {\n      var F = 6;\n      q = D;\n      r = function (b) {\n        var e = [],\n          a;\n        for (a = 0; 5 > a; a += 1) e[a] = b[a].slice();\n        return e;\n      };\n      w = 1;\n      if ('SHA3-224' === e) (n = 1152), (f = 224);\n      else if ('SHA3-256' === e) (n = 1088), (f = 256);\n      else if ('SHA3-384' === e) (n = 832), (f = 384);\n      else if ('SHA3-512' === e) (n = 576), (f = 512);\n      else if ('SHAKE128' === e) (n = 1344), (f = -1), (F = 31), (z = !0);\n      else if ('SHAKE256' === e) (n = 1088), (f = -1), (F = 31), (z = !0);\n      else throw Error('Chosen SHA variant is not supported');\n      u = function (b, e, a, k, h) {\n        a = n;\n        var d = F,\n          f,\n          g = [],\n          l = a >>> 5,\n          m = 0,\n          c = e >>> 5;\n        for (f = 0; f < c && e >= a; f += l)\n          (k = D(b.slice(f, f + l), k)), (e -= a);\n        b = b.slice(f);\n        for (e %= a; b.length < l; ) b.push(0);\n        f = e >>> 3;\n        b[f >> 2] ^= d << ((f % 4) * 8);\n        b[l - 1] ^= 2147483648;\n        for (k = D(b, k); 32 * g.length < h; ) {\n          b = k[m % 5][(m / 5) | 0];\n          g.push(b.b);\n          if (32 * g.length >= h) break;\n          g.push(b.a);\n          m += 1;\n          0 === (64 * m) % a && D(null, k);\n        }\n        return g;\n      };\n    } else throw Error('Chosen SHA variant is not supported');\n    c = M(b, g, w);\n    m = A(e);\n    this.setHMACKey = function (b, a, h) {\n      var d;\n      if (!0 === I) throw Error('HMAC key already set');\n      if (!0 === y) throw Error('Cannot set HMAC key after calling update');\n      if (!0 === z) throw Error('SHAKE is not supported for HMAC');\n      g = (h || {}).encoding || 'UTF8';\n      a = M(a, g, w)(b);\n      b = a.binLen;\n      a = a.value;\n      d = n >>> 3;\n      h = d / 4 - 1;\n      if (d < b / 8) {\n        for (a = u(a, b, 0, A(e), f); a.length <= h; ) a.push(0);\n        a[h] &= 4294967040;\n      } else if (d > b / 8) {\n        for (; a.length <= h; ) a.push(0);\n        a[h] &= 4294967040;\n      }\n      for (b = 0; b <= h; b += 1)\n        (v[b] = a[b] ^ 909522486), (x[b] = a[b] ^ 1549556828);\n      m = q(v, m);\n      k = n;\n      I = !0;\n    };\n    this.update = function (b) {\n      var a,\n        e,\n        d,\n        f = 0,\n        g = n >>> 5;\n      a = c(b, h, l);\n      b = a.binLen;\n      e = a.value;\n      a = b >>> 5;\n      for (d = 0; d < a; d += g)\n        f + n <= b && ((m = q(e.slice(d, d + g), m)), (f += n));\n      k += f;\n      h = e.slice(f >>> 5);\n      l = b % n;\n      y = !0;\n    };\n    this.getHash = function (b, a) {\n      var d, g, c, n;\n      if (!0 === I) throw Error('Cannot call getHash after setting HMAC key');\n      c = N(a);\n      if (!0 === z) {\n        if (-1 === c.shakeLen)\n          throw Error('shakeLen must be specified in options');\n        f = c.shakeLen;\n      }\n      switch (b) {\n        case 'HEX':\n          d = function (b) {\n            return O(b, f, w, c);\n          };\n          break;\n        case 'B64':\n          d = function (b) {\n            return P(b, f, w, c);\n          };\n          break;\n        case 'BYTES':\n          d = function (b) {\n            return Q(b, f, w);\n          };\n          break;\n        case 'ARRAYBUFFER':\n          try {\n            g = new ArrayBuffer(0);\n          } catch (p) {\n            throw Error('ARRAYBUFFER not supported by this environment');\n          }\n          d = function (b) {\n            return R(b, f, w);\n          };\n          break;\n        case 'UINT8ARRAY':\n          try {\n            g = new Uint8Array(0);\n          } catch (p) {\n            throw Error('UINT8ARRAY not supported by this environment');\n          }\n          d = function (b) {\n            return S(b, f, w);\n          };\n          break;\n        default:\n          throw Error(\n            'format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY'\n          );\n      }\n      n = u(h.slice(), l, k, r(m), f);\n      for (g = 1; g < t; g += 1)\n        !0 === z &&\n          0 !== f % 32 &&\n          (n[n.length - 1] &= 16777215 >>> (24 - (f % 32))),\n          (n = u(n, f, 0, A(e), f));\n      return d(n);\n    };\n    this.getHMAC = function (b, a) {\n      var d, g, c, p;\n      if (!1 === I)\n        throw Error('Cannot call getHMAC without first setting HMAC key');\n      c = N(a);\n      switch (b) {\n        case 'HEX':\n          d = function (b) {\n            return O(b, f, w, c);\n          };\n          break;\n        case 'B64':\n          d = function (b) {\n            return P(b, f, w, c);\n          };\n          break;\n        case 'BYTES':\n          d = function (b) {\n            return Q(b, f, w);\n          };\n          break;\n        case 'ARRAYBUFFER':\n          try {\n            d = new ArrayBuffer(0);\n          } catch (v) {\n            throw Error('ARRAYBUFFER not supported by this environment');\n          }\n          d = function (b) {\n            return R(b, f, w);\n          };\n          break;\n        case 'UINT8ARRAY':\n          try {\n            d = new Uint8Array(0);\n          } catch (v) {\n            throw Error('UINT8ARRAY not supported by this environment');\n          }\n          d = function (b) {\n            return S(b, f, w);\n          };\n          break;\n        default:\n          throw Error(\n            'outputFormat must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY'\n          );\n      }\n      g = u(h.slice(), l, k, r(m), f);\n      p = q(x, A(e));\n      p = u(g, f, n, p, f);\n      return d(p);\n    };\n  }\n  function a(a, b) {\n    this.a = a;\n    this.b = b;\n  }\n  function T(a, b, d, k) {\n    var h, l, g, c, p;\n    b = b || [0];\n    d = d || 0;\n    l = d >>> 3;\n    p = -1 === k ? 3 : 0;\n    for (h = 0; h < a.length; h += 1)\n      (c = h + l),\n        (g = c >>> 2),\n        b.length <= g && b.push(0),\n        (b[g] |= a[h] << (8 * (p + (c % 4) * k)));\n    return { value: b, binLen: 8 * a.length + d };\n  }\n  function O(a, b, d, k) {\n    var h = '';\n    b /= 8;\n    var l, g, c;\n    c = -1 === d ? 3 : 0;\n    for (l = 0; l < b; l += 1)\n      (g = a[l >>> 2] >>> (8 * (c + (l % 4) * d))),\n        (h +=\n          '0123456789abcdef'.charAt((g >>> 4) & 15) +\n          '0123456789abcdef'.charAt(g & 15));\n    return k.outputUpper ? h.toUpperCase() : h;\n  }\n  function P(a, b, d, k) {\n    var h = '',\n      l = b / 8,\n      g,\n      c,\n      p,\n      f;\n    f = -1 === d ? 3 : 0;\n    for (g = 0; g < l; g += 3)\n      for (\n        c = g + 1 < l ? a[(g + 1) >>> 2] : 0,\n          p = g + 2 < l ? a[(g + 2) >>> 2] : 0,\n          p =\n            (((a[g >>> 2] >>> (8 * (f + (g % 4) * d))) & 255) << 16) |\n            (((c >>> (8 * (f + ((g + 1) % 4) * d))) & 255) << 8) |\n            ((p >>> (8 * (f + ((g + 2) % 4) * d))) & 255),\n          c = 0;\n        4 > c;\n        c += 1\n      )\n        8 * g + 6 * c <= b\n          ? (h +=\n              'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.charAt(\n                (p >>> (6 * (3 - c))) & 63\n              ))\n          : (h += k.b64Pad);\n    return h;\n  }\n  function Q(a, b, d) {\n    var k = '';\n    b /= 8;\n    var h, c, g;\n    g = -1 === d ? 3 : 0;\n    for (h = 0; h < b; h += 1)\n      (c = (a[h >>> 2] >>> (8 * (g + (h % 4) * d))) & 255),\n        (k += String.fromCharCode(c));\n    return k;\n  }\n  function R(a, b, d) {\n    b /= 8;\n    var k,\n      h = new ArrayBuffer(b),\n      c,\n      g;\n    g = new Uint8Array(h);\n    c = -1 === d ? 3 : 0;\n    for (k = 0; k < b; k += 1)\n      g[k] = (a[k >>> 2] >>> (8 * (c + (k % 4) * d))) & 255;\n    return h;\n  }\n  function S(a, b, d) {\n    b /= 8;\n    var k,\n      h = new Uint8Array(b),\n      c;\n    c = -1 === d ? 3 : 0;\n    for (k = 0; k < b; k += 1)\n      h[k] = (a[k >>> 2] >>> (8 * (c + (k % 4) * d))) & 255;\n    return h;\n  }\n  function N(a) {\n    var b = { outputUpper: !1, b64Pad: '=', shakeLen: -1 };\n    a = a || {};\n    b.outputUpper = a.outputUpper || !1;\n    !0 === a.hasOwnProperty('b64Pad') && (b.b64Pad = a.b64Pad);\n    if (!0 === a.hasOwnProperty('shakeLen')) {\n      if (0 !== a.shakeLen % 8) throw Error('shakeLen must be a multiple of 8');\n      b.shakeLen = a.shakeLen;\n    }\n    if ('boolean' !== typeof b.outputUpper)\n      throw Error('Invalid outputUpper formatting option');\n    if ('string' !== typeof b.b64Pad)\n      throw Error('Invalid b64Pad formatting option');\n    return b;\n  }\n  function M(a, b, d) {\n    switch (b) {\n      case 'UTF8':\n      case 'UTF16BE':\n      case 'UTF16LE':\n        break;\n      default:\n        throw Error('encoding must be UTF8, UTF16BE, or UTF16LE');\n    }\n    switch (a) {\n      case 'HEX':\n        a = function (b, a, e) {\n          var g = b.length,\n            c,\n            p,\n            f,\n            n,\n            q,\n            u;\n          if (0 !== g % 2)\n            throw Error('String of HEX type must be in byte increments');\n          a = a || [0];\n          e = e || 0;\n          q = e >>> 3;\n          u = -1 === d ? 3 : 0;\n          for (c = 0; c < g; c += 2) {\n            p = parseInt(b.substr(c, 2), 16);\n            if (isNaN(p))\n              throw Error('String of HEX type contains invalid characters');\n            n = (c >>> 1) + q;\n            for (f = n >>> 2; a.length <= f; ) a.push(0);\n            a[f] |= p << (8 * (u + (n % 4) * d));\n          }\n          return { value: a, binLen: 4 * g + e };\n        };\n        break;\n      case 'TEXT':\n        a = function (a, e, c) {\n          var g,\n            m,\n            p = 0,\n            f,\n            n,\n            q,\n            u,\n            r,\n            t;\n          e = e || [0];\n          c = c || 0;\n          q = c >>> 3;\n          if ('UTF8' === b)\n            for (t = -1 === d ? 3 : 0, f = 0; f < a.length; f += 1)\n              for (\n                g = a.charCodeAt(f),\n                  m = [],\n                  128 > g\n                    ? m.push(g)\n                    : 2048 > g\n                    ? (m.push(192 | (g >>> 6)), m.push(128 | (g & 63)))\n                    : 55296 > g || 57344 <= g\n                    ? m.push(\n                        224 | (g >>> 12),\n                        128 | ((g >>> 6) & 63),\n                        128 | (g & 63)\n                      )\n                    : ((f += 1),\n                      (g =\n                        65536 +\n                        (((g & 1023) << 10) | (a.charCodeAt(f) & 1023))),\n                      m.push(\n                        240 | (g >>> 18),\n                        128 | ((g >>> 12) & 63),\n                        128 | ((g >>> 6) & 63),\n                        128 | (g & 63)\n                      )),\n                  n = 0;\n                n < m.length;\n                n += 1\n              ) {\n                r = p + q;\n                for (u = r >>> 2; e.length <= u; ) e.push(0);\n                e[u] |= m[n] << (8 * (t + (r % 4) * d));\n                p += 1;\n              }\n          else if ('UTF16BE' === b || 'UTF16LE' === b)\n            for (\n              t = -1 === d ? 2 : 0,\n                m =\n                  ('UTF16LE' === b && 1 !== d) || ('UTF16LE' !== b && 1 === d),\n                f = 0;\n              f < a.length;\n              f += 1\n            ) {\n              g = a.charCodeAt(f);\n              !0 === m && ((n = g & 255), (g = (n << 8) | (g >>> 8)));\n              r = p + q;\n              for (u = r >>> 2; e.length <= u; ) e.push(0);\n              e[u] |= g << (8 * (t + (r % 4) * d));\n              p += 2;\n            }\n          return { value: e, binLen: 8 * p + c };\n        };\n        break;\n      case 'B64':\n        a = function (b, a, e) {\n          var c = 0,\n            m,\n            p,\n            f,\n            n,\n            q,\n            u,\n            r,\n            t;\n          if (-1 === b.search(/^[a-zA-Z0-9=+\\/]+$/))\n            throw Error('Invalid character in base-64 string');\n          p = b.indexOf('=');\n          b = b.replace(/\\=/g, '');\n          if (-1 !== p && p < b.length)\n            throw Error(\"Invalid '=' found in base-64 string\");\n          a = a || [0];\n          e = e || 0;\n          u = e >>> 3;\n          t = -1 === d ? 3 : 0;\n          for (p = 0; p < b.length; p += 4) {\n            q = b.substr(p, 4);\n            for (f = n = 0; f < q.length; f += 1)\n              (m =\n                'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.indexOf(\n                  q.charAt(f)\n                )),\n                (n |= m << (18 - 6 * f));\n            for (f = 0; f < q.length - 1; f += 1) {\n              r = c + u;\n              for (m = r >>> 2; a.length <= m; ) a.push(0);\n              a[m] |= ((n >>> (16 - 8 * f)) & 255) << (8 * (t + (r % 4) * d));\n              c += 1;\n            }\n          }\n          return { value: a, binLen: 8 * c + e };\n        };\n        break;\n      case 'BYTES':\n        a = function (b, a, e) {\n          var c, m, p, f, n, q;\n          a = a || [0];\n          e = e || 0;\n          p = e >>> 3;\n          q = -1 === d ? 3 : 0;\n          for (m = 0; m < b.length; m += 1)\n            (c = b.charCodeAt(m)),\n              (n = m + p),\n              (f = n >>> 2),\n              a.length <= f && a.push(0),\n              (a[f] |= c << (8 * (q + (n % 4) * d)));\n          return { value: a, binLen: 8 * b.length + e };\n        };\n        break;\n      case 'ARRAYBUFFER':\n        try {\n          a = new ArrayBuffer(0);\n        } catch (k) {\n          throw Error('ARRAYBUFFER not supported by this environment');\n        }\n        a = function (b, a, e) {\n          return T(new Uint8Array(b), a, e, d);\n        };\n        break;\n      case 'UINT8ARRAY':\n        try {\n          a = new Uint8Array(0);\n        } catch (k) {\n          throw Error('UINT8ARRAY not supported by this environment');\n        }\n        a = function (b, a, e) {\n          return T(b, a, e, d);\n        };\n        break;\n      default:\n        throw Error(\n          'format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY'\n        );\n    }\n    return a;\n  }\n  function y(a, b) {\n    return (a << b) | (a >>> (32 - b));\n  }\n  function U(e, b) {\n    return 32 < b\n      ? ((b -= 32),\n        new a((e.b << b) | (e.a >>> (32 - b)), (e.a << b) | (e.b >>> (32 - b))))\n      : 0 !== b\n      ? new a((e.a << b) | (e.b >>> (32 - b)), (e.b << b) | (e.a >>> (32 - b)))\n      : e;\n  }\n  function x(a, b) {\n    return (a >>> b) | (a << (32 - b));\n  }\n  function t(e, b) {\n    var d = null,\n      d = new a(e.a, e.b);\n    return (d =\n      32 >= b\n        ? new a(\n            (d.a >>> b) | ((d.b << (32 - b)) & 4294967295),\n            (d.b >>> b) | ((d.a << (32 - b)) & 4294967295)\n          )\n        : new a(\n            (d.b >>> (b - 32)) | ((d.a << (64 - b)) & 4294967295),\n            (d.a >>> (b - 32)) | ((d.b << (64 - b)) & 4294967295)\n          ));\n  }\n  function V(e, b) {\n    var d = null;\n    return (d =\n      32 >= b\n        ? new a(e.a >>> b, (e.b >>> b) | ((e.a << (32 - b)) & 4294967295))\n        : new a(0, e.a >>> (b - 32)));\n  }\n  function ca(a, b, d) {\n    return (a & b) ^ (~a & d);\n  }\n  function da(e, b, d) {\n    return new a((e.a & b.a) ^ (~e.a & d.a), (e.b & b.b) ^ (~e.b & d.b));\n  }\n  function W(a, b, d) {\n    return (a & b) ^ (a & d) ^ (b & d);\n  }\n  function ea(e, b, d) {\n    return new a(\n      (e.a & b.a) ^ (e.a & d.a) ^ (b.a & d.a),\n      (e.b & b.b) ^ (e.b & d.b) ^ (b.b & d.b)\n    );\n  }\n  function fa(a) {\n    return x(a, 2) ^ x(a, 13) ^ x(a, 22);\n  }\n  function ga(e) {\n    var b = t(e, 28),\n      d = t(e, 34);\n    e = t(e, 39);\n    return new a(b.a ^ d.a ^ e.a, b.b ^ d.b ^ e.b);\n  }\n  function ha(a) {\n    return x(a, 6) ^ x(a, 11) ^ x(a, 25);\n  }\n  function ia(e) {\n    var b = t(e, 14),\n      d = t(e, 18);\n    e = t(e, 41);\n    return new a(b.a ^ d.a ^ e.a, b.b ^ d.b ^ e.b);\n  }\n  function ja(a) {\n    return x(a, 7) ^ x(a, 18) ^ (a >>> 3);\n  }\n  function ka(e) {\n    var b = t(e, 1),\n      d = t(e, 8);\n    e = V(e, 7);\n    return new a(b.a ^ d.a ^ e.a, b.b ^ d.b ^ e.b);\n  }\n  function la(a) {\n    return x(a, 17) ^ x(a, 19) ^ (a >>> 10);\n  }\n  function ma(e) {\n    var b = t(e, 19),\n      d = t(e, 61);\n    e = V(e, 6);\n    return new a(b.a ^ d.a ^ e.a, b.b ^ d.b ^ e.b);\n  }\n  function G(a, b) {\n    var d = (a & 65535) + (b & 65535);\n    return (\n      ((((a >>> 16) + (b >>> 16) + (d >>> 16)) & 65535) << 16) | (d & 65535)\n    );\n  }\n  function na(a, b, d, k) {\n    var h = (a & 65535) + (b & 65535) + (d & 65535) + (k & 65535);\n    return (\n      ((((a >>> 16) + (b >>> 16) + (d >>> 16) + (k >>> 16) + (h >>> 16)) &\n        65535) <<\n        16) |\n      (h & 65535)\n    );\n  }\n  function H(a, b, d, k, h) {\n    var c = (a & 65535) + (b & 65535) + (d & 65535) + (k & 65535) + (h & 65535);\n    return (\n      ((((a >>> 16) +\n        (b >>> 16) +\n        (d >>> 16) +\n        (k >>> 16) +\n        (h >>> 16) +\n        (c >>> 16)) &\n        65535) <<\n        16) |\n      (c & 65535)\n    );\n  }\n  function oa(e, b) {\n    var d, k, c;\n    d = (e.b & 65535) + (b.b & 65535);\n    k = (e.b >>> 16) + (b.b >>> 16) + (d >>> 16);\n    c = ((k & 65535) << 16) | (d & 65535);\n    d = (e.a & 65535) + (b.a & 65535) + (k >>> 16);\n    k = (e.a >>> 16) + (b.a >>> 16) + (d >>> 16);\n    return new a(((k & 65535) << 16) | (d & 65535), c);\n  }\n  function pa(e, b, d, k) {\n    var c, l, g;\n    c = (e.b & 65535) + (b.b & 65535) + (d.b & 65535) + (k.b & 65535);\n    l = (e.b >>> 16) + (b.b >>> 16) + (d.b >>> 16) + (k.b >>> 16) + (c >>> 16);\n    g = ((l & 65535) << 16) | (c & 65535);\n    c =\n      (e.a & 65535) +\n      (b.a & 65535) +\n      (d.a & 65535) +\n      (k.a & 65535) +\n      (l >>> 16);\n    l = (e.a >>> 16) + (b.a >>> 16) + (d.a >>> 16) + (k.a >>> 16) + (c >>> 16);\n    return new a(((l & 65535) << 16) | (c & 65535), g);\n  }\n  function qa(e, b, d, k, c) {\n    var l, g, m;\n    l =\n      (e.b & 65535) +\n      (b.b & 65535) +\n      (d.b & 65535) +\n      (k.b & 65535) +\n      (c.b & 65535);\n    g =\n      (e.b >>> 16) +\n      (b.b >>> 16) +\n      (d.b >>> 16) +\n      (k.b >>> 16) +\n      (c.b >>> 16) +\n      (l >>> 16);\n    m = ((g & 65535) << 16) | (l & 65535);\n    l =\n      (e.a & 65535) +\n      (b.a & 65535) +\n      (d.a & 65535) +\n      (k.a & 65535) +\n      (c.a & 65535) +\n      (g >>> 16);\n    g =\n      (e.a >>> 16) +\n      (b.a >>> 16) +\n      (d.a >>> 16) +\n      (k.a >>> 16) +\n      (c.a >>> 16) +\n      (l >>> 16);\n    return new a(((g & 65535) << 16) | (l & 65535), m);\n  }\n  function B(e, b) {\n    return new a(e.a ^ b.a, e.b ^ b.b);\n  }\n  function A(e) {\n    var b = [],\n      d;\n    if ('SHA-1' === e)\n      b = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];\n    else if (0 === e.lastIndexOf('SHA-', 0))\n      switch (\n        ((b = [\n          3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025,\n          1694076839, 3204075428\n        ]),\n        (d = [\n          1779033703, 3144134277, 1013904242, 2773480762, 1359893119,\n          2600822924, 528734635, 1541459225\n        ]),\n        e)\n      ) {\n        case 'SHA-224':\n          break;\n        case 'SHA-256':\n          b = d;\n          break;\n        case 'SHA-384':\n          b = [\n            new a(3418070365, b[0]),\n            new a(1654270250, b[1]),\n            new a(2438529370, b[2]),\n            new a(355462360, b[3]),\n            new a(1731405415, b[4]),\n            new a(41048885895, b[5]),\n            new a(3675008525, b[6]),\n            new a(1203062813, b[7])\n          ];\n          break;\n        case 'SHA-512':\n          b = [\n            new a(d[0], 4089235720),\n            new a(d[1], 2227873595),\n            new a(d[2], 4271175723),\n            new a(d[3], 1595750129),\n            new a(d[4], 2917565137),\n            new a(d[5], 725511199),\n            new a(d[6], 4215389547),\n            new a(d[7], 327033209)\n          ];\n          break;\n        default:\n          throw Error('Unknown SHA variant');\n      }\n    else if (0 === e.lastIndexOf('SHA3-', 0) || 0 === e.lastIndexOf('SHAKE', 0))\n      for (e = 0; 5 > e; e += 1)\n        b[e] = [\n          new a(0, 0),\n          new a(0, 0),\n          new a(0, 0),\n          new a(0, 0),\n          new a(0, 0)\n        ];\n    else throw Error('No SHA variants supported');\n    return b;\n  }\n  function K(a, b) {\n    var d = [],\n      k,\n      c,\n      l,\n      g,\n      m,\n      p,\n      f;\n    k = b[0];\n    c = b[1];\n    l = b[2];\n    g = b[3];\n    m = b[4];\n    for (f = 0; 80 > f; f += 1)\n      (d[f] =\n        16 > f ? a[f] : y(d[f - 3] ^ d[f - 8] ^ d[f - 14] ^ d[f - 16], 1)),\n        (p =\n          20 > f\n            ? H(y(k, 5), (c & l) ^ (~c & g), m, 1518500249, d[f])\n            : 40 > f\n            ? H(y(k, 5), c ^ l ^ g, m, 1859775393, d[f])\n            : 60 > f\n            ? H(y(k, 5), W(c, l, g), m, 2400959708, d[f])\n            : H(y(k, 5), c ^ l ^ g, m, 3395469782, d[f])),\n        (m = g),\n        (g = l),\n        (l = y(c, 30)),\n        (c = k),\n        (k = p);\n    b[0] = G(k, b[0]);\n    b[1] = G(c, b[1]);\n    b[2] = G(l, b[2]);\n    b[3] = G(g, b[3]);\n    b[4] = G(m, b[4]);\n    return b;\n  }\n  function ba(a, b, d, c) {\n    var h;\n    for (h = (((b + 65) >>> 9) << 4) + 15; a.length <= h; ) a.push(0);\n    a[b >>> 5] |= 128 << (24 - (b % 32));\n    b += d;\n    a[h] = b & 4294967295;\n    a[h - 1] = (b / 4294967296) | 0;\n    b = a.length;\n    for (h = 0; h < b; h += 16) c = K(a.slice(h, h + 16), c);\n    return c;\n  }\n  function L(e, b, d) {\n    var k,\n      h,\n      l,\n      g,\n      m,\n      p,\n      f,\n      n,\n      q,\n      u,\n      r,\n      t,\n      v,\n      x,\n      y,\n      A,\n      z,\n      w,\n      F,\n      B,\n      C,\n      D,\n      E = [],\n      J;\n    if ('SHA-224' === d || 'SHA-256' === d)\n      (u = 64),\n        (t = 1),\n        (D = Number),\n        (v = G),\n        (x = na),\n        (y = H),\n        (A = ja),\n        (z = la),\n        (w = fa),\n        (F = ha),\n        (C = W),\n        (B = ca),\n        (J = c);\n    else if ('SHA-384' === d || 'SHA-512' === d)\n      (u = 80),\n        (t = 2),\n        (D = a),\n        (v = oa),\n        (x = pa),\n        (y = qa),\n        (A = ka),\n        (z = ma),\n        (w = ga),\n        (F = ia),\n        (C = ea),\n        (B = da),\n        (J = X);\n    else throw Error('Unexpected error in SHA-2 implementation');\n    d = b[0];\n    k = b[1];\n    h = b[2];\n    l = b[3];\n    g = b[4];\n    m = b[5];\n    p = b[6];\n    f = b[7];\n    for (r = 0; r < u; r += 1)\n      16 > r\n        ? ((q = r * t),\n          (n = e.length <= q ? 0 : e[q]),\n          (q = e.length <= q + 1 ? 0 : e[q + 1]),\n          (E[r] = new D(n, q)))\n        : (E[r] = x(z(E[r - 2]), E[r - 7], A(E[r - 15]), E[r - 16])),\n        (n = y(f, F(g), B(g, m, p), J[r], E[r])),\n        (q = v(w(d), C(d, k, h))),\n        (f = p),\n        (p = m),\n        (m = g),\n        (g = v(l, n)),\n        (l = h),\n        (h = k),\n        (k = d),\n        (d = v(n, q));\n    b[0] = v(d, b[0]);\n    b[1] = v(k, b[1]);\n    b[2] = v(h, b[2]);\n    b[3] = v(l, b[3]);\n    b[4] = v(g, b[4]);\n    b[5] = v(m, b[5]);\n    b[6] = v(p, b[6]);\n    b[7] = v(f, b[7]);\n    return b;\n  }\n  function D(e, b) {\n    var d,\n      c,\n      h,\n      l,\n      g = [],\n      m = [];\n    if (null !== e)\n      for (c = 0; c < e.length; c += 2)\n        b[(c >>> 1) % 5][((c >>> 1) / 5) | 0] = B(\n          b[(c >>> 1) % 5][((c >>> 1) / 5) | 0],\n          new a(e[c + 1], e[c])\n        );\n    for (d = 0; 24 > d; d += 1) {\n      l = A('SHA3-');\n      for (c = 0; 5 > c; c += 1) {\n        h = b[c][0];\n        var p = b[c][1],\n          f = b[c][2],\n          n = b[c][3],\n          q = b[c][4];\n        g[c] = new a(h.a ^ p.a ^ f.a ^ n.a ^ q.a, h.b ^ p.b ^ f.b ^ n.b ^ q.b);\n      }\n      for (c = 0; 5 > c; c += 1) m[c] = B(g[(c + 4) % 5], U(g[(c + 1) % 5], 1));\n      for (c = 0; 5 > c; c += 1)\n        for (h = 0; 5 > h; h += 1) b[c][h] = B(b[c][h], m[c]);\n      for (c = 0; 5 > c; c += 1)\n        for (h = 0; 5 > h; h += 1)\n          l[h][(2 * c + 3 * h) % 5] = U(b[c][h], Y[c][h]);\n      for (c = 0; 5 > c; c += 1)\n        for (h = 0; 5 > h; h += 1)\n          b[c][h] = B(\n            l[c][h],\n            new a(\n              ~l[(c + 1) % 5][h].a & l[(c + 2) % 5][h].a,\n              ~l[(c + 1) % 5][h].b & l[(c + 2) % 5][h].b\n            )\n          );\n      b[0][0] = B(b[0][0], Z[d]);\n    }\n    return b;\n  }\n  var c, X, Y, Z;\n  c = [\n    1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993,\n    2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987,\n    1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,\n    264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986,\n    2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711,\n    113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,\n    1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411,\n    3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344,\n    430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,\n    1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424,\n    2428436474, 2756734187, 3204031479, 3329325298\n  ];\n  X = [\n    new a(c[0], 3609767458),\n    new a(c[1], 602891725),\n    new a(c[2], 3964484399),\n    new a(c[3], 2173295548),\n    new a(c[4], 4081628472),\n    new a(c[5], 3053834265),\n    new a(c[6], 2937671579),\n    new a(c[7], 3664609560),\n    new a(c[8], 2734883394),\n    new a(c[9], 1164996542),\n    new a(c[10], 1323610764),\n    new a(c[11], 3590304994),\n    new a(c[12], 4068182383),\n    new a(c[13], 991336113),\n    new a(c[14], 633803317),\n    new a(c[15], 3479774868),\n    new a(c[16], 2666613458),\n    new a(c[17], 944711139),\n    new a(c[18], 2341262773),\n    new a(c[19], 2007800933),\n    new a(c[20], 1495990901),\n    new a(c[21], 1856431235),\n    new a(c[22], 3175218132),\n    new a(c[23], 2198950837),\n    new a(c[24], 3999719339),\n    new a(c[25], 766784016),\n    new a(c[26], 2566594879),\n    new a(c[27], 3203337956),\n    new a(c[28], 1034457026),\n    new a(c[29], 2466948901),\n    new a(c[30], 3758326383),\n    new a(c[31], 168717936),\n    new a(c[32], 1188179964),\n    new a(c[33], 1546045734),\n    new a(c[34], 1522805485),\n    new a(c[35], 2643833823),\n    new a(c[36], 2343527390),\n    new a(c[37], 1014477480),\n    new a(c[38], 1206759142),\n    new a(c[39], 344077627),\n    new a(c[40], 1290863460),\n    new a(c[41], 3158454273),\n    new a(c[42], 3505952657),\n    new a(c[43], 106217008),\n    new a(c[44], 3606008344),\n    new a(c[45], 1432725776),\n    new a(c[46], 1467031594),\n    new a(c[47], 851169720),\n    new a(c[48], 3100823752),\n    new a(c[49], 1363258195),\n    new a(c[50], 3750685593),\n    new a(c[51], 3785050280),\n    new a(c[52], 3318307427),\n    new a(c[53], 3812723403),\n    new a(c[54], 2003034995),\n    new a(c[55], 3602036899),\n    new a(c[56], 1575990012),\n    new a(c[57], 1125592928),\n    new a(c[58], 2716904306),\n    new a(c[59], 442776044),\n    new a(c[60], 593698344),\n    new a(c[61], 3733110249),\n    new a(c[62], 2999351573),\n    new a(c[63], 3815920427),\n    new a(3391569614, 3928383900),\n    new a(3515267271, 566280711),\n    new a(3940187606, 3454069534),\n    new a(4118630271, 4000239992),\n    new a(116418474, 1914138554),\n    new a(174292421, 2731055270),\n    new a(289380356, 3203993006),\n    new a(460393269, 320620315),\n    new a(685471733, 587496836),\n    new a(852142971, 1086792851),\n    new a(1017036298, 365543100),\n    new a(1126000580, 2618297676),\n    new a(1288033470, 3409855158),\n    new a(1501505948, 4234509866),\n    new a(1607167915, 987167468),\n    new a(1816402316, 1246189591)\n  ];\n  Z = [\n    new a(0, 1),\n    new a(0, 32898),\n    new a(2147483648, 32906),\n    new a(2147483648, 2147516416),\n    new a(0, 32907),\n    new a(0, 2147483649),\n    new a(2147483648, 2147516545),\n    new a(2147483648, 32777),\n    new a(0, 138),\n    new a(0, 136),\n    new a(0, 2147516425),\n    new a(0, 2147483658),\n    new a(0, 2147516555),\n    new a(2147483648, 139),\n    new a(2147483648, 32905),\n    new a(2147483648, 32771),\n    new a(2147483648, 32770),\n    new a(2147483648, 128),\n    new a(0, 32778),\n    new a(2147483648, 2147483658),\n    new a(2147483648, 2147516545),\n    new a(2147483648, 32896),\n    new a(0, 2147483649),\n    new a(2147483648, 2147516424)\n  ];\n  Y = [\n    [0, 36, 3, 41, 18],\n    [1, 44, 10, 45, 2],\n    [62, 6, 43, 15, 61],\n    [28, 55, 25, 21, 56],\n    [27, 20, 39, 8, 14]\n  ];\n  'function' === typeof define && define.amd\n    ? define(function () {\n        return C;\n      })\n    : 'undefined' !== typeof exports\n    ? ('undefined' !== typeof module && module.exports && (module.exports = C),\n      (exports = C))\n    : (aa.jsSHA = C);\n})(this);\n","","export function addNewMessagesListener() {\n  window.WAPI.waitNewMessages = waitNewMessages;\n}\n\n/**\n * Registers a callback to be called when a new message arrives the WAPI.\n * @param rmCallbackAfterUse - Boolean - Specify if the callback need to be executed only once\n * @param done - function - Callback function to be called when a new message arrives.\n * @returns {boolean}\n */\nfunction waitNewMessages(rmCallbackAfterUse = true, done) {\n  window.WAPI._newMessagesCallbacks.push({\n    callback: (e) => {\n      done(e);\n    },\n    rmAfterUse: rmCallbackAfterUse\n  });\n  return true;\n}\n","export function addOnAddedToGroup() {\n  /**\n   * Registers a callback that fires when your host phone is added to a group.\n   * @param callback - function - Callback function to be called when a message acknowledgement changes. The callback returns 3 variables\n   * @returns {boolean}\n   */\n  window.WAPI.onAddedToGroup = function (callback) {\n    window.WAPI.waitForStore(['Chat', 'Msg'], () => {\n      Store.Chat.on('add', (chatObject) => {\n        if (chatObject && chatObject.isGroup) {\n          callback(chatObject);\n        }\n      });\n    });\n    return true;\n  };\n}\n","export function addonChatState() {\n  window.WAPI.onChatState = function (callback) {\n    window.WAPI.waitForStore(['Chat'], () => {\n      Store.Chat.on('change:presence.chatstate.type', (e) => {\n        const event = e._events.all[0].context;\n        const obj = {\n          id: event.id,\n          isGroup: event.isGroup,\n          isUser: event.isUser,\n          type: e.type\n        };\n        callback(obj);\n      });\n    });\n    return true;\n  };\n}\n","export function addOnLiveLocation() {\n  window.WAPI.onLiveLocation = async function (chatId, callback) {\n    return await window.WAPI.waitForStore(['LiveLocation'], () => {\n      var lLChat = Store.LiveLocation.get(chatId);\n      if (lLChat) {\n        var validLocs = lLChat.participants.validLocations();\n        validLocs.map((x) =>\n          x.on('change:lastUpdated', (x, y, z) => {\n            console.log(x, y, z);\n            const { id, lat, lng, accuracy, degrees, speed, lastUpdated } = x;\n            const l = {\n              id: id.toString(),\n              lat,\n              lng,\n              accuracy,\n              degrees,\n              speed,\n              lastUpdated\n            };\n            // console.log('newloc',l)\n            callback(l);\n          })\n        );\n        return true;\n      } else {\n        return false;\n      }\n    });\n  };\n}\n","export function addOnNewAcks() {\n  window.WAPI.onAck = function (callback) {\n    window.WAPI.waitForStore(['Chat', 'Msg'], () => {\n      Store.Msg.on('change:ack', (e) => {\n        callback(e);\n      });\n    });\n    return true;\n  };\n}\n","let groupParticpiantsEvents = {};\n\n/**\n * Registers on participants change listener\n */\nexport function addOnParticipantsChange() {\n  /**\n   * Registers a callback to participant changes on a certain, specific group\n   * @param groupId - string - The id of the group that you want to attach the callback to.\n   * @param callback - function - Callback function to be called when a message acknowledgement changes. The callback returns 3 variables\n   * @returns {boolean}\n   */\n  window.WAPI.onParticipantsChanged = async function (groupId, callback) {\n    return await window.WAPI.waitForStore(['Chat', 'Msg'], () => {\n      const subtypeEvents = [\n        'invite',\n        'add',\n        'remove',\n        'leave',\n        'promote',\n        'demote'\n      ];\n      const chat = window.Store.Chat.get(groupId);\n      //attach all group Participants to the events object as 'add'\n      const metadata = window.Store.GroupMetadata.get(groupId);\n      if (!groupParticpiantsEvents[groupId]) {\n        groupParticpiantsEvents[groupId] = {};\n        metadata.participants.forEach((participant) => {\n          groupParticpiantsEvents[groupId][participant.id.toString()] = {\n            subtype: 'add',\n            from: metadata.owner\n          };\n        });\n      }\n      let i = 0;\n      chat.on('change:groupMetadata.participants', (_) =>\n        chat.on('all', (x, y) => {\n          const { isGroup, previewMessage } = y;\n          if (\n            isGroup &&\n            x === 'change' &&\n            previewMessage &&\n            previewMessage.type === 'gp2' &&\n            subtypeEvents.includes(previewMessage.subtype)\n          ) {\n            const { subtype, from, recipients } = previewMessage;\n            const rec = recipients[0].toString();\n            if (\n              groupParticpiantsEvents[groupId][rec] &&\n              groupParticpiantsEvents[groupId][recipients[0]].subtype == subtype\n            ) {\n              //ignore, this is a duplicate entry\n              // console.log('duplicate event')\n            } else {\n              //ignore the first message\n              if (i == 0) {\n                //ignore it, plus 1,\n                i++;\n              } else {\n                groupParticpiantsEvents[groupId][rec] = {\n                  subtype,\n                  from\n                };\n                //fire the callback\n                // // previewMessage.from.toString()\n                // x removed y\n                // x added y\n                callback({\n                  by: from.toString(),\n                  action: subtype,\n                  who: recipients\n                });\n                chat.off('all', this);\n                i = 0;\n              }\n            }\n          }\n        })\n      );\n      return true;\n    });\n  };\n}\n","export function addonFilePicThumb() {\n  window.WAPI.onFilePicThumb = function (callback) {\n    Store.ProfilePicThumb.on('change:img', (e) => {\n      const obj = {\n        attributes: e.attributes,\n        eurl: e.eurl,\n        eurlStale: e.eurlStale,\n        fallbackType: e.fallbackType,\n        id: e.id,\n        img: e.img,\n        imgFull: e.imgFull,\n        isState: e.isState,\n        pendingPic: e.pendingPic,\n        raw: e.raw,\n        stale: e.stale,\n        tag: e.tag,\n        token: e.token\n      };\n      callback(obj);\n    });\n\n    return true;\n  };\n}\n","export function addOnStateChange() {\n  let initialized = false;\n  const getData = () => {\n    return window.Store.State.Socket.state;\n  };\n\n  window.WAPI.onStateChange = function (callback) {\n    window.WAPI.waitForStore('State', () => {\n      window.Store.State.Socket.on('change:state', () => callback(getData()));\n      if (!initialized) {\n        initialized = true;\n        callback(getData());\n      }\n    });\n    return true;\n  };\n}\n\nexport function addOnStreamChange() {\n  let initialized = false;\n  let getData = () => {\n    return window.Store.State.Socket.stream;\n  };\n\n  window.WAPI.onStreamChange = function (callback) {\n    window.WAPI.waitForStore('State', () => {\n      window.Store.State.Socket.on('change:stream', () => callback(getData()));\n      if (!initialized) {\n        initialized = true;\n        callback(getData());\n      }\n    });\n    return true;\n  };\n}\n","export function addOnStream() {\n  let initialized = false;\n  const getData = () => {\n    return {\n      displayInfo: window.Store.Stream.displayInfo,\n      mode: window.Store.Stream.mode,\n      info: window.Store.Stream.info\n    };\n  };\n\n  window.WAPI.onInterfaceChange = (callback) => {\n    window.WAPI.waitForStore('Stream', () => {\n      window.Store.Stream.on('change:info change:displayInfo change:mode', () =>\n        callback(getData())\n      );\n      if (initialized === false) {\n        initialized = true;\n        callback(getData());\n      }\n    });\n    return true;\n  };\n}\n","export function addonUnreadMessage() {\n  window.WAPI.onUnreadMessage = function (callback) {\n    Store.Chat.on('change:unreadCount', (e) => {\n      if (e.unreadCount > 0) {\n        let arr = [];\n        let t = e.msgs._models.slice(-e.unreadCount);\n        for (let r in t) {\n          let message = WAPI.processMessageObj(t[r], true, true);\n          if (message) {\n            arr.push(message);\n          }\n        }\n        callback(arr);\n      }\n    });\n    return true;\n  };\n}\n","export { initNewMessagesListener } from './init-listeners';\nexport { addNewMessagesListener } from './add-new-messages';\nexport { allNewMessagesListener } from './add-all-new-messages';\nexport { addOnStateChange, addOnStreamChange } from './add-on-state-change';\nexport { addOnNewAcks } from './add-on-new-ack';\nexport { addOnLiveLocation } from './add-on-live-location';\nexport { addOnParticipantsChange } from './add-on-participants-change';\nexport { addOnAddedToGroup } from './add-on-added-to-group';\nexport { addonFilePicThumb } from './add-on-pictumb-change';\nexport { addonChatState } from './add-on-chatstate-change';\nexport { addonUnreadMessage } from './add-unread-message';\nexport { addOnStream } from './add-on-stream';\n","export function initNewMessagesListener() {\n  window.WAPI.waitForStore(['Chat', 'Msg'], () => {\n    window.WAPI._newMessagesListener = window.Store.Msg.on(\n      'add',\n      (newMessage) => {\n        if (newMessage && newMessage.isNewMsg && !newMessage.isSentByMe) {\n          let message = window.WAPI.processMessageObj(newMessage, false, false);\n          if (message) {\n            window.WAPI._newMessagesQueue.push(message);\n            window.WAPI._newMessagesBuffer.push(message);\n          }\n\n          // Starts debouncer time to don't call a callback for each message if more than one message arrives\n          // in the same second\n          if (\n            !window.WAPI._newMessagesDebouncer &&\n            window.WAPI._newMessagesQueue.length > 0\n          ) {\n            window.WAPI._newMessagesDebouncer = setTimeout(() => {\n              let queuedMessages = window.WAPI._newMessagesQueue;\n\n              window.WAPI._newMessagesDebouncer = null;\n              window.WAPI._newMessagesQueue = [];\n\n              let removeCallbacks = [];\n\n              window.WAPI._newMessagesCallbacks.forEach(function (callbackObj) {\n                if (callbackObj.callback !== undefined) {\n                  callbackObj.callback(queuedMessages);\n                }\n                if (callbackObj.rmAfterUse === true) {\n                  removeCallbacks.push(callbackObj);\n                }\n              });\n\n              // Remove removable callbacks.\n              removeCallbacks.forEach(function (rmCallbackObj) {\n                let callbackIndex =\n                  window.WAPI._newMessagesCallbacks.indexOf(rmCallbackObj);\n                window.WAPI._newMessagesCallbacks.splice(callbackIndex, 1);\n              });\n            }, 1000);\n          }\n        }\n      }\n    );\n  });\n\n  window.WAPI._unloadInform = (event) => {\n    // Save in the buffer the ungot unreaded messages\n    window.WAPI._newMessagesBuffer.forEach((message) => {\n      Object.keys(message).forEach((key) =>\n        message[key] === undefined ? delete message[key] : ''\n      );\n    });\n\n    sessionStorage.setItem(\n      'saved_msgs',\n      JSON.stringify(window.WAPI._newMessagesBuffer)\n    );\n\n    // Inform callbacks that the page will be reloaded.\n    window.WAPI._newMessagesCallbacks.forEach(function (callbackObj) {\n      if (callbackObj.callback !== undefined) {\n        callbackObj.callback({\n          status: -1,\n          message: 'page will be reloaded, wait and register callback again.'\n        });\n      }\n    });\n  };\n}\n","export { _serializeChatObj } from './serialize-chat';\nexport { _serializeRawObj } from './serialize-raw';\nexport { _serializeMessageObj } from './serialize-message';\nexport { _serializeContactObj } from './serialize-contact';\nexport { _serializeProfilePicThumb } from './serialize-profile-pic-thumb';\nexport { _serializeMeObj } from './serielize-me';\nexport { _serializeForcing } from './serialize-forcing';\n","import { _serializeRawObj } from './serialize-raw';\n/**\n * Serializes a chat object\n * @param rawChat Chat object\n * @returns {Chat}\n */\nexport const _serializeChatObj = (obj) => {\n  if (obj == undefined) {\n    return null;\n  }\n  return Object.assign(window.WAPI._serializeRawObj(obj), {\n    kind: obj?.kind,\n    isGroup: obj?.isGroup,\n    contact: obj?.contact\n      ? window.WAPI._serializeContactObj(obj?.contact)\n      : null,\n    groupMetadata: obj?.groupMetadata\n      ? window.WAPI._serializeRawObj(obj?.groupMetadata)\n      : null,\n    presence: obj?.presence\n      ? window.WAPI._serializeRawObj(obj?.presence)\n      : null,\n    msgs: null,\n    tcToken: null,\n    isOnline: obj?.__x_presence?.attributes?.isOnline || null,\n    lastSeen: obj?.previewMessage?.__x_ephemeralStartTimestamp\n      ? obj.previewMessage.__x_ephemeralStartTimestamp * 1000\n      : null\n  });\n};\n","export const _serializeContactObj = (obj) => {\n  if (obj == undefined) {\n    return null;\n  }\n\n  if (!obj.profilePicThumb && obj.id && window.Store.ProfilePicThumb) {\n    obj.profilePicThumb = window.Store.ProfilePicThumb.get(obj.id);\n  }\n\n  return Object.assign(window.WAPI._serializeRawObj(obj), {\n    formattedName: obj?.formattedName,\n    displayName: obj?.displayName,\n    formattedShortName: obj?.formattedShortName,\n    formattedShortNameWithNonBreakingSpaces:\n      obj?.formattedShortNameWithNonBreakingSpaces,\n    isHighLevelVerified: obj?.isHighLevelVerified,\n    isMe: obj?.isMe,\n    mentionName: obj?.mentionName,\n    notifyName: obj?.notifyName,\n    isMyContact: obj?.isMyContact,\n    isPSA: obj?.isPSA,\n    isUser: obj?.isUser,\n    isVerified: obj?.isVerified,\n    isWAContact: obj?.isWAContact,\n    profilePicThumbObj: obj?.profilePicThumb\n      ? WAPI._serializeProfilePicThumb(obj?.profilePicThumb)\n      : {},\n    statusMute: obj?.statusMute,\n    msgs: null\n  });\n};\n","export const _serializeForcing = (obj) => {\n  if (Array.isArray(obj) && obj.length && obj[0] && obj[0]._value) {\n    const refactore = obj[0]._value;\n    const newObj = {};\n    Object.assign(newObj, {\n      ack: refactore?.ack,\n      body: refactore?.body,\n      from: refactore?.from,\n      id: refactore?.id,\n      sender: refactore?.sender\n    });\n    return newObj;\n  }\n\n  return null;\n};\n","export const _serializeMessageObj = (obj) => {\n  if (obj == undefined) {\n    return null;\n  }\n  const _chat = obj['chat'] ? WAPI._serializeChatObj(obj['chat']) : {};\n  // if (obj.quotedMsg) obj.quotedMsgObj();\n\n  return Object.assign(window.WAPI._serializeRawObj(obj), {\n    id: obj?.id?._serialized,\n    from: obj?.from?._serialized,\n    quotedParticipant: obj?.quotedParticipant?._serialized\n      ? obj?.quotedParticipant?._serialized\n      : undefined,\n    author: obj?.author?._serialized ? obj?.author?._serialized : undefined,\n    chatId: obj?.id?.remote\n      ? obj?.id?.remote\n      : obj?.chatId?._serialized\n      ? obj?.chatId?._serialized\n      : undefined,\n    to: obj?.to?._serialized ? obj?.to?._serialized : undefined,\n    fromMe: obj?.id?.fromMe,\n    sender: obj?.senderObj ? WAPI._serializeContactObj(obj?.senderObj) : null,\n    timestamp: obj?.t,\n    content: obj?.body,\n    body: obj?.body,\n    isLink: obj?.isLink,\n    isMMS: obj?.isMMS,\n    isMedia: obj?.isMedia,\n    isNotification: obj?.isNotification,\n    isPSA: obj?.isPSA,\n    type: obj?.type,\n    chat: _chat,\n    isOnline: _chat?.isOnline,\n    lastSeen: _chat?.lastSeen,\n    quotedMsgObj: obj?.quotedMsg,\n    quotedStanzaId: obj?.quotedStanzaID ? obj?.quotedStanzaID : undefined,\n    mediaData: window.WAPI._serializeRawObj(obj?.mediaData),\n    caption: obj?.caption,\n    deprecatedMms3Url: obj?.deprecatedMms3Url,\n    directPath: obj?.directPath,\n    encFilehash: obj?.encFilehash,\n    filehash: obj?.filehash,\n    filename: obj?.filename,\n    mimetype: obj?.mimetype,\n    clientUrl: obj?.clientUrl,\n    mediaKey: obj?.mediaKey,\n    size: obj?.size,\n    t: obj?.t,\n    isNewMsg: obj?.isNewMsg,\n    linkPreview: obj?.linkPreview,\n    text: obj?.text,\n    height: obj?.height,\n    width: obj?.width,\n    self: obj?.self,\n    initialPageSize: obj?.initialPageSize,\n    lat: obj?.lat ? obj.lat : undefined,\n    lng: obj?.lng ? obj.lng : undefined,\n    ack: obj?.ack,\n    scanLengths: null,\n    scansSidecar: null,\n    streamingSidecar: null,\n    waveform: null,\n    replyButtons: null,\n    dynamicReplyButtons: null,\n    buttons: null,\n    hydratedButtons: null,\n    isGroupMsg:\n      obj?.to?.server == 'g.us' || obj?.from?.server == 'g.us' ? true : false,\n    reply: (body) => window.WAPI.reply(_chat.id._serialized, body, obj)\n  });\n};\n","export const _serializeProfilePicThumb = (obj) => {\n  if (obj == undefined) {\n    return null;\n  }\n\n  return Object.assign(\n    {},\n    {\n      eurl: obj?.eurl,\n      id: obj?.id,\n      img: obj?.img,\n      imgFull: obj?.imgFull,\n      raw: obj?.raw,\n      tag: obj?.tag\n    }\n  );\n};\n","export const _serializeRawObj = (obj) => {\n  if (obj?.toJSON) {\n    obj.waveform = null;\n    return obj.toJSON();\n  }\n  return {};\n};\n","export const _serializeMeObj = async (obj) => {\n  if (obj == undefined) {\n    return null;\n  }\n\n  const connection = window.Store.State?.Socket?.state\n    ? window.Store?.State?.Socket?.state\n    : undefined;\n\n  const newObj = {};\n\n  console.log(newObj.id);\n\n  Object.assign(newObj, {\n    id: obj.id ? obj.id : null,\n    displayName: obj.displayName ? obj.displayName : null,\n    verifiedName: obj.verifiedName ? obj.verifiedName : null,\n    searchName: obj.searchName ? obj.searchName : null,\n    pushname: obj.pushname ? obj.pushname : null,\n    notifyName: obj.notifyName ? obj.notifyName : null,\n    isBusiness: obj.isBusiness ? obj.isBusiness : null,\n    formattedUser: obj.formattedUser ? obj.formattedUser : null,\n    ...obj.profilePicThumb?.attributes,\n    ...obj.businessProfile?.attributes\n  });\n  return newObj;\n};\n","/* eslint-disable prettier/prettier */\nconst { storeObjects } = require('./store-objects');\nexport async function getStore(modules) {\n  let foundCount = 0;\n  const neededObjects = storeObjects;\n  for (let idx in modules) {\n    if (typeof modules[idx] === 'object' && modules[idx] !== null) {\n      neededObjects.forEach((needObj) => {\n        if (!needObj.conditions || needObj.foundedModule) return;\n        // console.log(needObj.id);\n        let neededModule = needObj.conditions(modules[idx]);\n        if (neededModule !== null) {\n          foundCount++;\n          needObj.foundedModule = neededModule;\n        }\n      });\n      if (foundCount == neededObjects.length) {\n        break;\n      }\n    }\n  }\n\n  neededObjects.forEach((needObj) => {\n    if (needObj.foundedModule) {\n      if (needObj.id !== \"module\") {\n        window.Store[needObj.id] = needObj.foundedModule;\n      }\n    }\n  });\n\n  const module = (neededObjects.filter((e) => e.id === 'module'))[0].foundedModule;\n  Object.keys(module).forEach((key) => {\n    if (![\n      'Chat',\n    ].includes(key)) {\n      if (window.Store[key]) {\n        window.Store[key + '_'] = module[key];\n      } else {\n        window.Store[key] = module[key];\n      }\n    }\n  });\n\n  if (window.Store.MediaCollection) {\n    window.Store.MediaCollection.prototype.processFiles =\n      window.Store.MediaCollection.prototype.processFiles ||\n      window.Store.MediaCollection.prototype.processAttachments;\n  }\n\n  window.mR = async (find) => {\n    return new Promise((resolve) => {\n      const parasite = `parasite${Date.now()}`;\n      window[\"webpackChunkwhatsapp_web_client\"].push([\n        [parasite],\n        {},\n        function (o) {\n          let modules = [];\n          for (let idx in o.m) {\n            modules.push(o(idx));\n          }\n          for (let idx in modules) {\n            if (typeof modules[idx] === \"object\" && modules[idx] !== null) {\n              let module = modules[idx];\n\n              var evet = module[find] ? module : null;\n              if (evet) {\n                window[find] = evet;\n                return resolve(window[find]);\n              }\n            }\n          }\n\n        },\n      ]);\n    });\n  }\n\n  window.injectToFunction = (selector, callback) => {\n    (async () => {\n      const Nr = await window.mR(selector);\n      const oldFunct = Nr[selector];\n      //console.log(selector, oldFunct);\n      Nr[selector] = (...args) => callback(oldFunct, args);\n    })();\n  };\n\n  window.injectToFunction('createMsgProtobuf', (func, args) => {\n    const proto = func(...args);\n    const [message] = args;\n\n    if (proto.listMessage) {\n      proto.viewOnceMessage = {\n        message: {\n          listMessage: proto.listMessage\n        }\n      };\n      delete proto.listMessage;\n    }\n\n    if (proto.buttonsMessage) {\n      proto.viewOnceMessage = {\n        message: {\n          buttonsMessage: proto.buttonsMessage,\n        },\n      };\n      delete proto.buttonsMessage;\n    }\n\n    if (proto.templateMessage) {\n      proto.viewOnceMessage = {\n        message: {\n          templateMessage: proto.templateMessage,\n        },\n      };\n      delete proto.templateMessage;\n    }\n\n    if (message.hydratedButtons) {\n      const hydratedTemplate = {\n        hydratedButtons: message.hydratedButtons,\n      };\n\n      if (message.footer) {\n        hydratedTemplate.hydratedFooterText = message.footer;\n      }\n\n      if (message.caption) {\n        hydratedTemplate.hydratedContentText = message.caption;\n      }\n\n      if (message.title) {\n        hydratedTemplate.hydratedTitleText = message.title;\n      }\n\n      if (proto.conversation) {\n        hydratedTemplate.hydratedContentText = proto.conversation;\n        delete proto.conversation;\n      } else if (proto.extendedTextMessage?.text) {\n        hydratedTemplate.hydratedContentText = proto.extendedTextMessage.text;\n        delete proto.extendedTextMessage;\n      } else {\n        // Search media part in message\n        let found;\n        const mediaPart = [\n          'documentMessage',\n          'imageMessage',\n          'locationMessage',\n          'videoMessage',\n        ];\n        for (const part of mediaPart) {\n          if (part in proto) {\n            found = part;\n            break;\n          }\n        }\n\n        if (!found) {\n          return proto;\n        }\n\n        // Media message doesn't allow title\n        hydratedTemplate[found] = proto[found];\n\n        // Copy title to caption if not setted\n        if (\n          hydratedTemplate.hydratedTitleText &&\n          !hydratedTemplate.hydratedContentText\n        ) {\n          hydratedTemplate.hydratedContentText =\n            hydratedTemplate.hydratedTitleText;\n        }\n\n        // Remove title for media messages\n        delete hydratedTemplate.hydratedTitleText;\n\n        if (found === 'locationMessage') {\n          if (\n            !hydratedTemplate.hydratedContentText &&\n            (proto[found].name || proto[found].address)\n          ) {\n            hydratedTemplate.hydratedContentText =\n              proto[found].name && proto[found].address\n                ? `${proto[found].name}\\n${proto[found].address}`\n                : proto[found].name || proto[found].address || '';\n          }\n        }\n\n        // Ensure a content text;\n        hydratedTemplate.hydratedContentText =\n          hydratedTemplate.hydratedContentText || ' ';\n\n        delete proto[found];\n      }\n\n      proto.templateMessage = {\n        hydratedTemplate,\n      };\n    }\n\n    return proto;\n  });\n\n  window.injectToFunction('mediaTypeFromProtobuf', (func, ...args) => {\n    const [proto] = args;\n    if (proto.viewOnceMessage?.message.templateMessage.hydratedTemplate) {\n      return func(proto.viewOnceMessage?.message.templateMessage.hydratedTemplate);\n    }\n    return func(...args);\n  });\n\n  window.injectToFunction('typeAttributeFromProtobuf', (func, args) => {\n    const [proto] = args;\n    console.log(`proto`, proto);\n\n    if (proto.viewOnceMessage?.message.listMessage) {\n      return 'text';\n    }\n\n    if (proto.imageMessage || proto.audioMessage) {\n      return 'text';\n    }\n\n    if (\n      proto.viewOnceMessage?.message?.buttonsMessage?.headerType === 1 ||\n      proto.viewOnceMessage?.message?.buttonsMessage?.headerType === 2\n    ) {\n      return 'text';\n    }\n\n    if (proto.viewOnceMessage?.message.templateMessage.hydratedTemplate) {\n      return 'text';\n    }\n\n    return 'text';\n  });\n\n  window.injectToFunction('createFanoutMsgStanza', async (func, args) => {\n    const [, proto] = args;\n\n    let buttonNode = null;\n\n    if (proto.viewOnceMessage?.message.listMessage) {\n      const listType = proto.viewOnceMessage?.message.listMessage?.listType || 0;\n\n      const types = ['unknown', 'single_select', 'product_list'];\n\n      buttonNode = Store.Websocket.smax('list', {\n        v: '2',\n        type: types[listType],\n      });\n    }\n\n    const node = await func(...args);\n\n    if (!buttonNode) {\n      return node;\n    }\n\n    const content = node.content;\n\n    let bizNode = content.find((c) => c.tag === 'biz');\n\n    if (!bizNode) {\n      bizNode = Store.Websocket.smax('biz', {}, null);\n      content.push(bizNode);\n    }\n\n    let hasButtonNode = false;\n\n    if (Array.isArray(bizNode.content)) {\n      hasButtonNode = !!bizNode.content.find((c) => c.tag === buttonNode?.tag);\n    } else {\n      bizNode.content = [];\n    }\n\n\n    if (!hasButtonNode) {\n      bizNode.content.push(buttonNode);\n    }\n\n    return node;\n  });\n}\n\n","export const storeObjects = [\n  {\n    id: 'module',\n    conditions: (module) =>\n      module.default && module.default.Chat && module.default.Msg\n        ? module.default\n        : null,\n  },\n  {\n    id: 'replyButton',\n    conditions: (module) =>\n      module.__esModule &&\n        module.default &&\n        module.default.prototype &&\n        module.default.prototype.proxyName === 'replyButton'\n        ? module.default\n        : null,\n  },\n  {\n    id: 'templateButton',\n    conditions: (module) =>\n      module.__esModule &&\n        module.default &&\n        module.default.prototype &&\n        module.default.prototype.proxyName === 'templateButton'\n        ? module.default\n        : null,\n  },\n  {\n    id: 'TemplateButtonCollection',\n    conditions: (module) =>\n      module.TemplateButtonCollection ? module.TemplateButtonCollection : null,\n  },\n  {\n    id: 'ButtonCollection',\n    conditions: (module) =>\n      module.ButtonCollection ? module.ButtonCollection : null,\n  },\n  {\n    id: 'MediaCollection',\n    conditions: (module) =>\n      module.default &&\n        module.default.prototype &&\n        (module.default.prototype.processFiles !== undefined ||\n          module.default.prototype.processAttachments !== undefined)\n        ? module.default\n        : null,\n  },\n  { id: 'MediaProcess', conditions: (module) => (module.BLOB ? module : null) },\n  {\n    id: 'ChatUtil',\n    conditions: (module) => (module.sendClear ? module : null),\n  },\n  {\n    id: 'GroupInvite',\n    conditions: (module) =>\n      module.sendQueryGroupInviteCode && module.sendRevokeGroupInviteCode\n        ? module\n        : null,\n  },\n  {\n    id: 'Wap',\n    conditions: (module) => (module.createGroup ? module : null),\n  },\n  {\n    id: 'ServiceWorker',\n    conditions: (module) =>\n      module.default && module.default.killServiceWorker ? module : null,\n  },\n  {\n    id: 'WapDelete',\n    conditions: (module) =>\n      module.sendConversationDelete && module.sendConversationDelete.length == 2\n        ? module\n        : null,\n  },\n  {\n    id: 'Conn',\n    conditions: (module) =>\n      module.default && module.default.ref && module.default.refTTL\n        ? module.default\n        : null,\n  },\n  {\n    id: 'WapQuery',\n    conditions: (module) =>\n      module.default &&\n        module.default.contactFindQuery &&\n        module.default.queryExist\n        ? module.default\n        : null,\n  },\n  {\n    id: 'CryptoLib',\n    conditions: (module) => (module.decryptE2EMedia ? module : null),\n  },\n  {\n    id: 'OpenChat',\n    conditions: (module) =>\n      module.default &&\n        module.default.prototype &&\n        module.default.prototype.openChat\n        ? module.default\n        : null,\n  },\n  {\n    id: 'UserConstructor',\n    conditions: (module) =>\n      module.default &&\n        module.default.prototype &&\n        module.default.prototype.isServer &&\n        module.default.prototype.isUser\n        ? module.default\n        : null,\n  },\n  {\n    id: 'SendTextMsgToChat',\n    conditions: (module) =>\n      module.sendTextMsgToChat ? module.sendTextMsgToChat : null,\n  },\n  {\n    id: 'Archive',\n    conditions: (module) => (module.setArchive ? module : null),\n  },\n  {\n    id: 'pinChat',\n    conditions: (module) => (module.setPin ? module : null),\n  },\n  {\n    id: 'sendDelete',\n    conditions: (module) => (module.sendDelete ? module.sendDelete : null),\n  },\n  {\n    id: 'addAndSendMsgToChat',\n    conditions: (module) =>\n      module.addAndSendMsgToChat ? module.addAndSendMsgToChat : null,\n  },\n  {\n    id: 'sendMsgToChat',\n    conditions: (module) =>\n      module.sendMsgToChat ? module.sendMsgToChat : null,\n  },\n  {\n    id: 'Catalog',\n    conditions: (module) => (module.Catalog ? module.Catalog : null),\n  },\n  {\n    id: 'Perfil',\n    conditions: (module) =>\n      module.__esModule === true &&\n        module.setPushname &&\n        !module.getComposeContents\n        ? module\n        : null,\n  },\n  {\n    id: 'MsgKey',\n    conditions: (module) =>\n      module.default &&\n        module.default.toString &&\n        typeof module.default.toString === 'function' &&\n        module.default.toString().includes('MsgKey error: obj is null/undefined')\n        ? module.default\n        : null,\n  },\n  {\n    id: 'Parser',\n    conditions: (module) =>\n      module.convertToTextWithoutSpecialEmojis ? module.default : null,\n  },\n  {\n    id: 'Builders',\n    conditions: (module) =>\n      module.TemplateMessage && module.HydratedFourRowTemplate ? module : null,\n  },\n  {\n    id: 'Me',\n    conditions: (module) =>\n      module.Conn && module.ConnImpl ? module.Conn : null,\n  },\n  {\n    id: 'CallUtils',\n    conditions: (module) =>\n      module.sendCallEnd && module.parseCall ? module : null,\n  },\n  {\n    id: 'Identity',\n    conditions: (module) =>\n      module.queryIdentity && module.updateIdentity ? module : null,\n  },\n  {\n    id: 'MyStatus',\n    conditions: (module) =>\n      module.getStatus && module.setMyStatus ? module : null,\n  },\n  {\n    id: 'ChatStates',\n    conditions: (module) =>\n      module.sendChatStatePaused &&\n        module.sendChatStateRecording &&\n        module.sendChatStateComposing\n        ? module\n        : null,\n  },\n  {\n    id: 'GroupActions',\n    conditions: (module) =>\n      module.sendExitGroup && module.localExitGroup ? module : null,\n  },\n  {\n    id: 'Features',\n    conditions: (module) =>\n      module.FEATURE_CHANGE_EVENT && module.features ? module : null,\n  },\n  {\n    id: 'MessageUtils',\n    conditions: (module) =>\n      module.storeMessages && module.appendMessage ? module : null,\n  },\n  {\n    id: 'createMessageKey',\n    conditions: (module) =>\n      module.createMessageKey && module.createDeviceSentMessage\n        ? module.createMessageKey\n        : null,\n  },\n  {\n    id: 'WidFactory',\n    conditions: (module) =>\n      module.isWidlike && module.createWid && module.createWidFromWidLike\n        ? module\n        : null,\n  },\n  {\n    id: 'Base',\n    conditions: (module) =>\n      module.setSubProtocol && module.binSend && module.actionNode\n        ? module\n        : null,\n  },\n  {\n    id: 'Base2',\n    conditions: (module) =>\n      module.supportsFeatureFlags &&\n        module.parseMsgStubProto &&\n        module.binSend &&\n        module.subscribeLiveLocation\n        ? module\n        : null,\n  },\n  {\n    id: 'MaybeMeUser',\n    conditions: (module) => (module.getMaybeMeUser ? module : null),\n  },\n  {\n    id: 'Sticker',\n    conditions: (module) =>\n      module.StickerCollection && module.default ? module : null,\n  },\n  {\n    id: 'MediaObject',\n    conditions: (module) =>\n      module.getOrCreateMediaObject && module.disassociateMediaFromStickerPack\n        ? module\n        : null,\n  },\n  {\n    id: 'MediaUpload',\n    conditions: (module) =>\n      module.default && module.default.mediaUpload ? module.default : null,\n  },\n  {\n    id: 'UploadUtils',\n    conditions: (module) =>\n      module.default && module.default.encryptAndUpload ? module.default : null,\n  },\n  {\n    id: 'Cmd',\n    conditions: (module) => (module.CmdImpl && module.Cmd ? module.Cmd : null),\n  },\n  {\n    id: 'ReadSeen',\n    conditions: (module) => (module.sendSeen ? module : null),\n  },\n  {\n    id: 'Block',\n    conditions: (module) =>\n      module.blockContact && module.unblockContact ? module : null,\n  },\n  {\n    id: 'BlockList',\n    conditions: (module) => (module.BlocklistCollection ? module : null),\n  },\n  {\n    id: 'Theme',\n    conditions: (module) =>\n      module.getTheme && module.setTheme ? module : null,\n  },\n  {\n    id: 'Vcard',\n    conditions: (module) => (module.vcardFromContactModel ? module : null),\n  },\n  {\n    id: 'Profile',\n    conditions: (module) =>\n      module.sendSetPicture && module.requestDeletePicture ? module : null,\n  },\n  {\n    id: 'SendMute',\n    conditions: (module) => (module.sendConversationMute ? module : null),\n  },\n  {\n    id: 'Validators',\n    conditions: (module) => (module.findLinks ? module : null),\n  },\n  {\n    id: 'Wap2',\n    conditions: (module) => (module.Wap ? module : null),\n  },\n  {\n    id: 'genId',\n    conditions: (module) =>\n      module.default &&\n        typeof module.default === 'function' &&\n        module.default.toString().match(/crypto/)\n        ? module\n        : null,\n  },\n  {\n    id: 'GroupMetadata',\n    conditions: (module) =>\n      module.default && module.default.handlePendingInvite ? module : null,\n  },\n  {\n    id: 'i10n',\n    conditions: (module) =>\n      module.default && module.default.downloadAppLocale\n        ? module.default\n        : null,\n  },\n  {\n    id: 'NetworkStatus',\n    conditions: (module) =>\n      module.default && module.default._logOnlineOffline\n        ? module.default\n        : null,\n  },\n  {\n    id: 'Stream',\n    conditions: (module) =>\n      module.Stream && module.StreamInfo ? module.Stream : null,\n  },\n  {\n    id: 'State',\n    conditions: (module) => (module.Socket ? module : null),\n  },\n  {\n    id: 'ws2',\n    conditions: (module) =>\n      module.default && module.default.destroyStorage ? module.default : null,\n  },\n  {\n    id: 'Login',\n    conditions: (module) => (module.startLogout ? module : null),\n  },\n  {\n    id: 'BlobCache',\n    conditions: (module) =>\n      module.default && module.default.getOrCreateURL ? module.default : null,\n  },\n  {\n    id: 'Presence',\n    conditions: (module) =>\n      module.setPresenceAvailable && module.setPresenceUnavailable\n        ? module\n        : null,\n  },\n  {\n    id: 'PresenceCollection',\n    conditions: (module) =>\n      module.default && module.PresenceCollection ? module.default : null,\n  },\n  {\n    id: 'chatOptions',\n    conditions: (module) =>\n      module.default && module.default.archiveChat ? module.default : null,\n  },\n  {\n    id: 'blob',\n    conditions: (module) =>\n      module.default && module.default.createFromData ? module : null,\n  },\n  {\n    id: 'GroupDesc',\n    conditions: (module) => (module.setGroupDesc ? module : null),\n  },\n  {\n    id: 'infoGroup',\n    conditions: (module) => (module.queryGroupInviteInfo ? module : null),\n  },\n  {\n    id: 'GroupTitle',\n    conditions: (module) => (module.sendSetGroupSubject ? module : null),\n  },\n  {\n    id: 'GroupSettings',\n    conditions: (module) => (module.sendSetGroupProperty ? module : null),\n  },\n  {\n    id: 'createGroup',\n    conditions: (module) =>\n      module.createGroup && module.sendForNeededAddRequest\n        ? module.createGroup\n        : null,\n  },\n  {\n    id: 'SetStatusChat',\n    conditions: (module) =>\n      module.markComposing && module.markRecording ? module : null,\n  },\n  {\n    id: 'Reactions',\n    conditions: (module) => (module.sendReactionToMsg ? module : null),\n  },\n  {\n    id: 'CheckWid',\n    conditions: (module) => (module.validateWid ? module : null),\n  },\n  {\n    id: 'ProfileBusiness',\n    conditions: (module) => (module.BUSINESS_URL_DOMAIN ? module : null),\n  },\n  {\n    id: 'Contacts',\n    conditions: (module) => (module.ContactCollection ? module : null),\n  },\n  {\n    id: 'onlySendAdmin',\n    conditions: (module) =>\n      module.setGroupProperty && module.setGroupDescription ? module : null,\n  },\n  {\n    id: 'SendCommunity',\n    conditions: (module) => (module.sendCreateCommunity ? module : null),\n  },\n  {\n    id: 'Websocket',\n    conditions: (module) => (module.smax ? module : null),\n  },\n];\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {\n  addParticipant,\n  areAllMessagesLoaded,\n  asyncLoadAllEarlierMessages,\n  blockContact,\n  unblockContact,\n  getBlockList,\n  clearChatMessages,\n  createGroup,\n  deleteConversation,\n  deleteMessages,\n  demoteParticipant,\n  downloadFile,\n  encryptAndUploadFile,\n  forwardMessages,\n  getAllChatIds,\n  getAllChats,\n  getAllChatsWithMessages,\n  getAllChatsWithNewMessages,\n  getAllContacts,\n  getAllGroupMetadata,\n  getAllGroups,\n  getAllMessagesInChat,\n  getAllUnreadMessages,\n  getBatteryLevel,\n  getChat,\n  getChatById,\n  getChatByName,\n  getCommonGroups,\n  getContact,\n  getGroupAdmins,\n  getGroupInviteLink,\n  getGroupParticipant,\n  getHost,\n  getMe,\n  getMessageById,\n  getMyContacts,\n  getNewId,\n  getNewMessageId,\n  getNumberProfile,\n  getProfilePicFromServer,\n  getStatus,\n  getUnreadMessages,\n  hasUndreadMessages,\n  isConnected,\n  isLoggedIn,\n  leaveGroup,\n  loadAllEarlierMessages,\n  loadAndGetAllMessagesInChat,\n  loadChatEarlierMessages,\n  loadEarlierMessagesTillDate,\n  processFiles,\n  processMessageObj,\n  promoteParticipant,\n  removeParticipant,\n  reply,\n  revokeGroupInviteLink,\n  sendMessageOptions,\n  sendChatstate,\n  sendContactVcard,\n  sendFile,\n  sendPtt,\n  sendImage,\n  sendImageAsSticker,\n  sendImageWithProduct,\n  sendLocation,\n  sendMessage,\n  sendMessage2,\n  sendMessageWithTags,\n  sendMessageWithThumb,\n  sendSticker,\n  sendVideoAsGif,\n  setMyName,\n  setMyStatus,\n  startTyping,\n  startRecording,\n  markPaused,\n  clearPresence,\n  presenceAvailable,\n  presenceUnavailable,\n  openChat,\n  openChatAt,\n  getGroupInfoFromInviteLink,\n  joinGroup,\n  markUnseenMessage,\n  markMarkSeenMessage,\n  getTheme,\n  setTheme,\n  restartService,\n  killServiceWorker,\n  sendLinkPreview,\n  scope,\n  getchatId,\n  sendExist,\n  returnChat,\n  sendContactVcardList,\n  setProfilePic,\n  pinChat,\n  getSessionTokenBrowser,\n  sendMute,\n  getListMute,\n  interfaceMute,\n  downloadMedia,\n  checkIdMessage,\n  returnReply,\n  logout,\n  setPresenceOnline,\n  setPresenceOffline,\n  archiveChat,\n  setNewMessageId,\n  setGroupDescription,\n  sendButtons,\n  setGroupTitle,\n  setGroupSettings,\n  getAllMessagesDate,\n  checkNumberStatus,\n  sendCheckType,\n  sendListMenu,\n  getStateConnection,\n  isBeta,\n  sendReactions,\n  addChatWapi,\n  sendTypeButtons,\n  onlySendAdmin,\n  createCommunity\n} from './functions';\nimport {\n  base64ToFile,\n  generateMediaKey,\n  getFileHash,\n  arrayBufferToBase64,\n  sleep,\n  injectConfig\n} from './helper';\nimport {\n  addNewMessagesListener,\n  addOnAddedToGroup,\n  addOnLiveLocation,\n  addOnNewAcks,\n  addOnParticipantsChange,\n  addOnStateChange,\n  allNewMessagesListener,\n  initNewMessagesListener,\n  addOnStreamChange,\n  addonFilePicThumb,\n  addonUnreadMessage,\n  addonChatState,\n  addOnStream\n} from './listeners';\nimport {\n  _serializeChatObj,\n  _serializeContactObj,\n  _serializeMessageObj,\n  _serializeProfilePicThumb,\n  _serializeRawObj,\n  _serializeMeObj,\n  _serializeForcing\n} from './serializers';\nimport { getStore } from './store/get-store';\n\nwindow.Store = {};\n\nfunction injectParasite() {\n  if (\n    window.webpackChunkwhatsapp_web_client &&\n    Array.isArray(window.webpackChunkwhatsapp_web_client)\n  ) {\n    const parasite = injectConfig.parasite;\n    window[injectConfig.webpack].push([\n      [parasite],\n      {},\n      async function (o) {\n        let modules = [];\n        for (let idx in o.m) {\n          modules.push(o(idx));\n        }\n        getStore(modules);\n      }\n    ]);\n  }\n}\n\n(async () => {\n  window[injectConfig.webpack] = window[injectConfig.webpack] || [];\n  while (true) {\n    const last = window[injectConfig.webpack].length - 1;\n    if (\n      !window[injectConfig.webpack][last][0].includes(injectConfig.parasite) &&\n      document.querySelectorAll('#app .two').length\n    ) {\n      injectParasite();\n      break;\n    }\n    await sleep(2000);\n  }\n})();\n\nif (typeof window.WAPI === 'undefined') {\n  window.WAPI = {};\n\n  //Community\n  window.WAPI.createCommunity = createCommunity;\n\n  //others\n  window.WAPI.interfaceMute = interfaceMute;\n  window.WAPI.checkIdMessage = checkIdMessage;\n  window.WAPI.returnReply = returnReply;\n  window.WAPI.getStore = getStore;\n  window.WAPI.setNewMessageId = setNewMessageId;\n  window.WAPI.sendButtons = sendButtons;\n  window.WAPI.checkNumberStatus = checkNumberStatus;\n  window.WAPI.sendCheckType = sendCheckType;\n  window.WAPI.sendListMenu = sendListMenu;\n  window.WAPI.getStateConnection = getStateConnection;\n  window.WAPI.sleep = sleep;\n  window.WAPI.isBeta = isBeta;\n\n  //Profile\n  window.WAPI.setProfilePic = setProfilePic;\n  window.WAPI.getSessionTokenBrowser = getSessionTokenBrowser;\n\n  // Chat Functions\n  window.WAPI.scope = scope;\n  window.WAPI.getchatId = getchatId;\n  window.WAPI.sendExist = sendExist;\n  window.WAPI.returnChat = returnChat;\n  window.WAPI.pinChat = pinChat;\n  window.WAPI.archiveChat = archiveChat;\n\n  // Layout Functions\n  window.WAPI.setTheme = setTheme;\n  window.WAPI.getTheme = getTheme;\n\n  // Serializers assignations\n  window.WAPI._serializeRawObj = _serializeRawObj;\n  window.WAPI._serializeChatObj = _serializeChatObj;\n  window.WAPI._serializeContactObj = _serializeContactObj;\n  window.WAPI._serializeMessageObj = _serializeMessageObj;\n  window.WAPI._serializeProfilePicThumb = _serializeProfilePicThumb;\n  window.WAPI._serializeMeObj = _serializeMeObj;\n  window.WAPI._serializeForcing = _serializeForcing;\n\n  window.WAPI.onlySendAdmin = onlySendAdmin;\n\n  // Group Functions\n  window.WAPI.createGroup = createGroup;\n  window.WAPI.leaveGroup = leaveGroup;\n  window.WAPI.revokeGroupInviteLink = revokeGroupInviteLink;\n  window.WAPI.getGroupInviteLink = getGroupInviteLink;\n  window.WAPI.getGroupInfoFromInviteLink = getGroupInfoFromInviteLink;\n  window.WAPI.getGroupAdmins = getGroupAdmins;\n  window.WAPI.removeParticipant = removeParticipant;\n  window.WAPI.addParticipant = addParticipant;\n  window.WAPI.promoteParticipant = promoteParticipant;\n  window.WAPI.demoteParticipant = demoteParticipant;\n  window.WAPI.joinGroup = joinGroup;\n  window.WAPI.setGroupDescription = setGroupDescription;\n  window.WAPI.setPresenceOnline = setPresenceOnline;\n  window.WAPI.setPresenceOffline = setPresenceOffline;\n  window.WAPI.setGroupTitle = setGroupTitle;\n  window.WAPI.setGroupSettings = setGroupSettings;\n\n  // Chatting functions\n  window.WAPI.sendChatstate = sendChatstate;\n  window.WAPI.sendMessageWithThumb = sendMessageWithThumb;\n  window.WAPI.processMessageObj = processMessageObj;\n  window.WAPI.sendMessageWithTags = sendMessageWithTags;\n  window.WAPI.sendMessage = sendMessage;\n  window.WAPI.sendMessage2 = sendMessage2;\n  window.WAPI.deleteConversation = deleteConversation;\n  window.WAPI.deleteMessages = deleteMessages;\n  window.WAPI.clearChatMessages = clearChatMessages;\n  window.WAPI.sendImage = sendImage;\n  window.WAPI.sendPtt = sendPtt;\n  window.WAPI.sendFile = sendFile;\n  window.WAPI.setMyName = setMyName;\n  window.WAPI.setMyStatus = setMyStatus;\n  window.WAPI.sendVideoAsGif = sendVideoAsGif;\n  window.WAPI.processFiles = processFiles;\n  window.WAPI.sendImageWithProduct = sendImageWithProduct;\n  window.WAPI.sendContactVcard = sendContactVcard;\n  window.WAPI.sendContactVcardList = sendContactVcardList;\n  window.WAPI.forwardMessages = forwardMessages;\n  window.WAPI.reply = reply;\n  window.WAPI._sendSticker = sendSticker;\n  window.WAPI.encryptAndUploadFile = encryptAndUploadFile;\n  window.WAPI.sendImageAsSticker = sendImageAsSticker;\n  window.WAPI.sendImageAsStickerGif = sendImageAsSticker;\n  window.WAPI.startTyping = startTyping;\n  window.WAPI.startRecording = startRecording;\n  window.WAPI.markPaused = markPaused;\n  window.WAPI.clearPresence = clearPresence;\n  window.WAPI.presenceAvailable = presenceAvailable;\n  window.WAPI.presenceUnavailable = presenceUnavailable;\n  window.WAPI.sendLocation = sendLocation;\n  window.WAPI.openChat = openChat;\n  window.WAPI.openChatAt = openChatAt;\n  window.WAPI.markUnseenMessage = markUnseenMessage;\n  window.WAPI.markMarkSeenMessage = markMarkSeenMessage;\n  window.WAPI.sendLinkPreview = sendLinkPreview;\n  window.WAPI.sendMessageOptions = sendMessageOptions;\n  window.WAPI.getAllMessagesDate = getAllMessagesDate;\n  window.WAPI.sendReactions = sendReactions;\n  window.WAPI.addChatWapi = addChatWapi;\n  window.WAPI.sendTypeButtons = sendTypeButtons;\n\n  //////block functions\n  window.WAPI.blockContact = blockContact;\n  window.WAPI.unblockContact = unblockContact;\n  window.WAPI.getBlockList = getBlockList;\n\n  // Retrieving functions\n  window.WAPI.getAllContacts = getAllContacts;\n  window.WAPI.getMyContacts = getMyContacts;\n  window.WAPI.getContact = getContact;\n  window.WAPI.getAllChats = getAllChats;\n  window.WAPI.haveNewMsg = hasUndreadMessages;\n  window.WAPI.getAllChatsWithNewMsg = getAllChatsWithNewMessages;\n  window.WAPI.getAllChatIds = getAllChatIds;\n  window.WAPI.getAllUnreadMessages = getAllUnreadMessages;\n  window.WAPI.getAllChatsWithMessages = getAllChatsWithMessages;\n  window.WAPI.getAllGroups = getAllGroups;\n  window.WAPI.getChat = getChat;\n  window.WAPI.getStatus = getStatus;\n  window.WAPI.getChatByName = getChatByName;\n  window.WAPI.getNewId = getNewId;\n  window.WAPI.getChatById = getChatById;\n  window.WAPI.loadEarlierMessages = loadChatEarlierMessages;\n  window.WAPI.loadAllEarlierMessages = loadAllEarlierMessages;\n  window.WAPI.asyncLoadAllEarlierMessages = asyncLoadAllEarlierMessages;\n  window.WAPI.areAllMessagesLoaded = areAllMessagesLoaded;\n  window.WAPI.loadEarlierMessagesTillDate = loadEarlierMessagesTillDate;\n  window.WAPI.getAllGroupMetadata = getAllGroupMetadata;\n  window.WAPI.getGroupParticipant = getGroupParticipant;\n  window.WAPI.getAllMessagesInChat = getAllMessagesInChat;\n  window.WAPI.loadAndGetAllMessagesInChat = loadAndGetAllMessagesInChat;\n  window.WAPI.getUnreadMessages = getUnreadMessages;\n  window.WAPI.getCommonGroups = getCommonGroups;\n  window.WAPI.getProfilePicFromServer = getProfilePicFromServer;\n  window.WAPI.downloadFile = downloadFile;\n  window.WAPI.downloadMedia = downloadMedia;\n  window.WAPI.getNumberProfile = getNumberProfile;\n  window.WAPI.getMessageById = getMessageById;\n  window.WAPI.getNewMessageId = getNewMessageId;\n  window.WAPI.getFileHash = getFileHash;\n  window.WAPI.generateMediaKey = generateMediaKey;\n  window.WAPI.arrayBufferToBase64 = arrayBufferToBase64;\n  window.WAPI.getListMute = getListMute;\n\n  // Device functions\n  window.WAPI.getHost = getHost;\n  window.WAPI.getMe = getMe;\n  window.WAPI.isConnected = isConnected;\n  window.WAPI.isLoggedIn = isLoggedIn;\n  window.WAPI.getBatteryLevel = getBatteryLevel;\n  window.WAPI.base64ImageToFile = base64ToFile;\n  window.WAPI.base64ToFile = base64ToFile;\n  window.WAPI.restartService = restartService;\n  window.WAPI.killServiceWorker = killServiceWorker;\n  window.WAPI.sendMute = sendMute;\n\n  // Listeners initialization\n  window.WAPI._newMessagesQueue = [];\n  window.WAPI._newMessagesBuffer =\n    sessionStorage.getItem('saved_msgs') != null\n      ? JSON.parse(sessionStorage.getItem('saved_msgs'))\n      : [];\n  window.WAPI._newMessagesDebouncer = null;\n  window.WAPI._newMessagesCallbacks = [];\n\n  // Listeners\n  window.addEventListener('unload', window.WAPI._unloadInform, false);\n  window.addEventListener('beforeunload', window.WAPI._unloadInform, false);\n  window.addEventListener('pageunload', window.WAPI._unloadInform, false);\n  // On-work below:\n\n  /**\n   * New version of @tag message\n   */\n  window.WAPI.sendMessageMentioned = async function (\n    chatId,\n    message,\n    mentioned\n  ) {\n    if (!Array.isArray(mentioned)) {\n      mentioned = [mentioned];\n    }\n\n    const chat = WAPI.getChat(chatId);\n    const users = await Store.Contact.serialize().filter((x) =>\n      mentioned.includes(x.id.user)\n    );\n\n    chat.sendMessage(message, {\n      linkPreview: null,\n      mentionedJidList: users.map((u) => u.id),\n      quotedMsg: null,\n      quotedMsgAdminGroupJid: null\n    });\n  };\n\n  window.WAPI.getProfilePicSmallFromId = async function (id) {\n    return await window.Store.ProfilePicThumb.find(id).then(\n      async function (d) {\n        if (d.img !== undefined) {\n          return await window.WAPI.downloadFileWithCredentials(d.img);\n        } else {\n          return false;\n        }\n      },\n      function (e) {\n        return false;\n      }\n    );\n  };\n\n  window.WAPI.getProfilePicFromId = async function (id) {\n    return await window.Store.ProfilePicThumb.find(id).then(\n      async function (d) {\n        if (d.imgFull !== undefined) {\n          return await window.WAPI.downloadFileWithCredentials(d.imgFull);\n        } else {\n          return false;\n        }\n      },\n      function (e) {\n        return false;\n      }\n    );\n  };\n\n  window.WAPI.downloadFileWithCredentials = async function (url) {\n    if (!axios || !url) return false;\n    const ab = (\n      await axios.get(url, {\n        responseType: 'arraybuffer'\n      })\n    ).data;\n    return btoa(\n      new Uint8Array(ab).reduce(\n        (data, byte) => data + String.fromCharCode(byte),\n        ''\n      )\n    );\n  };\n\n  window.WAPI.getChatIsOnline = async function (chatId) {\n    const chat = Store.Chat.get(chatId);\n    if (!chat) {\n      return false;\n    }\n    await chat.presence.subscribe();\n    return chat.presence.attributes.isOnline;\n  };\n\n  window.WAPI.getLastSeen = async function (chatId) {\n    const chat = Store.Chat.get(chatId);\n    if (!chat) {\n      return false;\n    }\n    await chat.presence.subscribe();\n    return chat.presence.chatstate.t || false;\n  };\n\n  window.WAPI.getWAVersion = function () {\n    return window.Debug.VERSION;\n  };\n\n  /**\n   * @param id The id of the conversation\n   * @param archive boolean true => archive, false => unarchive\n   * @return boolean true: worked, false: didnt work (probably already in desired state)\n   */\n  window.WAPI.archiveChat = async function (id, archive) {\n    return await Store.Archive.setArchive(Store.Chat.get(id), archive)\n      .then((_) => true)\n      .catch((_) => false);\n  };\n\n  window.WAPI.takeOver = async function () {\n    await window.Store.State.Socket.takeover();\n    return true;\n  };\n\n  /**\n   * Registers a callback to be called when your phone receives a new call request.\n   * @param callback - function - Callback function to be called upon a new call. returns a call object.\n   * @returns {boolean}\n   */\n  window.WAPI.onIncomingCall = function (callback) {\n    window.WAPI.waitForStore(['Call'], () => {\n      window.Store.Call.on('add', callback);\n    });\n    return true;\n  };\n\n  window.WAPI.setMessagesAdminsOnly = async function (chatId, option) {\n    await Store.WapQuery.setGroupProperty(chatId, 'announcement', option);\n    return true;\n  };\n\n  window.WAPI.logout = logout;\n  window.WAPI.storePromises = {};\n  window.WAPI.waitForStore = async function (stores, callback) {\n    if (!Array.isArray(stores)) {\n      stores = [stores];\n    }\n\n    const isUndefined = (p) => typeof window.Store[p] === 'undefined';\n    const missing = stores.filter(isUndefined);\n\n    const promises = missing.map((s) => {\n      if (!window.WAPI.storePromises[s]) {\n        window.WAPI.storePromises[s] = new Promise((resolve) => {\n          let time = null;\n          const listen = (e) => {\n            const name = (e && e.detail) || '';\n            if (name === s || !isUndefined(s)) {\n              window.removeEventListener('storeLoaded', listen);\n              clearInterval(time);\n              resolve(true);\n            }\n          };\n          window.addEventListener('storeLoaded', listen);\n          time = setInterval(listen, 1000);\n        });\n      }\n      return window.WAPI.storePromises[s];\n    });\n    const all = Promise.all(promises);\n\n    if (typeof callback === 'function') {\n      all.then(callback);\n    }\n\n    return await all;\n  };\n\n  addNewMessagesListener();\n  //allNewMessagesListener();\n\n  addonUnreadMessage();\n  addonFilePicThumb();\n  addonChatState();\n\n  addOnStreamChange();\n  addOnStateChange();\n  addOnStream();\n\n  initNewMessagesListener();\n\n  addOnNewAcks();\n  addOnAddedToGroup();\n  addOnLiveLocation();\n  addOnParticipantsChange();\n}\n"],"names":[],"sourceRoot":""}